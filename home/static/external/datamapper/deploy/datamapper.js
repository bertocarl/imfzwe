if(function(W,x){"use strict";function S(t,e,i){var a={};return a[t.key]=e,t.pos&&(a[t.pos]=i),a}function C(i,a){Object.keys(i.tags).forEach(function(e){var t=i.tags[e];G(t)?M(t,function(t){n(t,e,a)}):n(t,e,a)})}function A(t,e,i){var a,n=t._root;for(t._virts=[];n;)a=n.nextSibling,i?e.insertBefore(n,i._root):e.appendChild(n),t._virts.push(n),n=a}function L(t,e,i,a){for(var n,r=t._root,o=0;o<a;o++)n=r.nextSibling,e.insertBefore(r,i._root),r=n}function r(c,p,h){P(c,"each");var u,m=typeof I(c,"no-reorder")!==nt||P(c,"no-reorder"),f=F(c),g=J[f]||{tmpl:function(t){if(t.outerHTML)return t.outerHTML;var e=V("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(c)},v=e.test(f),b=c.parentNode,x=document.createTextNode(""),y=D(c),w="option"===f.toLowerCase(),k=[],M=[],T="VIRTUAL"==c.tagName;h=pt.loopKeys(h),b.insertBefore(x,c),p.one("before-mount",function(){c.parentNode.removeChild(c),b.stub&&(b=p.root)}).on("update",function(){var e=pt(h.val,p),t=document.createDocumentFragment();G(e)||(e=(u=e||!1)?Object.keys(e).map(function(t){return S(h,t,e[t])}):[]);for(var i=0,a=e.length;i<a;i++){var n=e[i],r=m&&typeof n==rt&&!u,o=M.indexOf(n),s=~o&&r?o:i,l=k[s];n=!u&&h.key?S(h,n,i):n,!r&&!l||r&&!~o||!l?((l=new E(g,{parent:p,isLoop:!0,hasImpl:!!J[f],root:v?b:c.cloneNode(),item:n},c.innerHTML)).mount(),T&&(l._root=l.root.firstChild),i!=k.length&&k[i]?(T?A(l,b,k[i]):b.insertBefore(l.root,k[i].root),M.splice(i,0,n)):T?A(l,t):t.appendChild(l.root),k.splice(i,0,l),s=i):l.update(n,!0),s!==i&&r&&k[i]&&(T?L(l,b,k[i],c.childNodes.length):b.insertBefore(l.root,k[i].root),h.pos&&(l[h.pos]=i),k.splice(i,0,k.splice(s,1)[0]),M.splice(i,0,M.splice(s,1)[0]),!y&&l.tags&&C(l,i)),l._item=n,H(l,"_parent",p)}if(function(t,e){for(var i,a=e.length,n=t.length;n<a;)i=e[--a],e.splice(a,1),i.unmount()}(e,k),b.insertBefore(t,x),w&&dt&&!b.multiple)for(var d=0;d<b.length;d++)if(b[d].__riot1374){b.selectedIndex=d,delete b[d].__riot1374;break}y&&(p.tags[f]=k),M=e.slice()})}function y(t,f,g,v){_(t,function(t){if(1==t.nodeType){if(t.isLoop=t.isLoop||t.parentNode&&t.parentNode.isLoop||I(t,"each")?1:0,g){var e=D(t);e&&!t.isLoop&&g.push((l=e,d={root:t,parent:f},c=t.innerHTML,p=f,h=new E(l,d,c),u=F(d.root),m=B(p),h.parent=m,h._parent=p,b(h,u,m),m!==p&&b(h,u,p),d.root.innerHTML="",h))}t.isLoop&&!v||(a=f,n=[],o=U(i=t),s=function(t){X(n,o)||(r=G(t),t?(!r||r&&!X(t,i))&&(r?t.push(i):a[o]=[t,i]):a[o]=i)},o&&(pt.hasExpr(o)?a.one("mount",function(){o=U(i),s(a[o])}):s(a[o])))}var i,a,n,r,o,s,l,d,c,p,h,u,m})}function w(t,i,a){function n(t,e,i){pt.hasExpr(e)&&a.push(R({dom:t,expr:e},i))}_(t,function(a){var t,e=a.nodeType;if(3==e&&"STYLE"!=a.parentNode.tagName&&n(a,a.nodeValue),1==e)return(t=I(a,"each"))?(r(a,i,t),!1):(M(a.attributes,function(t){var e=t.name,i=e.split("__")[1];if(n(a,t.value,{attr:i||e,bool:i}),i)return P(a,e),!1}),!D(a)&&void 0)})}function E(i,t,e){function a(){var i=p&&c?s:d||s;M(f.attributes,function(t){var e=t.value;l[O(t.name)]=pt.hasExpr(e)?pt(e,i):e}),M(Object.keys(v),function(t){l[O(t)]=pt(v[t],i)})}function n(t){s.update(t,!0)}function r(e){if(M(h,function(t){t[e?"mount":"unmount"]()}),d){var t=e?"on":"off";c?d[t]("unmount",s.unmount):d[t]("update",n)[t]("unmount",s.unmount)}}var o,s=$.observable(this),l=function(t){function e(){}return e.prototype=t,new e}(t.opts)||{},d=t.parent,c=t.isLoop,p=t.hasImpl,u=Y(t.item),m=[],h=[],f=t.root,g=f.tagName.toLowerCase(),v={},b=[];i.name&&f._tag&&f._tag.unmount(!0),this.isMounted=!1,f.isLoop=c,H(f._tag=this,"_riot_id",++Z),R(this,{parent:d,root:f,opts:l},u),H(this,"tags",{}),M(f.attributes,function(t){var e=t.value;pt.hasExpr(e)&&(v[t.name]=e)}),o=ht(i.tmpl,e),H(this,"update",function(t,e){return t=Y(t),s.parent&&c&&M(Object.keys(s.parent),function(t){var e=!st.test(t)&&X(b,t);(typeof s[t]===ot||e)&&(e||b.push(t),s[t]=s.parent[t])}),t&&z(u)&&(function(t){for(var e in u)typeof s[e]!==ot&&j(s,e)&&(s[e]=t[e])}(t),u=t),R(s,t),a(),s.trigger("update",t),h=s,M(m,function(t,e){var i,a,n,r,o=t.dom,s=t.attr,l=pt(t.expr,h),d=t.dom.parentNode;if(t.bool?l=!!l:null==l&&(l=""),t.value!==l){if(t.value=l,!s)return l+="",void(d&&("TEXTAREA"===d.tagName?(d.value=l,lt||(o.nodeValue=l)):o.nodeValue=l));if("value"===s)return void(o.value=l);if(P(o,s),T(l))a=l,r=h,(n=o)[s]=function(t){var e=r._parent,i=r._item;if(!i)for(;e&&!i;)i=e._item,e=e._parent;j(t=t||W.event,"currentTarget")&&(t.currentTarget=n),j(t,"target")&&(t.target=t.srcElement),j(t,"which")&&(t.which=t.charCode||t.keyCode),t.item=i,!0===a.call(r,t)||/radio|check/.test(n.type)||(t.preventDefault&&t.preventDefault(),t.returnValue=!1),t.preventUpdate||(i?B(e):r).update()};else if("if"==s){var c=t.stub,p=function(){k(o.parentNode,o,c)};l?c&&(k(c.parentNode,c,o),o.inStub=!1,q(o)||_(o,function(t){t._tag&&!t._tag.isMounted&&(t._tag.isMounted=!!t._tag.trigger("mount"))})):(c=t.stub=c||document.createTextNode(""),o.parentNode?p():(h.parent||h).one("updated",p),o.inStub=!0)}else"show"===s?o.style.display=l?"":"none":"hide"===s?o.style.display=l?"none":"":t.bool?((o[s]=l)&&N(o,s,s),dt&&"selected"===s&&"OPTION"===o.tagName&&(o.__riot1374=l)):(0===l||l&&typeof l!==rt)&&(i=et,s.slice(0,i.length)===i&&s!=it&&(s=s.slice(et.length)),N(o,s,l))}}),e&&s.parent?s.parent.one("updated",function(){s.trigger("updated")}):ut(function(){s.trigger("updated")}),this;var h}),H(this,"mixin",function(){return M(arguments,function(t){var e,i,a=[];for(t=typeof t===nt?$.mixin(t):t,e=T(t)?new t:t;a=a.concat(Object.getOwnPropertyNames(i||e)),i=Object.getPrototypeOf(i||e););M(a,function(t){"init"==t||s[t]||(s[t]=T(e[t])?e[t].bind(s):e[t])}),e.init&&e.init.bind(s)()}),this}),H(this,"mount",function(){a();var t=$.mixin(tt);if(t)for(var e in t)t.hasOwnProperty(e)&&s.mixin(t[e]);if(i.fn&&i.fn.call(s,l),w(o,s,m),r(!0),i.attrs&&function(t,e){for(var i,a=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;i=a.exec(t);)e(i[1].toLowerCase(),i[2]||i[3]||i[4])}(i.attrs,function(t,e){N(f,t,e)}),(i.attrs||p)&&w(s.root,s,m),s.parent&&!c||s.update(u),s.trigger("before-mount"),c&&!p)f=o.firstChild;else{for(;o.firstChild;)f.appendChild(o.firstChild);f.stub&&(f=d.root)}H(s,"root",f),c&&y(s.root,s.parent,null,!0),!s.parent||s.parent.isMounted?(s.isMounted=!0,s.trigger("mount")):s.parent.one("mount",function(){q(s.root)||(s.parent.isMounted=s.isMounted=!0,s.trigger("mount"))})}),H(this,"unmount",function(t){var i,e=f,a=e.parentNode,n=Q.indexOf(s);if(s.trigger("before-unmount"),~n&&Q.splice(n,1),a){if(d)G((i=B(d)).tags[g])?M(i.tags[g],function(t,e){t._riot_id==s._riot_id&&i.tags[g].splice(e,1)}):i.tags[g]=x;else for(;e.firstChild;)e.removeChild(e.firstChild);t?(P(a,at),P(a,it)):a.removeChild(e)}this._virts&&M(this._virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),s.trigger("unmount"),r(),s.off("*"),s.isMounted=!1,delete f._tag}),y(o,this,h)}function k(t,e,i){t&&(t.insertBefore(i,e),t.removeChild(e))}function M(t,e){for(var i,a=t?t.length:0,n=0;n<a;n++)null!=(i=t[n])&&!1===e(i,n)&&n--;return t}function T(t){return typeof t===a||!1}function z(t){return t&&typeof t===rt}function P(t,e){t.removeAttribute(e)}function O(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function I(t,e){return t.getAttribute(e)}function N(t,e,i){t.setAttribute(e,i)}function D(t){return t.tagName&&J[I(t,at)||I(t,it)||t.tagName.toLowerCase()]}function b(t,e,i){var a=i.tags[e];a?(G(a)||a!==t&&(i.tags[e]=[a]),X(i.tags[e],t)||i.tags[e].push(t)):i.tags[e]=t}function n(t,e,i){var a,n=t.parent;n&&(G(a=n.tags[e])?a.splice(i,0,a.splice(a.indexOf(t),1)[0]):b(t,e,n))}function B(t){for(var e=t;!D(e.root)&&e.parent;)e=e.parent;return e}function H(t,e,i,a){return Object.defineProperty(t,e,R({value:i,enumerable:!1,writable:!1,configurable:!0},a)),t}function F(t){var e=D(t),i=I(t,"name");return i&&!pt.hasExpr(i)?i:e?e.name:t.tagName.toLowerCase()}function R(t){for(var e,i=arguments,a=1;a<i.length;++a)if(e=i[a])for(var n in e)j(t,n)&&(t[n]=e[n]);return t}function X(t,e){return~t.indexOf(e)}function G(t){return Array.isArray(t)||t instanceof Array}function j(t,e){var i=Object.getOwnPropertyDescriptor(t,e);return typeof t[e]===ot||i&&i.writable}function Y(t){if(!(t instanceof E||t&&typeof t.trigger==a))return t;var e={};for(var i in t)st.test(i)||(e[i]=t[i]);return e}function _(t,e){if(t){if(!1===e(t))return;for(t=t.firstChild;t;)_(t,e),t=t.nextSibling}}function q(t){for(;t;){if(t.inStub)return!0;t=t.parentNode}return!1}function V(t,e){return e?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(t)}function m(t,e){return(e||document).querySelectorAll(t)}function h(t,e){return(e||document).querySelector(t)}function U(t){return I(t,"id")||I(t,"name")}function K(t){var e=t.source,i=t.global?"g":"";t.ignoreCase&&(i+="i"),t.multiline&&(i+="m");for(var a=1;a<arguments.length;a++)e=e.replace("@","\\"+arguments[a]);return new RegExp(e,i)}var $={version:"v2.5.0",settings:{}},Z=0,Q=[],J={},tt="__global_mixin",et="riot-",it=et+"tag",at="data-is",nt="string",rt="object",ot="undefined",a="function",e=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,st=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,u=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],lt=0|(W&&W.document||{}).documentMode,dt=W&&!!W.InstallTrigger;$.observable=function(s){function n(t,e){for(var i,a,n=t.split(" "),r=n.length,o=0;o<r;o++)a=(i=n[o]).indexOf("."),i&&e(~a?i.substring(0,a):i,o,~a?i.slice(a+1):null)}s=s||{};var l={},d=Array.prototype.slice;return Object.defineProperties(s,{on:{value:function(t,a){return"function"!=typeof a||n(t,function(t,e,i){(l[t]=l[t]||[]).push(a),a.typed=0<e,a.ns=i}),s},enumerable:!1,writable:!1,configurable:!1},off:{value:function(t,o){return"*"!=t||o?n(t,function(t,e,i){if(o||i)for(var a,n=l[t],r=0;a=n&&n[r];++r)(a==o||i&&a.ns==i)&&n.splice(r--,1);else delete l[t]}):l={},s},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,i){return s.on(e,function t(){s.off(e,t),i.apply(s,arguments)})},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(t){for(var r,e=arguments.length-1,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i+1];return n(t,function(t,e,i){r=d.call(l[t]||[],0);for(var a,n=0;a=r[n];++n)a.busy||(a.busy=1,i&&a.ns!=i||a.apply(s,a.typed?[t].concat(o):o),r[n]!==a&&n--,a.busy=0);l["*"]&&"*"!=t&&s.trigger.apply(s,["*",t].concat(o))}),s},enumerable:!1,writable:!1,configurable:!1}}),s},function(t){function i(t){return t.split(/[\/?#]/)}function a(t,e){var i=new RegExp("^"+e[k](/\*/g,"([^/?#]+?)")[k](/\.\./,".*")+"$"),a=t.match(i);if(a)return a.slice(1)}function e(t){var e,i,a;e=d,i=1,h=function(){clearTimeout(a),a=setTimeout(e,i)},A[y](M,h),A[y](T,h),L[y](O,c),t&&d(!0)}function n(){this.$=[],t.observable(this),N.on("stop",this.s.bind(this)),N.on("emit",this.e.bind(this))}function r(t){return t[k](/^\/|\/$/,"")}function o(t){return"string"==typeof t}function s(t){return(t||z.href)[k](v,"")}function l(t){return"#"==u[0]?(t||z.href||"").split(u)[1]||"":(z?s(t):t||"")[k](u,"")}function d(e){var t=0==H;if(!(C<=H)&&(H++,B.push(function(){var t=l();(e||t!=m)&&(N[S]("emit",t),m=t)}),t)){for(;B.length;)B[0](),B.shift();H=0}}function c(t){if(!(1!=t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!=e.nodeName;)e=e.parentNode;!e||"A"!=e.nodeName||e[w]("download")||!e[w]("href")||e.target&&"_self"!=e.target||-1==e.href.indexOf(z.href.match(v)[0])||(e.href==z.href||e.href.split("#")[0]!=z.href.split("#")[0]&&("#"==u||0===s(e.href).indexOf(u))&&p(l(e.href),e.title||L.title))&&t.preventDefault()}}function p(t,e,i){return E?(t=u+r(t),e=e||L.title,i?E.replaceState(null,e,t):E.pushState(null,e,t),L.title=e,D=!1,d(),D):N[S]("emit",l(t))}var h,u,m,f,g,v=/^.+?\/\/+[^\/]+/,b="EventListener",x="remove"+b,y="add"+b,w="hasAttribute",k="replace",M="popstate",T="hashchange",S="trigger",C=3,A=void 0!==W&&W,L="undefined"!=typeof document&&document,E=A&&history,z=A&&(E.location||A.location),P=n.prototype,O=L&&L.ontouchstart?"touchstart":"click",I=!1,N=t.observable(),D=!1,B=[],H=0;P.m=function(t,e,i){!o(t)||e&&!o(e)?e?this.r(t,e):this.r("@",t):p(t,e,i||!1)},P.s=function(){this.off("*"),this.$=[]},P.e=function(i){this.$.concat("@").some(function(t){var e=("@"==t?f:g)(r(i),r(t));if(void 0!==e)return this[S].apply(null,[t].concat(e)),D=!0},this)},P.r=function(t,e){"@"!=t&&(t="/"+r(t),this.$.push(t)),this.on(t,e)};var F=new n,R=F.m.bind(F);R.create=function(){var t=new n,e=t.m.bind(t);return e.stop=t.s.bind(t),e},R.base=function(t){u=t||"#",m=l()},R.exec=function(){d(!0)},R.parser=function(t,e){t||e||(f=i,g=a),t&&(f=t),e&&(g=e)},R.query=function(){var a={};return(z.href||m)[k](/[?&](.+?)=([^&]*)/g,function(t,e,i){a[e]=i}),a},R.stop=function(){I&&(A&&(A[x](M,h),A[x](T,h),L[x](O,c)),N[S]("stop"),I=!1)},R.start=function(t){I||(A&&("complete"==document.readyState?e(t):A[y]("load",function(){setTimeout(function(){e(t)},1)})),I=!0)},R.base(),R.parser(),t.route=R}($);var o,s,l,ct=function(t){function e(t){return t}function i(t,e){return e||(e=f),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?l:"")}function a(t){if(t===h)return u;var e=t.split(" ");if(2!==e.length||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(t))throw new Error('Unsupported brackets "'+t+'"');return(e=e.concat(t.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" ")))[4]=i(1<e[1].length?/{[\S\s]*?}/:u[4],e),e[5]=i(3<t.length?/\\({|})/g:u[5],e),e[6]=i(u[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+c,l),e[8]=t,e}function n(t){return t instanceof RegExp?o(t):f[t]}function r(t){(t||(t=h))!==f[8]&&(f=a(t),o=t===h?e:i,f[9]=o(u[9])),m=t}var o,s,l="g",d=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,c=d.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,p={"(":RegExp("([()])|"+c,l),"[":RegExp("([[\\]])|"+c,l),"{":RegExp("([{}])|"+c,l)},h="{ }",u=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+c,l),h,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],m=void 0,f=[];return n.split=function(t,e,i){function a(t){e||o?d.push(t&&t.replace(i[5],"$1")):d.push(t)}function n(t,e,i){var a,n=p[e];for(n.lastIndex=i,i=1;(a=n.exec(t))&&(!a[1]||(a[1]===e?++i:--i)););return i?t.length:n.lastIndex}i||(i=f);var r,o,s,l,d=[],c=i[6];for(o=s=c.lastIndex=0;r=c.exec(t);){if(l=r.index,o){if(r[2]){c.lastIndex=n(t,r[2],c.lastIndex);continue}if(!r[3])continue}r[1]||(a(t.slice(s,l)),s=c.lastIndex,(c=i[6+(o^=1)]).lastIndex=s)}return t&&s<t.length&&a(t.slice(s)),d},n.hasExpr=function(t){return f[4].test(t)},n.loopKeys=function(t){var e=t.match(f[9]);return e?{key:e[1],pos:e[2],val:f[0]+e[3].trim()+f[1]}:{val:t.trim()}},n.array=function(t){return t?a(t):f},Object.defineProperty(n,"settings",{set:function(t){var e;e=(t=t||{}).brackets,Object.defineProperty(t,"brackets",{set:r,get:function(){return m},enumerable:!0}),s=t,r(e)},get:function(){return s}}),n.settings=void 0!==$&&$.settings||{},n.set=r,n.R_STRINGS=d,n.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,n.S_QBLOCKS=c,n}(),pt=function(){function i(t,e){return t?(r[t]||(r[t]=(i=t,a=function(t){var e,i=[],a=ct.split(t.replace(l,'"'),1);if(2<a.length||a[0]){var n,r,o=[];for(n=r=0;n<a.length;++n)(e=a[n])&&(e=1&n?s(e,1,i):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(o[r++]=e);e=r<2?o[0]:"["+o.join(",")+'].join("")'}else e=s(a[1],0,i);return i[0]&&(e=e.replace(d,function(t,e){return i[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}(i),"try{return "!==a.slice(0,11)&&(a="return "+a),new Function("E",a+";")))).call(e,n):t;var i,a}function n(t,e){i.errorHandler&&(t.riotData={tagName:e&&e.root&&e.root.tagName,_riot_id:e&&e._riot_id},i.errorHandler(t))}function s(r,t,i){function e(t,e){var i,a=1,n=m[t];for(n.lastIndex=e.lastIndex;i=n.exec(r);)if(i[0]===t)++a;else if(!--a)break;e.lastIndex=a?r.length:n.lastIndex}if(r=r.replace(u,function(t,e){return 2<t.length&&!e?p+(i.push(t)-1)+"~":t}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var a,n=[],o=0;r&&(a=r.match(h))&&!a.index;){var s,l,d=/,|([[{(])|$/g;for(r=RegExp.rightContext,s=a[2]?i[a[2]].slice(1,-1).trim().replace(/\s+/g," "):a[1];l=(a=d.exec(r))[1];)e(l,d);l=r.slice(0,a.index),r=RegExp.rightContext,n[o++]=c(l,1,s)}r=o?1<o?"["+n.join(",")+'].join(" ").trim()':n[0]:c(r,t)}return r}function c(t,e,i){var r;return t=t.replace(a,function(t,e,i,a,n){return i&&(a=r?0:a+t.length,"this"!==i&&"global"!==i&&"window"!==i?(t=e+'("'+i+o+i,a&&(r="."===(n=n[a])||"("===n||"["===n)):a&&(r=!f.test(n.slice(a)))),t}),r&&(t="try{return "+t+"}catch(e){E(e,this)}"),i?t=(r?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+i+'":""':e&&(t="function(v){"+(r?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var r={};i.haveRaw=ct.hasRaw,i.hasExpr=ct.hasExpr,i.loopKeys=ct.loopKeys,i.errorHandler=null;var p="⁗",h=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,u=RegExp(ct.S_QBLOCKS,"g"),l=/\u2057/g,d=/\u2057(\d+)~/g,m={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},o='"in this?this:'+("object"!=typeof W?"global":"window")+").",a=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,f=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return i.parse=function(t){return t},i.version=ct.version="v2.4.0",i}(),ht=function(){function t(t,e){var i,a=t&&t.match(/^\s*<([-\w]+)/),n=a&&a[1].toLowerCase(),r=V("div",(i=n,~u.indexOf(i)));return t=function(t,i){if(!o.test(t))return t;var a={};return i=i&&i.replace(l,function(t,e,i){return a[e]=a[e]||i,""}).trim(),t.replace(d,function(t,e,i){return a[e]||i||""}).replace(s,function(t,e){return i||e||""})}(t,e),p.test(n)?r=function(t,e,i){var a="o"===i[0],n=a?"select>":"table>";if(t.innerHTML="<"+n+e.trim()+"</"+n,n=t.firstChild,a)n.selectedIndex=-1;else{var r=c[i];r&&1===n.childElementCount&&(n=h(r,n))}return n}(r,t,n):function(t,e){if(typeof t.innerHTML!=ot)t.innerHTML=e;else{var i=(new DOMParser).parseFromString(e,"application/xml");t.appendChild(t.ownerDocument.importNode(i.documentElement,!0))}}(r,t),r.stub=!0,r}var o=/<yield\b/i,s=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,l=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,d=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,c={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},p=lt&&lt<10?e:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return t}(),f=function(t){if(!W)return{add:function(){},inject:function(){}};var e=function(){var t=V("style");N(t,"type","text/css");var e=h("style[type=riot]");return e?(e.id&&(t.id=e.id),e.parentNode.replaceChild(t,e)):document.getElementsByTagName("head")[0].appendChild(t),t}(),i=e.styleSheet,a="";return Object.defineProperty(t,"styleNode",{value:e,writable:!0}),{add:function(t){a+=t},inject:function(){a&&(i?i.cssText+=a:e.innerHTML+=a,a="")}}}($),ut=function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame;if(!e||/iP(ad|hone|od).*OS 6/.test(t.navigator.userAgent)){var a=0;e=function(t){var e=Date.now(),i=Math.max(16-(e-a),0);setTimeout(function(){t(a=e+i)},i)}}return e}(W||{});$.util={brackets:ct,tmpl:pt},$.mixin=(s=(o={})[tt]={},l=0,function(t,e,i){if(z(t))$.mixin("__unnamed_"+l++,t,!0);else{var a=i?s:o;if(!e){if(typeof a[t]===ot)throw new Error("Unregistered mixin: "+t);return a[t]}T(e)?(R(e.prototype,a[t]||{}),a[t]=e):a[t]=R(a[t]||{},e)}}),$.tag=function(t,e,i,a,n){return T(a)&&(n=a,/^[\w\-]+\s?=/.test(i)?(a=i,i=""):a=""),i&&(T(i)?n=i:f.add(i)),t=t.toLowerCase(),J[t]={name:t,tmpl:e,attrs:a,fn:n},t},$.tag2=function(t,e,i,a,n){return i&&f.add(i),J[t]={name:t,tmpl:e,attrs:a,fn:n},t},$.mount=function(t,d,c){function e(t){var e="";return M(t,function(t){/[^-\w]/.test(t)||(t=t.trim().toLowerCase(),e+=",["+at+'="'+t+'"],['+it+'="'+t+'"]')}),e}function i(){var t=Object.keys(J);return t+e(t)}var a,n,p=[];if(f.inject(),z(d)&&(c=d,d=0),a=typeof t===nt?("*"===t?t=n=i():t+=e(t.split(/, */)),t?m(t):[]):t,"*"===d){if(d=n||i(),a.tagName)a=m(d,a);else{var r=[];M(a,function(t){r.push(m(d,t))}),a=r}d=0}return function t(e){if(e.tagName){var i=I(e,at)||I(e,it);d&&i!==d&&(N(e,at,i=d),N(e,it,d));var a=(n=e,r=i||e.tagName.toLowerCase(),o=c,s=J[r],l=n._innerHTML=n._innerHTML||n.innerHTML,n.innerHTML="",s&&n&&(s=new E(s,{root:n,opts:o},l)),s&&s.mount&&(s.mount(),X(Q,s)||Q.push(s)),s);a&&p.push(a)}else e.length&&M(e,t);var n,r,o,s,l}(a),p},$.update=function(){return M(Q,function(t){t.update()})},$.vdom=Q,$.Tag=E;var mt=function(i){function r(t){var e=i[t];if(e)return e;throw new Error('Parser "'+t+'" not loaded.')}function o(t,e){if(e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function a(t,e,i,a){return i=o({pretty:!0,filename:a,doctype:"html"},i),r(t).render(e,i)}var n={};return n.html={jade:function(t,e,i){return console.log('DEPRECATION WARNING: jade was renamed "pug" - The jade parser will be removed in riot@3.0.0!'),a("jade",t,e,i)},pug:function(t,e,i){return a("pug",t,e,i)}},n.css={less:function(t,e,i,a){var n;return i=o({sync:!0,syncImport:!0,filename:a},i),r("less").render(e,i,function(t,e){if(t)throw t;n=e.css}),n}},n.js={es6:function(t,e){return e=o({blacklist:["useStrict","strict","react"],sourceMaps:!1,comments:!1},e),r("babel").transform(t,e).code},babel:function(t,e,i){return r("babel").transform(t,o({filename:i},e)).code},coffee:function(t,e){return r("CoffeeScript").compile(t,o({bare:!0},e))},livescript:function(t,e){return r("livescript").compile(t,o({bare:!0,header:!1},e))},typescript:function(t,e){return r("typescript")(t,e)},none:function(t){return t}},n.js.javascript=n.js.none,n.js.coffeescript=n.js.coffee,n._req=function(t){var e=t.split(".");if(2!==e.length)throw new Error("Bad format for parsers._req");var i=n[e[0]][e[1]];if(i)return i;throw new Error('Parser "'+t+'" not found.')},n.utils={extend:o},n}(W||global);$.parsers=mt;var g=function(){function r(t){var e,i=a;for(~t.indexOf("\r")&&(t=t.replace(/\r\n?/g,"\n")),i.lastIndex=0;e=i.exec(t);)"<"===e[0][0]&&(t=RegExp.leftContext+RegExp.rightContext,i.lastIndex=e[3]+1);return t}function S(t,e){var i,a,n,r=[];for(l.lastIndex=0,t=t.replace(/\s+/g," ");i=l.exec(t);){var o=i[1].toLowerCase(),s=i[2];s?(s[0]!==b&&(s=b+(s[0]===F?s.slice(1,-1):s)+b),"type"===o&&m.test(s)?a=s:(f.test(s)&&("value"===o?n=1:c.test(o)?o="__"+o:~p.indexOf(o)&&(o="riot-"+o)),r.push(o+"="+s))):r.push(o)}return a&&(n&&(a=b+e._bp[0]+F+a.slice(1,-1)+F+e._bp[1]+b),r.push("type="+a)),r.join(" ")}function C(t,e,i){var a=i._bp;if(t&&a[4].test(t)){for(var n,r=e.expr&&(e.parser||e.type)?E:0,o=ct.split(t,0,a),s=1;s<o.length;s+=2)"^"===(n=o[s])[0]?n=n.slice(1):r&&(";"===(n=r(n,e).trim()).slice(-1)&&(n=n.slice(0,-1))),o[s]=g+(i.push(n)-1)+a[1];t=o.join("")}return t}function A(t,i){return i.length&&(t=t.replace(n,function(t,e){return i._bp[0]+i[e].trim().replace(/[\r\n]+/g," ").replace(/"/g,v)})),t}function L(t,e,n){if(t=C(t,e,n).replace(s,function(t,e,i,a){return e=e.toLowerCase(),a=a&&!h.test(e)?"></"+e:"",i&&(e+=" "+S(i,n)),"<"+e+a+">"}),!e.whitespace){var i=[];/<pre[\s>]/.test(t)&&(t=t.replace(u,function(t){return i.push(t),""})),t=t.trim().replace(/\s+/g," "),i.length&&(t=t.replace(/\u0002/g,function(){return i.shift()}))}return e.compact&&(t=t.replace(d,"><$1")),A(t,n).replace(H,"")}function o(t){function e(t,e){var i,a=1;for(e.lastIndex=0;a&&(i=e.exec(t));)"{"===i[0]?++a:"}"===i[0]&&--a;return a?t.length:e.lastIndex}var i,a,n,r,o=[],s=RegExp;for(~t.indexOf("/")&&(t=function(t,e,i){for(e.lastIndex=0;i=e.exec(t);)"/"!==i[0][0]||i[1]||i[2]||(t=s.leftContext+" "+s.rightContext,e.lastIndex=i[3]+1);return t}(t,w));i=t.match(x);)o.push(s.leftContext),n=e(t=s.rightContext,y),r=i[1],r=(a=!/^(?:if|while|for|switch|catch|function)$/.test(r))?i[0].replace(r,"this."+r+" = function"):i[0],o.push(r,t.slice(0,n)),t=t.slice(n),a&&!/^\s*.\s*bind\b/.test(t)&&o.push(".bind(this)");return o.length?o.join("")+t:t}function E(t,e,i,a,n){return/\S/.test(t)?(i||(i=e.type),(e.parser||i&&mt._req("js."+i,!0)||o)(t,a,n).replace(/\r\n?/g,"\n").replace(H,"")):""}function z(t,e,i,a){var n,r,o=(a||(a={})).scoped;if(i)if("scoped-css"===i)o=!0;else if("css"!==i){t=mt._req("css."+i,!0)(e,t,a.parserOpts||{},a.url)}if(t=t.replace(ct.R_MLCOMMS,"").replace(/\s+/g," ").trim(),o){if(!e)throw new Error("Can not parse scoped CSS without a tagName");n=e,r=":scope",t=t.replace(k,function(t,e,i){return i?(i=i.replace(/[^,]+/g,function(t){var e=t.trim();return e&&"from"!==e&&"to"!==e&&"%"!==e.slice(-1)?e=e.indexOf(r)<0?n+" "+e+',[riot-tag="'+n+'"] '+e+',[data-is="'+n+'"] '+e:e.replace(r,n)+","+e.replace(r,'[riot-tag="'+n+'"]')+","+e.replace(r,'[data-is="'+n+'"]'):t}),e?e+" "+i:i):t})}return t}function P(t,e){return t?(t=F+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+F,e&&~t.indexOf("\n")?t.replace(/\n/g,"\\n"):t):"''"}function O(t){if(t){var e=t.match(M);if(e=e&&(e[2]||e[3]))return e.replace("text/","")}return""}function I(t,e){if(t){var i=t.match(RegExp("\\s"+e+T,"i"));if(i=i&&i[1])return/^['"]/.test(i)?i.slice(1,-1):i}return""}function N(t){var e=I(t,"options").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'");return e?JSON.parse(e):null}function t(t,y,w){var k,M=[];y||(y={}),y.parserOptions=D({template:{},js:{},style:{}},y.parserOptions||{}),k=y.exclude?function(t){return y.exclude.indexOf(t)<0}:function(){return 1},w||(w="");var e,i,a,n,T=ct.array(y.brackets);return y.template&&(e=t,i=w,a=y.template,n=y.parserOptions.template,t=mt._req("html."+a,!0)(e,n,i)),t=r(t).replace(W,function(t,e,c,i,a,n){var r,o,s,l,d,p,h,u,m="",f="",g="",v="",b=[];if(b._bp=T,c=c.toLowerCase(),i=i&&k("attribs")?A(S(C(i,y,b),b),b):"",(a||(a=n))&&/\S/.test(a))if(n)k("html")&&(g=L(n,y,b));else{var x=function(t){if(/<[-\w]/.test(t))for(var e,i=t.lastIndexOf("<"),a=t.length;~i;){if(e=t.slice(i,a).match(R))return i+=e.index+e[0].length,[t.slice(0,i),t.slice(i)];a=i,i=t.lastIndexOf("<",i-1)}return["",t]}((a=(a=(a=a.replace(RegExp("^"+e,"gm"),"")).replace(G,function(t,e,i){return k("css")&&(f+=(f?" ":"")+(a=i,r=e,o=w,s=c,l=D({},(n=y).parserOptions.style),d={parserOpts:D(l,N(r)),scoped:r&&/\sscoped(\s|=|$)/i.test(r),url:o},z(a,s,O(r)||n.style,d))),"";var a,n,r,o,s,l,d})).replace(X,function(t,e,i){if(k("js")){var a=(n=i,r=y,s=w,l=O(o=e),d=I(o,"src"),c=D({},r.parserOptions.js),!d&&E(n,r,l,D(c,N(o)),s));a&&(m+=(m?"\n":"")+a)}var n,r,o,s,l,d,c;return""})).replace(H,""));k("html")&&(g=L(x[0],y,b)),k("js")&&(a=E(x[1],y,null,null,w),v=function(t){for(var e=[],i="";e=B.exec(t);)i+=e[0].trim()+"\n";return i}(m),m=m.replace(B,""),a&&(m+=(m?"\n":"")+a))}return m=/\S/.test(m)?m.replace(/\n{3,}/g,"\n\n"):"",y.entities?(M.push({tagName:c,html:g,css:f,attribs:i,js:m}),""):(r=c,o=g,s=f,l=i,d=m,p=v,h=y.debug?",\n  ":", ",u="});",d&&"\n"!==d.slice(-1)&&(u="\n"+u),p+"riot.tag2('"+r+F+h+P(o,1)+h+P(s)+h+P(l)+", function(opts) {\n"+d+u)}),y.entities?M:t}var D=mt.utils.extend,e=/"[^"\n\\]*(?:\\[\S\s][^"\n\\]*)*"|'[^'\n\\]*(?:\\[\S\s][^'\n\\]*)*'/.source,i=ct.R_STRINGS.source,l=/ *([-\w:\xA0-\xFF]+) ?(?:= ?('[^']*'|"[^"]*"|\S+))?/g,a=RegExp(/<!--(?!>)[\S\s]*?-->/.source+"|"+e,"g"),s=/<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^"'\/>]*(?:(?:"[^"]*"|'[^']*'|\/[^>])[^'"\/>]*)*)|\s*)(\/?)>/g,d=/>[ \t]+<(-?[A-Za-z]|\/[-A-Za-z])/g,c=RegExp("^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$"),p=["style","src","d"],h=/^(?:input|img|br|wbr|hr|area|base|col|embed|keygen|link|meta|param|source|track)$/,u=/<pre(?:\s+(?:[^">]*|"[^"]*")*)?>([\S\s]+?)<\/pre\s*>/gi,m=/^"(?:number|date(?:time)?|time|month|email|color)\b/i,B=/^(?: )*(?:import)(?:(?:.*))*$/gm,H=/[ \t]+$/gm,f=K(/@#\d/,"x01"),n=K(/@#(\d+)/g,"x01"),g="#",v="⁗",b='"',F="'",x=/^[ \t]*([$_A-Za-z][$\w]*)\s*\([^()]*\)\s*{/m,y=RegExp("[{}]|"+ct.S_QBLOCKS,"g"),w=RegExp(ct.R_MLCOMMS.source+"|//[^\r\n]*|"+ct.S_QBLOCKS,"g"),k=RegExp("([{}]|^)[ ;]*([^@ ;{}][^{}]*)(?={)|"+e,"g"),M=/\stype\s*=\s*(?:(['"])(.+?)\1|(\S+))/i,T="\\s*=\\s*("+i+"|{[^}]+}|\\S+)",R=/\/>\n|^<(?:\/?-?[A-Za-z][-\w\xA0-\xFF]*\s*|-?[A-Za-z][-\w\xA0-\xFF]*\s+[-\w:\xA0-\xFF][\S\s]*?)>\n/,W=RegExp(/^([ \t]*)<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^'"\/>]+(?:(?:@|\/[^>])[^'"\/>]*)*)|\s*)?(?:\/>|>[ \t]*\n?([\S\s]*)^\1<\/\2\s*>|>(.*)<\/\2\s*>)/.source.replace("@",i),"gim"),X=/<script(\s+[^>]*)?>\n?([\S\s]*?)<\/script\s*>/gi,G=/<style(\s+[^>]*)?>\n?([\S\s]*?)<\/style\s*>/gi;return $.util.compiler={compile:t,html:function(t,e,i){return Array.isArray(e)?(i=e,e={}):(i||(i=[]),e||(e={})),i._bp=ct.array(e.brackets),L(r(t),e,i)},css:function(t,e,i){return e&&"object"==typeof e?(i=e,e=""):i||(i={}),z(t,i.tagName,e,i)},js:function(t,e,i,a){return"string"==typeof e&&(a=i,i=e,e={}),i&&"object"==typeof i&&(a=i,i=""),a||(a={}),E(t,e||{},i,a.parserOptions,a.url)},version:"v2.5.2"},t}();$.compile=function(){function c(t,e,i){var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&(200===a.status||!a.status&&a.responseText.length)&&e(a.responseText,i,t)},a.open("GET",t,!0),a.send("")}function p(t,e){if(typeof t===nt){var i=V("script"),a=document.documentElement;e&&(t+="\n//# sourceURL="+e+".js"),i.text=t,a.appendChild(i),a.removeChild(i)}}var h,u;return function(t,n,e){if(typeof t===nt){if(z(n)&&(e=n,n=!1),/^\s*</m.test(t)){var i=g(t,e);return!0!==n&&p(i),T(n)&&n(i,t,e),i}c(t,function(t,e,i){var a=g(t,e,i);p(a,i),n&&n(a,t,e)})}else{if(n=T(t)?(e=n,t):(e=t,x),u)return n&&n();h?n&&h.on("ready",n):(h=$.observable(),function(t,e){function a(){h.trigger("ready"),u=!0,t&&t()}function i(t,e,i){p(g(t,e,i),i),--r||a()}var n=m('script[type="riot/tag"]'),r=n.length;if(r)for(var o=0;o<n.length;++o){var s=n[o],l=R({template:I(s,"template")},e),d=I(s,"src");d?c(d,i,l):i(s.innerHTML,l)}else a()}(n,e))}}}();var d=$.mount;$.mount=function(t,e,i){var a;return $.compile(function(){a=d(t,e,i)}),a},typeof exports===rt?module.exports=$:typeof define===a&&typeof define.amd!==ot?define(function(){return $}):W.riot=$}("undefined"!=typeof window?window:void 0),function(){"use strict";function t(t){t.fn.swiper=function(e){var i;return t(this).each(function(){var t=new F(this,e);i||(i=t)}),i}}var H,e,i,a,n,r,o,s,l,F=function(t,o){function f(t){return Math.floor(t)}function e(){y.autoplayTimeoutId=setTimeout(function(){y.params.loop?(y.fixLoop(),y._slideNext(),y.emit("onAutoplay",y)):y.isEnd?o.autoplayStopOnLast?y.stopAutoplay():(y._slideTo(0),y.emit("onAutoplay",y)):(y._slideNext(),y.emit("onAutoplay",y))},y.params.autoplay)}function s(t,i){var e=H(t.target);if(!e.is(i))if("string"==typeof i)e=e.parents(i);else if(i.nodeType){var a;return e.parents().each(function(t,e){e===i&&(a=i)}),a?i:void 0}if(0!==e.length)return e[0]}function i(t,e){e=e||{};var i=new(window.MutationObserver||window.WebkitMutationObserver)(function(t){t.forEach(function(t){y.onResize(!0),y.emit("onObserverUpdate",y,t)})});i.observe(t,{attributes:void 0===e.attributes||e.attributes,childList:void 0===e.childList||e.childList,characterData:void 0===e.characterData||e.characterData}),y.observers.push(i)}function a(t){t.originalEvent&&(t=t.originalEvent);var e=t.keyCode||t.charCode;if(!y.params.allowSwipeToNext&&(y.isHorizontal()&&39===e||!y.isHorizontal()&&40===e))return!1;if(!y.params.allowSwipeToPrev&&(y.isHorizontal()&&37===e||!y.isHorizontal()&&38===e))return!1;if(!(t.shiftKey||t.altKey||t.ctrlKey||t.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===e||39===e||38===e||40===e){var i=!1;if(0<y.container.parents(".swiper-slide").length&&0===y.container.parents(".swiper-slide-active").length)return;var a=window.pageXOffset,n=window.pageYOffset,r=window.innerWidth,o=window.innerHeight,s=y.container.offset();y.rtl&&(s.left=s.left-y.container[0].scrollLeft);for(var l=[[s.left,s.top],[s.left+y.width,s.top],[s.left,s.top+y.height],[s.left+y.width,s.top+y.height]],d=0;d<l.length;d++){var c=l[d];c[0]>=a&&c[0]<=a+r&&c[1]>=n&&c[1]<=n+o&&(i=!0)}if(!i)return}y.isHorizontal()?((37===e||39===e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1),(39===e&&!y.rtl||37===e&&y.rtl)&&y.slideNext(),(37===e&&!y.rtl||39===e&&y.rtl)&&y.slidePrev()):((38===e||40===e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1),40===e&&y.slideNext(),38===e&&y.slidePrev())}}function n(t){t.originalEvent&&(t=t.originalEvent);var e=y.mousewheel.event,i=0,a=y.rtl?-1:1;if("mousewheel"===e)if(y.params.mousewheelForceToAxis)if(y.isHorizontal()){if(!(Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)))return;i=t.wheelDeltaX*a}else{if(!(Math.abs(t.wheelDeltaY)>Math.abs(t.wheelDeltaX)))return;i=t.wheelDeltaY}else i=Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)?-t.wheelDeltaX*a:-t.wheelDeltaY;else if("DOMMouseScroll"===e)i=-t.detail;else if("wheel"===e)if(y.params.mousewheelForceToAxis)if(y.isHorizontal()){if(!(Math.abs(t.deltaX)>Math.abs(t.deltaY)))return;i=-t.deltaX*a}else{if(!(Math.abs(t.deltaY)>Math.abs(t.deltaX)))return;i=-t.deltaY}else i=Math.abs(t.deltaX)>Math.abs(t.deltaY)?-t.deltaX*a:-t.deltaY;if(0!==i){if(y.params.mousewheelInvert&&(i=-i),y.params.freeMode){var n=y.getWrapperTranslate()+i*y.params.mousewheelSensitivity,r=y.isBeginning,o=y.isEnd;if(n>=y.minTranslate()&&(n=y.minTranslate()),n<=y.maxTranslate()&&(n=y.maxTranslate()),y.setWrapperTransition(0),y.setWrapperTranslate(n),y.updateProgress(),y.updateActiveIndex(),(!r&&y.isBeginning||!o&&y.isEnd)&&y.updateClasses(),y.params.freeModeSticky?(clearTimeout(y.mousewheel.timeout),y.mousewheel.timeout=setTimeout(function(){y.slideReset()},300)):y.params.lazyLoading&&y.lazy&&y.lazy.load(),0===n||n===y.maxTranslate())return}else{if(60<(new window.Date).getTime()-y.mousewheel.lastScrollTime)if(i<0)if(y.isEnd&&!y.params.loop||y.animating){if(y.params.mousewheelReleaseOnEdges)return!0}else y.slideNext();else if(y.isBeginning&&!y.params.loop||y.animating){if(y.params.mousewheelReleaseOnEdges)return!0}else y.slidePrev();y.mousewheel.lastScrollTime=(new window.Date).getTime()}return y.params.autoplay&&y.stopAutoplay(),t.preventDefault?t.preventDefault():t.returnValue=!1,!1}}function r(t,e){t=H(t);var i,a,n,r=y.rtl?-1:1;i=t.attr("data-swiper-parallax")||"0",a=t.attr("data-swiper-parallax-x"),n=t.attr("data-swiper-parallax-y"),a||n?(a=a||"0",n=n||"0"):y.isHorizontal()?(a=i,n="0"):(n=i,a="0"),a=0<=a.indexOf("%")?parseInt(a,10)*e*r+"%":a*e*r+"px",n=0<=n.indexOf("%")?parseInt(n,10)*e+"%":n*e+"px",t.transform("translate3d("+a+", "+n+",0px)")}function l(t){return 0!==t.indexOf("on")&&(t=t[0]!==t[0].toUpperCase()?"on"+t[0].toUpperCase()+t.substring(1):"on"+t),t}if(!(this instanceof F))return new F(t,o);var d={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},c=o&&o.virtualTranslate;o=o||{};var p={};for(var h in o)if("object"!=typeof o[h]||null===o[h]||o[h].nodeType||o[h]===window||o[h]===document||void 0!==R&&o[h]instanceof R||"undefined"!=typeof jQuery&&o[h]instanceof jQuery)p[h]=o[h];else for(var u in p[h]={},o[h])p[h][u]=o[h][u];for(var m in d)if(void 0===o[m])o[m]=d[m];else if("object"==typeof o[m])for(var g in d[m])void 0===o[m][g]&&(o[m][g]=d[m][g]);var y=this;if(y.params=o,y.originalParams=p,y.classNames=[],void 0!==H&&void 0!==R&&(H=R),(void 0!==H||(H=void 0===R?window.Dom7||window.Zepto||window.jQuery:R))&&(y.$=H,y.currentBreakpoint=void 0,y.getActiveBreakpoint=function(){if(!y.params.breakpoints)return!1;var t,e=!1,i=[];for(t in y.params.breakpoints)y.params.breakpoints.hasOwnProperty(t)&&i.push(t);i.sort(function(t,e){return parseInt(t,10)>parseInt(e,10)});for(var a=0;a<i.length;a++)(t=i[a])>=window.innerWidth&&!e&&(e=t);return e||"max"},y.setBreakpoint=function(){var t=y.getActiveBreakpoint();if(t&&y.currentBreakpoint!==t){var e=t in y.params.breakpoints?y.params.breakpoints[t]:y.originalParams,i=y.params.loop&&e.slidesPerView!==y.params.slidesPerView;for(var a in e)y.params[a]=e[a];y.currentBreakpoint=t,i&&y.destroyLoop&&y.reLoop(!0)}},y.params.breakpoints&&y.setBreakpoint(),y.container=H(t),0!==y.container.length)){if(1<y.container.length){var v=[];return y.container.each(function(){v.push(new F(this,o))}),v}(y.container[0].swiper=y).container.data("swiper",y),y.classNames.push("swiper-container-"+y.params.direction),y.params.freeMode&&y.classNames.push("swiper-container-free-mode"),y.support.flexbox||(y.classNames.push("swiper-container-no-flexbox"),y.params.slidesPerColumn=1),y.params.autoHeight&&y.classNames.push("swiper-container-autoheight"),(y.params.parallax||y.params.watchSlidesVisibility)&&(y.params.watchSlidesProgress=!0),0<=["cube","coverflow","flip"].indexOf(y.params.effect)&&(y.support.transforms3d?(y.params.watchSlidesProgress=!0,y.classNames.push("swiper-container-3d")):y.params.effect="slide"),"slide"!==y.params.effect&&y.classNames.push("swiper-container-"+y.params.effect),"cube"===y.params.effect&&(y.params.resistanceRatio=0,y.params.slidesPerView=1,y.params.slidesPerColumn=1,y.params.slidesPerGroup=1,y.params.centeredSlides=!1,y.params.spaceBetween=0,y.params.virtualTranslate=!0,y.params.setWrapperSize=!1),("fade"===y.params.effect||"flip"===y.params.effect)&&(y.params.slidesPerView=1,y.params.slidesPerColumn=1,y.params.slidesPerGroup=1,y.params.watchSlidesProgress=!0,y.params.spaceBetween=0,y.params.setWrapperSize=!1,void 0===c&&(y.params.virtualTranslate=!0)),y.params.grabCursor&&y.support.touch&&(y.params.grabCursor=!1),y.wrapper=y.container.children("."+y.params.wrapperClass),y.params.pagination&&(y.paginationContainer=H(y.params.pagination),y.params.uniqueNavElements&&"string"==typeof y.params.pagination&&1<y.paginationContainer.length&&1===y.container.find(y.params.pagination).length&&(y.paginationContainer=y.container.find(y.params.pagination)),"bullets"===y.params.paginationType&&y.params.paginationClickable?y.paginationContainer.addClass("swiper-pagination-clickable"):y.params.paginationClickable=!1,y.paginationContainer.addClass("swiper-pagination-"+y.params.paginationType)),(y.params.nextButton||y.params.prevButton)&&(y.params.nextButton&&(y.nextButton=H(y.params.nextButton),y.params.uniqueNavElements&&"string"==typeof y.params.nextButton&&1<y.nextButton.length&&1===y.container.find(y.params.nextButton).length&&(y.nextButton=y.container.find(y.params.nextButton))),y.params.prevButton&&(y.prevButton=H(y.params.prevButton),y.params.uniqueNavElements&&"string"==typeof y.params.prevButton&&1<y.prevButton.length&&1===y.container.find(y.params.prevButton).length&&(y.prevButton=y.container.find(y.params.prevButton)))),y.isHorizontal=function(){return"horizontal"===y.params.direction},y.rtl=y.isHorizontal()&&("rtl"===y.container[0].dir.toLowerCase()||"rtl"===y.container.css("direction")),y.rtl&&y.classNames.push("swiper-container-rtl"),y.rtl&&(y.wrongRTL="-webkit-box"===y.wrapper.css("display")),1<y.params.slidesPerColumn&&y.classNames.push("swiper-container-multirow"),y.device.android&&y.classNames.push("swiper-container-android"),y.container.addClass(y.classNames.join(" ")),y.translate=0,y.progress=0,y.velocity=0,y.lockSwipeToNext=function(){y.params.allowSwipeToNext=!1},y.lockSwipeToPrev=function(){y.params.allowSwipeToPrev=!1},y.lockSwipes=function(){y.params.allowSwipeToNext=y.params.allowSwipeToPrev=!1},y.unlockSwipeToNext=function(){y.params.allowSwipeToNext=!0},y.unlockSwipeToPrev=function(){y.params.allowSwipeToPrev=!0},y.unlockSwipes=function(){y.params.allowSwipeToNext=y.params.allowSwipeToPrev=!0},y.params.grabCursor&&(y.container[0].style.cursor="move",y.container[0].style.cursor="-webkit-grab",y.container[0].style.cursor="-moz-grab",y.container[0].style.cursor="grab"),y.imagesToLoad=[],y.imagesLoaded=0,y.loadImage=function(t,e,i,a,n){function r(){n&&n()}var o;t.complete&&a?r():e?((o=new window.Image).onload=r,o.onerror=r,i&&(o.srcset=i),e&&(o.src=e)):r()},y.preloadImages=function(){function t(){null!=y&&(void 0!==y.imagesLoaded&&y.imagesLoaded++,y.imagesLoaded===y.imagesToLoad.length&&(y.params.updateOnImagesReady&&y.update(),y.emit("onImagesReady",y)))}y.imagesToLoad=y.container.find("img");for(var e=0;e<y.imagesToLoad.length;e++)y.loadImage(y.imagesToLoad[e],y.imagesToLoad[e].currentSrc||y.imagesToLoad[e].getAttribute("src"),y.imagesToLoad[e].srcset||y.imagesToLoad[e].getAttribute("srcset"),!0,t)},y.autoplayTimeoutId=void 0,y.autoplaying=!1,y.autoplayPaused=!1,y.startAutoplay=function(){return void 0===y.autoplayTimeoutId&&(!!y.params.autoplay&&(!y.autoplaying&&(y.autoplaying=!0,y.emit("onAutoplayStart",y),void e())))},y.stopAutoplay=function(t){y.autoplayTimeoutId&&(y.autoplayTimeoutId&&clearTimeout(y.autoplayTimeoutId),y.autoplaying=!1,y.autoplayTimeoutId=void 0,y.emit("onAutoplayStop",y))},y.pauseAutoplay=function(t){y.autoplayPaused||(y.autoplayTimeoutId&&clearTimeout(y.autoplayTimeoutId),y.autoplayPaused=!0,0===t?(y.autoplayPaused=!1,e()):y.wrapper.transitionEnd(function(){y&&(y.autoplayPaused=!1,y.autoplaying?e():y.stopAutoplay())}))},y.minTranslate=function(){return-y.snapGrid[0]},y.maxTranslate=function(){return-y.snapGrid[y.snapGrid.length-1]},y.updateAutoHeight=function(){var t=y.slides.eq(y.activeIndex)[0];if(void 0!==t){var e=t.offsetHeight;e&&y.wrapper.css("height",e+"px")}},y.updateContainerSize=function(){var t,e;t=void 0!==y.params.width?y.params.width:y.container[0].clientWidth,e=void 0!==y.params.height?y.params.height:y.container[0].clientHeight,0===t&&y.isHorizontal()||0===e&&!y.isHorizontal()||(t=t-parseInt(y.container.css("padding-left"),10)-parseInt(y.container.css("padding-right"),10),e=e-parseInt(y.container.css("padding-top"),10)-parseInt(y.container.css("padding-bottom"),10),y.width=t,y.height=e,y.size=y.isHorizontal()?y.width:y.height)},y.updateSlidesSize=function(){y.slides=y.wrapper.children("."+y.params.slideClass),y.snapGrid=[],y.slidesGrid=[],y.slidesSizesGrid=[];var t,e=y.params.spaceBetween,i=-y.params.slidesOffsetBefore,a=0,n=0;if(void 0!==y.size){var r;"string"==typeof e&&0<=e.indexOf("%")&&(e=parseFloat(e.replace("%",""))/100*y.size),y.virtualSize=-e,y.rtl?y.slides.css({marginLeft:"",marginTop:""}):y.slides.css({marginRight:"",marginBottom:""}),1<y.params.slidesPerColumn&&(r=Math.floor(y.slides.length/y.params.slidesPerColumn)===y.slides.length/y.params.slidesPerColumn?y.slides.length:Math.ceil(y.slides.length/y.params.slidesPerColumn)*y.params.slidesPerColumn,"auto"!==y.params.slidesPerView&&"row"===y.params.slidesPerColumnFill&&(r=Math.max(r,y.params.slidesPerView*y.params.slidesPerColumn)));var o,s,l=y.params.slidesPerColumn,d=r/l,c=d-(y.params.slidesPerColumn*d-y.slides.length);for(t=0;t<y.slides.length;t++){o=0;var p,h,u,m=y.slides.eq(t);if(1<y.params.slidesPerColumn)"column"===y.params.slidesPerColumnFill?(u=t-(h=Math.floor(t/l))*l,(c<h||h===c&&u===l-1)&&++u>=l&&(u=0,h++),p=h+u*r/l,m.css({"-webkit-box-ordinal-group":p,"-moz-box-ordinal-group":p,"-ms-flex-order":p,"-webkit-order":p,order:p})):h=t-(u=Math.floor(t/d))*d,m.css({"margin-top":0!==u&&y.params.spaceBetween&&y.params.spaceBetween+"px"}).attr("data-swiper-column",h).attr("data-swiper-row",u);"none"!==m.css("display")&&("auto"===y.params.slidesPerView?(o=y.isHorizontal()?m.outerWidth(!0):m.outerHeight(!0),y.params.roundLengths&&(o=f(o))):(o=(y.size-(y.params.slidesPerView-1)*e)/y.params.slidesPerView,y.params.roundLengths&&(o=f(o)),y.isHorizontal()?y.slides[t].style.width=o+"px":y.slides[t].style.height=o+"px"),y.slides[t].swiperSlideSize=o,y.slidesSizesGrid.push(o),y.params.centeredSlides?(i=i+o/2+a/2+e,0===t&&(i=i-y.size/2-e),Math.abs(i)<.001&&(i=0),n%y.params.slidesPerGroup==0&&y.snapGrid.push(i),y.slidesGrid.push(i)):(n%y.params.slidesPerGroup==0&&y.snapGrid.push(i),y.slidesGrid.push(i),i=i+o+e),y.virtualSize+=o+e,a=o,n++)}if(y.virtualSize=Math.max(y.virtualSize,y.size)+y.params.slidesOffsetAfter,y.rtl&&y.wrongRTL&&("slide"===y.params.effect||"coverflow"===y.params.effect)&&y.wrapper.css({width:y.virtualSize+y.params.spaceBetween+"px"}),(!y.support.flexbox||y.params.setWrapperSize)&&(y.isHorizontal()?y.wrapper.css({width:y.virtualSize+y.params.spaceBetween+"px"}):y.wrapper.css({height:y.virtualSize+y.params.spaceBetween+"px"})),1<y.params.slidesPerColumn&&(y.virtualSize=(o+y.params.spaceBetween)*r,y.virtualSize=Math.ceil(y.virtualSize/y.params.slidesPerColumn)-y.params.spaceBetween,y.wrapper.css({width:y.virtualSize+y.params.spaceBetween+"px"}),y.params.centeredSlides)){for(s=[],t=0;t<y.snapGrid.length;t++)y.snapGrid[t]<y.virtualSize+y.snapGrid[0]&&s.push(y.snapGrid[t]);y.snapGrid=s}if(!y.params.centeredSlides){for(s=[],t=0;t<y.snapGrid.length;t++)y.snapGrid[t]<=y.virtualSize-y.size&&s.push(y.snapGrid[t]);y.snapGrid=s,1<Math.floor(y.virtualSize-y.size)-Math.floor(y.snapGrid[y.snapGrid.length-1])&&y.snapGrid.push(y.virtualSize-y.size)}0===y.snapGrid.length&&(y.snapGrid=[0]),0!==y.params.spaceBetween&&(y.isHorizontal()?y.rtl?y.slides.css({marginLeft:e+"px"}):y.slides.css({marginRight:e+"px"}):y.slides.css({marginBottom:e+"px"})),y.params.watchSlidesProgress&&y.updateSlidesOffset()}},y.updateSlidesOffset=function(){for(var t=0;t<y.slides.length;t++)y.slides[t].swiperSlideOffset=y.isHorizontal()?y.slides[t].offsetLeft:y.slides[t].offsetTop},y.updateSlidesProgress=function(t){if(void 0===t&&(t=y.translate||0),0!==y.slides.length){void 0===y.slides[0].swiperSlideOffset&&y.updateSlidesOffset();var e=-t;y.rtl&&(e=t),y.slides.removeClass(y.params.slideVisibleClass);for(var i=0;i<y.slides.length;i++){var a=y.slides[i],n=(e-a.swiperSlideOffset)/(a.swiperSlideSize+y.params.spaceBetween);if(y.params.watchSlidesVisibility){var r=-(e-a.swiperSlideOffset),o=r+y.slidesSizesGrid[i];(0<=r&&r<y.size||0<o&&o<=y.size||r<=0&&o>=y.size)&&y.slides.eq(i).addClass(y.params.slideVisibleClass)}a.progress=y.rtl?-n:n}}},y.updateProgress=function(t){void 0===t&&(t=y.translate||0);var e=y.maxTranslate()-y.minTranslate(),i=y.isBeginning,a=y.isEnd;0===e?(y.progress=0,y.isBeginning=y.isEnd=!0):(y.progress=(t-y.minTranslate())/e,y.isBeginning=y.progress<=0,y.isEnd=1<=y.progress),y.isBeginning&&!i&&y.emit("onReachBeginning",y),y.isEnd&&!a&&y.emit("onReachEnd",y),y.params.watchSlidesProgress&&y.updateSlidesProgress(t),y.emit("onProgress",y,y.progress)},y.updateActiveIndex=function(){var t,e,i,a=y.rtl?y.translate:-y.translate;for(e=0;e<y.slidesGrid.length;e++)void 0!==y.slidesGrid[e+1]?a>=y.slidesGrid[e]&&a<y.slidesGrid[e+1]-(y.slidesGrid[e+1]-y.slidesGrid[e])/2?t=e:a>=y.slidesGrid[e]&&a<y.slidesGrid[e+1]&&(t=e+1):a>=y.slidesGrid[e]&&(t=e);(t<0||void 0===t)&&(t=0),(i=Math.floor(t/y.params.slidesPerGroup))>=y.snapGrid.length&&(i=y.snapGrid.length-1),t!==y.activeIndex&&(y.snapIndex=i,y.previousIndex=y.activeIndex,y.activeIndex=t,y.updateClasses())},y.updateClasses=function(){y.slides.removeClass(y.params.slideActiveClass+" "+y.params.slideNextClass+" "+y.params.slidePrevClass);var t=y.slides.eq(y.activeIndex);t.addClass(y.params.slideActiveClass);var e=t.next("."+y.params.slideClass).addClass(y.params.slideNextClass);y.params.loop&&0===e.length&&y.slides.eq(0).addClass(y.params.slideNextClass);var i=t.prev("."+y.params.slideClass).addClass(y.params.slidePrevClass);if(y.params.loop&&0===i.length&&y.slides.eq(-1).addClass(y.params.slidePrevClass),y.paginationContainer&&0<y.paginationContainer.length){var a,n=y.params.loop?Math.ceil((y.slides.length-2*y.loopedSlides)/y.params.slidesPerGroup):y.snapGrid.length;if(y.params.loop?((a=Math.ceil((y.activeIndex-y.loopedSlides)/y.params.slidesPerGroup))>y.slides.length-1-2*y.loopedSlides&&(a-=y.slides.length-2*y.loopedSlides),n-1<a&&(a-=n),a<0&&"bullets"!==y.params.paginationType&&(a=n+a)):a=void 0!==y.snapIndex?y.snapIndex:y.activeIndex||0,"bullets"===y.params.paginationType&&y.bullets&&0<y.bullets.length&&(y.bullets.removeClass(y.params.bulletActiveClass),1<y.paginationContainer.length?y.bullets.each(function(){H(this).index()===a&&H(this).addClass(y.params.bulletActiveClass)}):y.bullets.eq(a).addClass(y.params.bulletActiveClass)),"fraction"===y.params.paginationType&&(y.paginationContainer.find("."+y.params.paginationCurrentClass).text(a+1),y.paginationContainer.find("."+y.params.paginationTotalClass).text(n)),"progress"===y.params.paginationType){var r=(a+1)/n,o=r,s=1;y.isHorizontal()||(s=r,o=1),y.paginationContainer.find("."+y.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+o+") scaleY("+s+")").transition(y.params.speed)}"custom"===y.params.paginationType&&y.params.paginationCustomRender&&(y.paginationContainer.html(y.params.paginationCustomRender(y,a+1,n)),y.emit("onPaginationRendered",y,y.paginationContainer[0]))}y.params.loop||(y.params.prevButton&&y.prevButton&&0<y.prevButton.length&&(y.isBeginning?(y.prevButton.addClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.disable(y.prevButton)):(y.prevButton.removeClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.enable(y.prevButton))),y.params.nextButton&&y.nextButton&&0<y.nextButton.length&&(y.isEnd?(y.nextButton.addClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.disable(y.nextButton)):(y.nextButton.removeClass(y.params.buttonDisabledClass),y.params.a11y&&y.a11y&&y.a11y.enable(y.nextButton))))},y.updatePagination=function(){if(y.params.pagination&&y.paginationContainer&&0<y.paginationContainer.length){var t="";if("bullets"===y.params.paginationType){for(var e=y.params.loop?Math.ceil((y.slides.length-2*y.loopedSlides)/y.params.slidesPerGroup):y.snapGrid.length,i=0;i<e;i++)t+=y.params.paginationBulletRender?y.params.paginationBulletRender(i,y.params.bulletClass):"<"+y.params.paginationElement+' class="'+y.params.bulletClass+'"></'+y.params.paginationElement+">";y.paginationContainer.html(t),y.bullets=y.paginationContainer.find("."+y.params.bulletClass),y.params.paginationClickable&&y.params.a11y&&y.a11y&&y.a11y.initPagination()}"fraction"===y.params.paginationType&&(t=y.params.paginationFractionRender?y.params.paginationFractionRender(y,y.params.paginationCurrentClass,y.params.paginationTotalClass):'<span class="'+y.params.paginationCurrentClass+'"></span> / <span class="'+y.params.paginationTotalClass+'"></span>',y.paginationContainer.html(t)),"progress"===y.params.paginationType&&(t=y.params.paginationProgressRender?y.params.paginationProgressRender(y,y.params.paginationProgressbarClass):'<span class="'+y.params.paginationProgressbarClass+'"></span>',y.paginationContainer.html(t)),"custom"!==y.params.paginationType&&y.emit("onPaginationRendered",y,y.paginationContainer[0])}},y.update=function(t){function e(){i=Math.min(Math.max(y.translate,y.maxTranslate()),y.minTranslate()),y.setWrapperTranslate(i),y.updateActiveIndex(),y.updateClasses()}var i;(y.updateContainerSize(),y.updateSlidesSize(),y.updateProgress(),y.updatePagination(),y.updateClasses(),y.params.scrollbar&&y.scrollbar&&y.scrollbar.set(),t)?(y.controller&&y.controller.spline&&(y.controller.spline=void 0),y.params.freeMode?(e(),y.params.autoHeight&&y.updateAutoHeight()):(("auto"===y.params.slidesPerView||1<y.params.slidesPerView)&&y.isEnd&&!y.params.centeredSlides?y.slideTo(y.slides.length-1,0,!1,!0):y.slideTo(y.activeIndex,0,!1,!0))||e()):y.params.autoHeight&&y.updateAutoHeight()},y.onResize=function(t){y.params.breakpoints&&y.setBreakpoint();var e=y.params.allowSwipeToPrev,i=y.params.allowSwipeToNext;y.params.allowSwipeToPrev=y.params.allowSwipeToNext=!0,y.updateContainerSize(),y.updateSlidesSize(),("auto"===y.params.slidesPerView||y.params.freeMode||t)&&y.updatePagination(),y.params.scrollbar&&y.scrollbar&&y.scrollbar.set(),y.controller&&y.controller.spline&&(y.controller.spline=void 0);var a=!1;if(y.params.freeMode){var n=Math.min(Math.max(y.translate,y.maxTranslate()),y.minTranslate());y.setWrapperTranslate(n),y.updateActiveIndex(),y.updateClasses(),y.params.autoHeight&&y.updateAutoHeight()}else y.updateClasses(),a=("auto"===y.params.slidesPerView||1<y.params.slidesPerView)&&y.isEnd&&!y.params.centeredSlides?y.slideTo(y.slides.length-1,0,!1,!0):y.slideTo(y.activeIndex,0,!1,!0);y.params.lazyLoading&&!a&&y.lazy&&y.lazy.load(),y.params.allowSwipeToPrev=e,y.params.allowSwipeToNext=i};var b=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?b=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(b=["MSPointerDown","MSPointerMove","MSPointerUp"]),y.touchEvents={start:y.support.touch||!y.params.simulateTouch?"touchstart":b[0],move:y.support.touch||!y.params.simulateTouch?"touchmove":b[1],end:y.support.touch||!y.params.simulateTouch?"touchend":b[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===y.params.touchEventsTarget?y.container:y.wrapper).addClass("swiper-wp8-"+y.params.direction),y.initEvents=function(t){var e=t?"off":"on",i=t?"removeEventListener":"addEventListener",a="container"===y.params.touchEventsTarget?y.container[0]:y.wrapper[0],n=y.support.touch?a:document,r=!!y.params.nested;y.browser.ie?(a[i](y.touchEvents.start,y.onTouchStart,!1),n[i](y.touchEvents.move,y.onTouchMove,r),n[i](y.touchEvents.end,y.onTouchEnd,!1)):(y.support.touch&&(a[i](y.touchEvents.start,y.onTouchStart,!1),a[i](y.touchEvents.move,y.onTouchMove,r),a[i](y.touchEvents.end,y.onTouchEnd,!1)),!o.simulateTouch||y.device.ios||y.device.android||(a[i]("mousedown",y.onTouchStart,!1),document[i]("mousemove",y.onTouchMove,r),document[i]("mouseup",y.onTouchEnd,!1))),window[i]("resize",y.onResize),y.params.nextButton&&y.nextButton&&0<y.nextButton.length&&(y.nextButton[e]("click",y.onClickNext),y.params.a11y&&y.a11y&&y.nextButton[e]("keydown",y.a11y.onEnterKey)),y.params.prevButton&&y.prevButton&&0<y.prevButton.length&&(y.prevButton[e]("click",y.onClickPrev),y.params.a11y&&y.a11y&&y.prevButton[e]("keydown",y.a11y.onEnterKey)),y.params.pagination&&y.params.paginationClickable&&(y.paginationContainer[e]("click","."+y.params.bulletClass,y.onClickIndex),y.params.a11y&&y.a11y&&y.paginationContainer[e]("keydown","."+y.params.bulletClass,y.a11y.onEnterKey)),(y.params.preventClicks||y.params.preventClicksPropagation)&&a[i]("click",y.preventClicks,!0)},y.attachEvents=function(){y.initEvents()},y.detachEvents=function(){y.initEvents(!0)},y.allowClick=!0,y.preventClicks=function(t){y.allowClick||(y.params.preventClicks&&t.preventDefault(),y.params.preventClicksPropagation&&y.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))},y.onClickNext=function(t){t.preventDefault(),(!y.isEnd||y.params.loop)&&y.slideNext()},y.onClickPrev=function(t){t.preventDefault(),(!y.isBeginning||y.params.loop)&&y.slidePrev()},y.onClickIndex=function(t){t.preventDefault();var e=H(this).index()*y.params.slidesPerGroup;y.params.loop&&(e+=y.loopedSlides),y.slideTo(e)},y.updateClickedSlide=function(t){var e=s(t,"."+y.params.slideClass),i=!1;if(e)for(var a=0;a<y.slides.length;a++)y.slides[a]===e&&(i=!0);if(!e||!i)return y.clickedSlide=void 0,void(y.clickedIndex=void 0);if(y.clickedSlide=e,y.clickedIndex=H(e).index(),y.params.slideToClickedSlide&&void 0!==y.clickedIndex&&y.clickedIndex!==y.activeIndex){var n,r=y.clickedIndex;if(y.params.loop){if(y.animating)return;n=H(y.clickedSlide).attr("data-swiper-slide-index"),y.params.centeredSlides?r<y.loopedSlides-y.params.slidesPerView/2||r>y.slides.length-y.loopedSlides+y.params.slidesPerView/2?(y.fixLoop(),r=y.wrapper.children("."+y.params.slideClass+'[data-swiper-slide-index="'+n+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){y.slideTo(r)},0)):y.slideTo(r):r>y.slides.length-y.params.slidesPerView?(y.fixLoop(),r=y.wrapper.children("."+y.params.slideClass+'[data-swiper-slide-index="'+n+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){y.slideTo(r)},0)):y.slideTo(r)}else y.slideTo(r)}};var w,k,M,T,x,S,C,A,L,E,z,P,O="input, select, textarea, button",I=Date.now(),N=[];if(y.animating=!1,y.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0},y.onTouchStart=function(t){if(t.originalEvent&&(t=t.originalEvent),(z="touchstart"===t.type)||!("which"in t)||3!==t.which){if(y.params.noSwiping&&s(t,"."+y.params.noSwipingClass))return void(y.allowClick=!0);if(!y.params.swipeHandler||s(t,y.params.swipeHandler)){var e=y.touches.currentX="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,i=y.touches.currentY="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY;if(!(y.device.ios&&y.params.iOSEdgeSwipeDetection&&e<=y.params.iOSEdgeSwipeThreshold)){if(M=!(k=!(w=!0)),P=x=void 0,y.touches.startX=e,y.touches.startY=i,T=Date.now(),y.allowClick=!0,y.updateContainerSize(),y.swipeDirection=void 0,0<y.params.threshold&&(A=!1),"touchstart"!==t.type){var a=!0;H(t.target).is(O)&&(a=!1),document.activeElement&&H(document.activeElement).is(O)&&document.activeElement.blur(),a&&t.preventDefault()}y.emit("onTouchStart",y,t)}}}},y.onTouchMove=function(t){if(t.originalEvent&&(t=t.originalEvent),!z||"mousemove"!==t.type){if(t.preventedByNestedSwiper)return y.touches.startX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,void(y.touches.startY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY);if(y.params.onlyExternal)return y.allowClick=!1,void(w&&(y.touches.startX=y.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,y.touches.startY=y.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,T=Date.now()));if(z&&document.activeElement&&t.target===document.activeElement&&H(t.target).is(O))return k=!0,void(y.allowClick=!1);if(M&&y.emit("onTouchMove",y,t),!(t.targetTouches&&1<t.targetTouches.length)){if(y.touches.currentX="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,y.touches.currentY="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,void 0===x){var e=180*Math.atan2(Math.abs(y.touches.currentY-y.touches.startY),Math.abs(y.touches.currentX-y.touches.startX))/Math.PI;x=y.isHorizontal()?e>y.params.touchAngle:90-e>y.params.touchAngle}if(x&&y.emit("onTouchMoveOpposite",y,t),void 0===P&&y.browser.ieTouch&&(y.touches.currentX!==y.touches.startX||y.touches.currentY!==y.touches.startY)&&(P=!0),w){if(x)return void(w=!1);if(P||!y.browser.ieTouch){y.allowClick=!1,y.emit("onSliderMove",y,t),t.preventDefault(),y.params.touchMoveStopPropagation&&!y.params.nested&&t.stopPropagation(),k||(o.loop&&y.fixLoop(),C=y.getWrapperTranslate(),y.setWrapperTransition(0),y.animating&&y.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),y.params.autoplay&&y.autoplaying&&(y.params.autoplayDisableOnInteraction?y.stopAutoplay():y.pauseAutoplay()),E=!1,y.params.grabCursor&&(y.container[0].style.cursor="move",y.container[0].style.cursor="-webkit-grabbing",y.container[0].style.cursor="-moz-grabbin",y.container[0].style.cursor="grabbing")),k=!0;var i=y.touches.diff=y.isHorizontal()?y.touches.currentX-y.touches.startX:y.touches.currentY-y.touches.startY;i*=y.params.touchRatio,y.rtl&&(i=-i),y.swipeDirection=0<i?"prev":"next",S=i+C;var a=!0;if(0<i&&S>y.minTranslate()?(a=!1,y.params.resistance&&(S=y.minTranslate()-1+Math.pow(-y.minTranslate()+C+i,y.params.resistanceRatio))):i<0&&S<y.maxTranslate()&&(a=!1,y.params.resistance&&(S=y.maxTranslate()+1-Math.pow(y.maxTranslate()-C-i,y.params.resistanceRatio))),a&&(t.preventedByNestedSwiper=!0),!y.params.allowSwipeToNext&&"next"===y.swipeDirection&&S<C&&(S=C),!y.params.allowSwipeToPrev&&"prev"===y.swipeDirection&&C<S&&(S=C),y.params.followFinger){if(0<y.params.threshold){if(!(Math.abs(i)>y.params.threshold||A))return void(S=C);if(!A)return A=!0,y.touches.startX=y.touches.currentX,y.touches.startY=y.touches.currentY,S=C,void(y.touches.diff=y.isHorizontal()?y.touches.currentX-y.touches.startX:y.touches.currentY-y.touches.startY)}(y.params.freeMode||y.params.watchSlidesProgress)&&y.updateActiveIndex(),y.params.freeMode&&(0===N.length&&N.push({position:y.touches[y.isHorizontal()?"startX":"startY"],time:T}),N.push({position:y.touches[y.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),y.updateProgress(S),y.setWrapperTranslate(S)}}}}}},y.onTouchEnd=function(t){if(t.originalEvent&&(t=t.originalEvent),M&&y.emit("onTouchEnd",y,t),M=!1,w){y.params.grabCursor&&k&&w&&(y.container[0].style.cursor="move",y.container[0].style.cursor="-webkit-grab",y.container[0].style.cursor="-moz-grab",y.container[0].style.cursor="grab");var e,i=Date.now(),a=i-T;if(y.allowClick&&(y.updateClickedSlide(t),y.emit("onTap",y,t),a<300&&300<i-I&&(L&&clearTimeout(L),L=setTimeout(function(){y&&(y.params.paginationHide&&0<y.paginationContainer.length&&!H(t.target).hasClass(y.params.bulletClass)&&y.paginationContainer.toggleClass(y.params.paginationHiddenClass),y.emit("onClick",y,t))},300)),a<300&&i-I<300&&(L&&clearTimeout(L),y.emit("onDoubleTap",y,t))),I=Date.now(),setTimeout(function(){y&&(y.allowClick=!0)},0),!w||!k||!y.swipeDirection||0===y.touches.diff||S===C)return void(w=k=!1);if(w=k=!1,e=y.params.followFinger?y.rtl?y.translate:-y.translate:-S,y.params.freeMode){if(e<-y.minTranslate())return void y.slideTo(y.activeIndex);if(e>-y.maxTranslate())return void(y.slides.length<y.snapGrid.length?y.slideTo(y.snapGrid.length-1):y.slideTo(y.slides.length-1));if(y.params.freeModeMomentum){if(1<N.length){var n=N.pop(),r=N.pop(),o=n.position-r.position,s=n.time-r.time;y.velocity=o/s,y.velocity=y.velocity/2,Math.abs(y.velocity)<y.params.freeModeMinimumVelocity&&(y.velocity=0),(150<s||300<(new window.Date).getTime()-n.time)&&(y.velocity=0)}else y.velocity=0;N.length=0;var l=1e3*y.params.freeModeMomentumRatio,d=y.velocity*l,c=y.translate+d;y.rtl&&(c=-c);var p,h=!1,u=20*Math.abs(y.velocity)*y.params.freeModeMomentumBounceRatio;if(c<y.maxTranslate())y.params.freeModeMomentumBounce?(c+y.maxTranslate()<-u&&(c=y.maxTranslate()-u),p=y.maxTranslate(),E=h=!0):c=y.maxTranslate();else if(c>y.minTranslate())y.params.freeModeMomentumBounce?(c-y.minTranslate()>u&&(c=y.minTranslate()+u),p=y.minTranslate(),E=h=!0):c=y.minTranslate();else if(y.params.freeModeSticky){var m,f=0;for(f=0;f<y.snapGrid.length;f+=1)if(y.snapGrid[f]>-c){m=f;break}c=Math.abs(y.snapGrid[m]-c)<Math.abs(y.snapGrid[m-1]-c)||"next"===y.swipeDirection?y.snapGrid[m]:y.snapGrid[m-1],y.rtl||(c=-c)}if(0!==y.velocity)l=y.rtl?Math.abs((-c-y.translate)/y.velocity):Math.abs((c-y.translate)/y.velocity);else if(y.params.freeModeSticky)return void y.slideReset();y.params.freeModeMomentumBounce&&h?(y.updateProgress(p),y.setWrapperTransition(l),y.setWrapperTranslate(c),y.onTransitionStart(),y.animating=!0,y.wrapper.transitionEnd(function(){y&&E&&(y.emit("onMomentumBounce",y),y.setWrapperTransition(y.params.speed),y.setWrapperTranslate(p),y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd()}))})):y.velocity?(y.updateProgress(c),y.setWrapperTransition(l),y.setWrapperTranslate(c),y.onTransitionStart(),y.animating||(y.animating=!0,y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd()}))):y.updateProgress(c),y.updateActiveIndex()}return void((!y.params.freeModeMomentum||a>=y.params.longSwipesMs)&&(y.updateProgress(),y.updateActiveIndex()))}var g,v=0,b=y.slidesSizesGrid[0];for(g=0;g<y.slidesGrid.length;g+=y.params.slidesPerGroup)void 0!==y.slidesGrid[g+y.params.slidesPerGroup]?e>=y.slidesGrid[g]&&e<y.slidesGrid[g+y.params.slidesPerGroup]&&(v=g,b=y.slidesGrid[g+y.params.slidesPerGroup]-y.slidesGrid[g]):e>=y.slidesGrid[g]&&(v=g,b=y.slidesGrid[y.slidesGrid.length-1]-y.slidesGrid[y.slidesGrid.length-2]);var x=(e-y.slidesGrid[v])/b;if(a>y.params.longSwipesMs){if(!y.params.longSwipes)return void y.slideTo(y.activeIndex);"next"===y.swipeDirection&&(x>=y.params.longSwipesRatio?y.slideTo(v+y.params.slidesPerGroup):y.slideTo(v)),"prev"===y.swipeDirection&&(x>1-y.params.longSwipesRatio?y.slideTo(v+y.params.slidesPerGroup):y.slideTo(v))}else{if(!y.params.shortSwipes)return void y.slideTo(y.activeIndex);"next"===y.swipeDirection&&y.slideTo(v+y.params.slidesPerGroup),"prev"===y.swipeDirection&&y.slideTo(v)}}},y._slideTo=function(t,e){return y.slideTo(t,e,!0,!0)},y.slideTo=function(t,e,i,a){void 0===i&&(i=!0),void 0===t&&(t=0),t<0&&(t=0),y.snapIndex=Math.floor(t/y.params.slidesPerGroup),y.snapIndex>=y.snapGrid.length&&(y.snapIndex=y.snapGrid.length-1);var n=-y.snapGrid[y.snapIndex];y.params.autoplay&&y.autoplaying&&(a||!y.params.autoplayDisableOnInteraction?y.pauseAutoplay(e):y.stopAutoplay()),y.updateProgress(n);for(var r=0;r<y.slidesGrid.length;r++)-Math.floor(100*n)>=Math.floor(100*y.slidesGrid[r])&&(t=r);return!(!y.params.allowSwipeToNext&&n<y.translate&&n<y.minTranslate())&&(!(!y.params.allowSwipeToPrev&&n>y.translate&&n>y.maxTranslate()&&(y.activeIndex||0)!==t)&&(void 0===e&&(e=y.params.speed),y.previousIndex=y.activeIndex||0,y.activeIndex=t,y.rtl&&-n===y.translate||!y.rtl&&n===y.translate?(y.params.autoHeight&&y.updateAutoHeight(),y.updateClasses(),"slide"!==y.params.effect&&y.setWrapperTranslate(n),!1):(y.updateClasses(),y.onTransitionStart(i),0===e?(y.setWrapperTranslate(n),y.setWrapperTransition(0),y.onTransitionEnd(i)):(y.setWrapperTranslate(n),y.setWrapperTransition(e),y.animating||(y.animating=!0,y.wrapper.transitionEnd(function(){y&&y.onTransitionEnd(i)}))),!0)))},y.onTransitionStart=function(t){void 0===t&&(t=!0),y.params.autoHeight&&y.updateAutoHeight(),y.lazy&&y.lazy.onTransitionStart(),t&&(y.emit("onTransitionStart",y),y.activeIndex!==y.previousIndex&&(y.emit("onSlideChangeStart",y),y.activeIndex>y.previousIndex?y.emit("onSlideNextStart",y):y.emit("onSlidePrevStart",y)))},y.onTransitionEnd=function(t){y.animating=!1,y.setWrapperTransition(0),void 0===t&&(t=!0),y.lazy&&y.lazy.onTransitionEnd(),t&&(y.emit("onTransitionEnd",y),y.activeIndex!==y.previousIndex&&(y.emit("onSlideChangeEnd",y),y.activeIndex>y.previousIndex?y.emit("onSlideNextEnd",y):y.emit("onSlidePrevEnd",y))),y.params.hashnav&&y.hashnav&&y.hashnav.setHash()},y.slideNext=function(t,e,i){return y.params.loop?!y.animating&&(y.fixLoop(),y.container[0].clientLeft,y.slideTo(y.activeIndex+y.params.slidesPerGroup,e,t,i)):y.slideTo(y.activeIndex+y.params.slidesPerGroup,e,t,i)},y._slideNext=function(t){return y.slideNext(!0,t,!0)},y.slidePrev=function(t,e,i){return y.params.loop?!y.animating&&(y.fixLoop(),y.container[0].clientLeft,y.slideTo(y.activeIndex-1,e,t,i)):y.slideTo(y.activeIndex-1,e,t,i)},y._slidePrev=function(t){return y.slidePrev(!0,t,!0)},y.slideReset=function(t,e,i){return y.slideTo(y.activeIndex,e,t)},y.setWrapperTransition=function(t,e){y.wrapper.transition(t),"slide"!==y.params.effect&&y.effects[y.params.effect]&&y.effects[y.params.effect].setTransition(t),y.params.parallax&&y.parallax&&y.parallax.setTransition(t),y.params.scrollbar&&y.scrollbar&&y.scrollbar.setTransition(t),y.params.control&&y.controller&&y.controller.setTransition(t,e),y.emit("onSetTransition",y,t)},y.setWrapperTranslate=function(t,e,i){var a=0,n=0;y.isHorizontal()?a=y.rtl?-t:t:n=t,y.params.roundLengths&&(a=f(a),n=f(n)),y.params.virtualTranslate||(y.support.transforms3d?y.wrapper.transform("translate3d("+a+"px, "+n+"px, 0px)"):y.wrapper.transform("translate("+a+"px, "+n+"px)")),y.translate=y.isHorizontal()?a:n;var r=y.maxTranslate()-y.minTranslate();(0===r?0:(t-y.minTranslate())/r)!==y.progress&&y.updateProgress(t),e&&y.updateActiveIndex(),"slide"!==y.params.effect&&y.effects[y.params.effect]&&y.effects[y.params.effect].setTranslate(y.translate),y.params.parallax&&y.parallax&&y.parallax.setTranslate(y.translate),y.params.scrollbar&&y.scrollbar&&y.scrollbar.setTranslate(y.translate),y.params.control&&y.controller&&y.controller.setTranslate(y.translate,i),y.emit("onSetTranslate",y,y.translate)},y.getTranslate=function(t,e){var i,a,n,r;return void 0===e&&(e="x"),y.params.virtualTranslate?y.rtl?-y.translate:y.translate:(n=window.getComputedStyle(t,null),window.WebKitCSSMatrix?(6<(a=n.transform||n.webkitTransform).split(",").length&&(a=a.split(", ").map(function(t){return t.replace(",",".")}).join(", ")),r=new window.WebKitCSSMatrix("none"===a?"":a)):i=(r=n.MozTransform||n.OTransform||n.MsTransform||n.msTransform||n.transform||n.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(a=window.WebKitCSSMatrix?r.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===e&&(a=window.WebKitCSSMatrix?r.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),y.rtl&&a&&(a=-a),a||0)},y.getWrapperTranslate=function(t){return void 0===t&&(t=y.isHorizontal()?"x":"y"),y.getTranslate(y.wrapper[0],t)},y.observers=[],y.initObservers=function(){if(y.params.observeParents)for(var t=y.container.parents(),e=0;e<t.length;e++)i(t[e]);i(y.container[0],{childList:!1}),i(y.wrapper[0],{attributes:!1})},y.disconnectObservers=function(){for(var t=0;t<y.observers.length;t++)y.observers[t].disconnect();y.observers=[]},y.createLoop=function(){y.wrapper.children("."+y.params.slideClass+"."+y.params.slideDuplicateClass).remove();var a=y.wrapper.children("."+y.params.slideClass);"auto"!==y.params.slidesPerView||y.params.loopedSlides||(y.params.loopedSlides=a.length),y.loopedSlides=parseInt(y.params.loopedSlides||y.params.slidesPerView,10),y.loopedSlides=y.loopedSlides+y.params.loopAdditionalSlides,y.loopedSlides>a.length&&(y.loopedSlides=a.length);var t,n=[],r=[];for(a.each(function(t,e){var i=H(this);t<y.loopedSlides&&r.push(e),t<a.length&&t>=a.length-y.loopedSlides&&n.push(e),i.attr("data-swiper-slide-index",t)}),t=0;t<r.length;t++)y.wrapper.append(H(r[t].cloneNode(!0)).addClass(y.params.slideDuplicateClass));for(t=n.length-1;0<=t;t--)y.wrapper.prepend(H(n[t].cloneNode(!0)).addClass(y.params.slideDuplicateClass))},y.destroyLoop=function(){y.wrapper.children("."+y.params.slideClass+"."+y.params.slideDuplicateClass).remove(),y.slides.removeAttr("data-swiper-slide-index")},y.reLoop=function(t){var e=y.activeIndex-y.loopedSlides;y.destroyLoop(),y.createLoop(),y.updateSlidesSize(),t&&y.slideTo(e+y.loopedSlides,0,!1)},y.fixLoop=function(){var t;y.activeIndex<y.loopedSlides?(t=y.slides.length-3*y.loopedSlides+y.activeIndex,t+=y.loopedSlides,y.slideTo(t,0,!1,!0)):("auto"===y.params.slidesPerView&&y.activeIndex>=2*y.loopedSlides||y.activeIndex>y.slides.length-2*y.params.slidesPerView)&&(t=-y.slides.length+y.activeIndex+y.loopedSlides,t+=y.loopedSlides,y.slideTo(t,0,!1,!0))},y.appendSlide=function(t){if(y.params.loop&&y.destroyLoop(),"object"==typeof t&&t.length)for(var e=0;e<t.length;e++)t[e]&&y.wrapper.append(t[e]);else y.wrapper.append(t);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0)},y.prependSlide=function(t){y.params.loop&&y.destroyLoop();var e=y.activeIndex+1;if("object"==typeof t&&t.length){for(var i=0;i<t.length;i++)t[i]&&y.wrapper.prepend(t[i]);e=y.activeIndex+t.length}else y.wrapper.prepend(t);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0),y.slideTo(e,0,!1)},y.removeSlide=function(t){y.params.loop&&(y.destroyLoop(),y.slides=y.wrapper.children("."+y.params.slideClass));var e,i=y.activeIndex;if("object"==typeof t&&t.length){for(var a=0;a<t.length;a++)e=t[a],y.slides[e]&&y.slides.eq(e).remove(),e<i&&i--;i=Math.max(i,0)}else e=t,y.slides[e]&&y.slides.eq(e).remove(),e<i&&i--,i=Math.max(i,0);y.params.loop&&y.createLoop(),y.params.observer&&y.support.observer||y.update(!0),y.params.loop?y.slideTo(i+y.loopedSlides,0,!1):y.slideTo(i,0,!1)},y.removeAllSlides=function(){for(var t=[],e=0;e<y.slides.length;e++)t.push(e);y.removeSlide(t)},y.effects={fade:{setTranslate:function(){for(var t=0;t<y.slides.length;t++){var e=y.slides.eq(t),i=-e[0].swiperSlideOffset;y.params.virtualTranslate||(i-=y.translate);var a=0;y.isHorizontal()||(a=i,i=0);var n=y.params.fade.crossFade?Math.max(1-Math.abs(e[0].progress),0):1+Math.min(Math.max(e[0].progress,-1),0);e.css({opacity:n}).transform("translate3d("+i+"px, "+a+"px, 0px)")}},setTransition:function(t){if(y.slides.transition(t),y.params.virtualTranslate&&0!==t){var i=!1;y.slides.transitionEnd(function(){if(!i&&y){i=!0,y.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=0;e<t.length;e++)y.wrapper.trigger(t[e])}})}}},flip:{setTranslate:function(){for(var t=0;t<y.slides.length;t++){var e=y.slides.eq(t),i=e[0].progress;y.params.flip.limitRotation&&(i=Math.max(Math.min(e[0].progress,1),-1));var a=-180*i,n=0,r=-e[0].swiperSlideOffset,o=0;if(y.isHorizontal()?y.rtl&&(a=-a):(o=r,n=-a,a=r=0),e[0].style.zIndex=-Math.abs(Math.round(i))+y.slides.length,y.params.flip.slideShadows){var s=y.isHorizontal()?e.find(".swiper-slide-shadow-left"):e.find(".swiper-slide-shadow-top"),l=y.isHorizontal()?e.find(".swiper-slide-shadow-right"):e.find(".swiper-slide-shadow-bottom");0===s.length&&(s=H('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"left":"top")+'"></div>'),e.append(s)),0===l.length&&(l=H('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"right":"bottom")+'"></div>'),e.append(l)),s.length&&(s[0].style.opacity=Math.max(-i,0)),l.length&&(l[0].style.opacity=Math.max(i,0))}e.transform("translate3d("+r+"px, "+o+"px, 0px) rotateX("+n+"deg) rotateY("+a+"deg)")}},setTransition:function(t){if(y.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),y.params.virtualTranslate&&0!==t){var i=!1;y.slides.eq(y.activeIndex).transitionEnd(function(){if(!i&&y&&H(this).hasClass(y.params.slideActiveClass)){i=!0,y.animating=!1;for(var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=0;e<t.length;e++)y.wrapper.trigger(t[e])}})}}},cube:{setTranslate:function(){var t,e=0;y.params.cube.shadow&&(y.isHorizontal()?(0===(t=y.wrapper.find(".swiper-cube-shadow")).length&&(t=H('<div class="swiper-cube-shadow"></div>'),y.wrapper.append(t)),t.css({height:y.width+"px"})):0===(t=y.container.find(".swiper-cube-shadow")).length&&(t=H('<div class="swiper-cube-shadow"></div>'),y.container.append(t)));for(var i=0;i<y.slides.length;i++){var a=y.slides.eq(i),n=90*i,r=Math.floor(n/360);y.rtl&&(n=-n,r=Math.floor(-n/360));var o=Math.max(Math.min(a[0].progress,1),-1),s=0,l=0,d=0;i%4==0?(s=4*-r*y.size,d=0):(i-1)%4==0?(s=0,d=4*-r*y.size):(i-2)%4==0?(s=y.size+4*r*y.size,d=y.size):(i-3)%4==0&&(s=-y.size,d=3*y.size+4*y.size*r),y.rtl&&(s=-s),y.isHorizontal()||(l=s,s=0);var c="rotateX("+(y.isHorizontal()?0:-n)+"deg) rotateY("+(y.isHorizontal()?n:0)+"deg) translate3d("+s+"px, "+l+"px, "+d+"px)";if(o<=1&&-1<o&&(e=90*i+90*o,y.rtl&&(e=90*-i-90*o)),a.transform(c),y.params.cube.slideShadows){var p=y.isHorizontal()?a.find(".swiper-slide-shadow-left"):a.find(".swiper-slide-shadow-top"),h=y.isHorizontal()?a.find(".swiper-slide-shadow-right"):a.find(".swiper-slide-shadow-bottom");0===p.length&&(p=H('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"left":"top")+'"></div>'),a.append(p)),0===h.length&&(h=H('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"right":"bottom")+'"></div>'),a.append(h)),p.length&&(p[0].style.opacity=Math.max(-o,0)),h.length&&(h[0].style.opacity=Math.max(o,0))}}if(y.wrapper.css({"-webkit-transform-origin":"50% 50% -"+y.size/2+"px","-moz-transform-origin":"50% 50% -"+y.size/2+"px","-ms-transform-origin":"50% 50% -"+y.size/2+"px","transform-origin":"50% 50% -"+y.size/2+"px"}),y.params.cube.shadow)if(y.isHorizontal())t.transform("translate3d(0px, "+(y.width/2+y.params.cube.shadowOffset)+"px, "+-y.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+y.params.cube.shadowScale+")");else{var u=Math.abs(e)-90*Math.floor(Math.abs(e)/90),m=1.5-(Math.sin(2*u*Math.PI/360)/2+Math.cos(2*u*Math.PI/360)/2),f=y.params.cube.shadowScale,g=y.params.cube.shadowScale/m,v=y.params.cube.shadowOffset;t.transform("scale3d("+f+", 1, "+g+") translate3d(0px, "+(y.height/2+v)+"px, "+-y.height/2/g+"px) rotateX(-90deg)")}var b=y.isSafari||y.isUiWebView?-y.size/2:0;y.wrapper.transform("translate3d(0px,0,"+b+"px) rotateX("+(y.isHorizontal()?0:e)+"deg) rotateY("+(y.isHorizontal()?-e:0)+"deg)")},setTransition:function(t){y.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),y.params.cube.shadow&&!y.isHorizontal()&&y.container.find(".swiper-cube-shadow").transition(t)}},coverflow:{setTranslate:function(){for(var t=y.translate,e=y.isHorizontal()?-t+y.width/2:-t+y.height/2,i=y.isHorizontal()?y.params.coverflow.rotate:-y.params.coverflow.rotate,a=y.params.coverflow.depth,n=0,r=y.slides.length;n<r;n++){var o=y.slides.eq(n),s=y.slidesSizesGrid[n],l=(e-o[0].swiperSlideOffset-s/2)/s*y.params.coverflow.modifier,d=y.isHorizontal()?i*l:0,c=y.isHorizontal()?0:i*l,p=-a*Math.abs(l),h=y.isHorizontal()?0:y.params.coverflow.stretch*l,u=y.isHorizontal()?y.params.coverflow.stretch*l:0;Math.abs(u)<.001&&(u=0),Math.abs(h)<.001&&(h=0),Math.abs(p)<.001&&(p=0),Math.abs(d)<.001&&(d=0),Math.abs(c)<.001&&(c=0);var m="translate3d("+u+"px,"+h+"px,"+p+"px)  rotateX("+c+"deg) rotateY("+d+"deg)";if(o.transform(m),o[0].style.zIndex=1-Math.abs(Math.round(l)),y.params.coverflow.slideShadows){var f=y.isHorizontal()?o.find(".swiper-slide-shadow-left"):o.find(".swiper-slide-shadow-top"),g=y.isHorizontal()?o.find(".swiper-slide-shadow-right"):o.find(".swiper-slide-shadow-bottom");0===f.length&&(f=H('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"left":"top")+'"></div>'),o.append(f)),0===g.length&&(g=H('<div class="swiper-slide-shadow-'+(y.isHorizontal()?"right":"bottom")+'"></div>'),o.append(g)),f.length&&(f[0].style.opacity=0<l?l:0),g.length&&(g[0].style.opacity=0<-l?-l:0)}}y.browser.ie&&(y.wrapper[0].style.perspectiveOrigin=e+"px 50%")},setTransition:function(t){y.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)}}},y.lazy={initialImageLoaded:!1,loadImageInSlide:function(t,s){if(void 0!==t&&(void 0===s&&(s=!0),0!==y.slides.length)){var l=y.slides.eq(t),e=l.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!l.hasClass("swiper-lazy")||l.hasClass("swiper-lazy-loaded")||l.hasClass("swiper-lazy-loading")||(e=e.add(l[0])),0!==e.length&&e.each(function(){var a=H(this);a.addClass("swiper-lazy-loading");var n=a.attr("data-background"),r=a.attr("data-src"),o=a.attr("data-srcset");y.loadImage(a[0],r||n,o,!1,function(){if(n?(a.css("background-image",'url("'+n+'")'),a.removeAttr("data-background")):(o&&(a.attr("srcset",o),a.removeAttr("data-srcset")),r&&(a.attr("src",r),a.removeAttr("data-src"))),a.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),l.find(".swiper-lazy-preloader, .preloader").remove(),y.params.loop&&s){var t=l.attr("data-swiper-slide-index");if(l.hasClass(y.params.slideDuplicateClass)){var e=y.wrapper.children('[data-swiper-slide-index="'+t+'"]:not(.'+y.params.slideDuplicateClass+")");y.lazy.loadImageInSlide(e.index(),!1)}else{var i=y.wrapper.children("."+y.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]');y.lazy.loadImageInSlide(i.index(),!1)}}y.emit("onLazyImageReady",y,l[0],a[0])}),y.emit("onLazyImageLoad",y,l[0],a[0])})}},load:function(){var t;if(y.params.watchSlidesVisibility)y.wrapper.children("."+y.params.slideVisibleClass).each(function(){y.lazy.loadImageInSlide(H(this).index())});else if(1<y.params.slidesPerView)for(t=y.activeIndex;t<y.activeIndex+y.params.slidesPerView;t++)y.slides[t]&&y.lazy.loadImageInSlide(t);else y.lazy.loadImageInSlide(y.activeIndex);if(y.params.lazyLoadingInPrevNext)if(1<y.params.slidesPerView||y.params.lazyLoadingInPrevNextAmount&&1<y.params.lazyLoadingInPrevNextAmount){var e=y.params.lazyLoadingInPrevNextAmount,i=y.params.slidesPerView,a=Math.min(y.activeIndex+i+Math.max(e,i),y.slides.length),n=Math.max(y.activeIndex-Math.max(i,e),0);for(t=y.activeIndex+y.params.slidesPerView;t<a;t++)y.slides[t]&&y.lazy.loadImageInSlide(t);for(t=n;t<y.activeIndex;t++)y.slides[t]&&y.lazy.loadImageInSlide(t)}else{var r=y.wrapper.children("."+y.params.slideNextClass);0<r.length&&y.lazy.loadImageInSlide(r.index());var o=y.wrapper.children("."+y.params.slidePrevClass);0<o.length&&y.lazy.loadImageInSlide(o.index())}},onTransitionStart:function(){y.params.lazyLoading&&(y.params.lazyLoadingOnTransitionStart||!y.params.lazyLoadingOnTransitionStart&&!y.lazy.initialImageLoaded)&&y.lazy.load()},onTransitionEnd:function(){y.params.lazyLoading&&!y.params.lazyLoadingOnTransitionStart&&y.lazy.load()}},y.scrollbar={isTouched:!1,setDragPosition:function(t){var e=y.scrollbar,i=(y.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageX:t.pageX||t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageY:t.pageY||t.clientY)-e.track.offset()[y.isHorizontal()?"left":"top"]-e.dragSize/2,a=-y.minTranslate()*e.moveDivider,n=-y.maxTranslate()*e.moveDivider;i<a?i=a:n<i&&(i=n),i=-i/e.moveDivider,y.updateProgress(i),y.setWrapperTranslate(i,!0)},dragStart:function(t){var e=y.scrollbar;e.isTouched=!0,t.preventDefault(),t.stopPropagation(),e.setDragPosition(t),clearTimeout(e.dragTimeout),e.track.transition(0),y.params.scrollbarHide&&e.track.css("opacity",1),y.wrapper.transition(100),e.drag.transition(100),y.emit("onScrollbarDragStart",y)},dragMove:function(t){var e=y.scrollbar;e.isTouched&&(t.preventDefault?t.preventDefault():t.returnValue=!1,e.setDragPosition(t),y.wrapper.transition(0),e.track.transition(0),e.drag.transition(0),y.emit("onScrollbarDragMove",y))},dragEnd:function(t){var e=y.scrollbar;e.isTouched&&(e.isTouched=!1,y.params.scrollbarHide&&(clearTimeout(e.dragTimeout),e.dragTimeout=setTimeout(function(){e.track.css("opacity",0),e.track.transition(400)},1e3)),y.emit("onScrollbarDragEnd",y),y.params.scrollbarSnapOnRelease&&y.slideReset())},enableDraggable:function(){var t=y.scrollbar,e=y.support.touch?t.track:document;H(t.track).on(y.touchEvents.start,t.dragStart),H(e).on(y.touchEvents.move,t.dragMove),H(e).on(y.touchEvents.end,t.dragEnd)},disableDraggable:function(){var t=y.scrollbar,e=y.support.touch?t.track:document;H(t.track).off(y.touchEvents.start,t.dragStart),H(e).off(y.touchEvents.move,t.dragMove),H(e).off(y.touchEvents.end,t.dragEnd)},set:function(){if(y.params.scrollbar){var t=y.scrollbar;t.track=H(y.params.scrollbar),y.params.uniqueNavElements&&"string"==typeof y.params.scrollbar&&1<t.track.length&&1===y.container.find(y.params.scrollbar).length&&(t.track=y.container.find(y.params.scrollbar)),t.drag=t.track.find(".swiper-scrollbar-drag"),0===t.drag.length&&(t.drag=H('<div class="swiper-scrollbar-drag"></div>'),t.track.append(t.drag)),t.drag[0].style.width="",t.drag[0].style.height="",t.trackSize=y.isHorizontal()?t.track[0].offsetWidth:t.track[0].offsetHeight,t.divider=y.size/y.virtualSize,t.moveDivider=t.divider*(t.trackSize/y.size),t.dragSize=t.trackSize*t.divider,y.isHorizontal()?t.drag[0].style.width=t.dragSize+"px":t.drag[0].style.height=t.dragSize+"px",1<=t.divider?t.track[0].style.display="none":t.track[0].style.display="",y.params.scrollbarHide&&(t.track[0].style.opacity=0)}},setTranslate:function(){if(y.params.scrollbar){var t,e=y.scrollbar,i=(y.translate,e.dragSize);t=(e.trackSize-e.dragSize)*y.progress,y.rtl&&y.isHorizontal()?0<(t=-t)?(i=e.dragSize-t,t=0):-t+e.dragSize>e.trackSize&&(i=e.trackSize+t):t<0?(i=e.dragSize+t,t=0):t+e.dragSize>e.trackSize&&(i=e.trackSize-t),y.isHorizontal()?(y.support.transforms3d?e.drag.transform("translate3d("+t+"px, 0, 0)"):e.drag.transform("translateX("+t+"px)"),e.drag[0].style.width=i+"px"):(y.support.transforms3d?e.drag.transform("translate3d(0px, "+t+"px, 0)"):e.drag.transform("translateY("+t+"px)"),e.drag[0].style.height=i+"px"),y.params.scrollbarHide&&(clearTimeout(e.timeout),e.track[0].style.opacity=1,e.timeout=setTimeout(function(){e.track[0].style.opacity=0,e.track.transition(400)},1e3))}},setTransition:function(t){y.params.scrollbar&&y.scrollbar.drag.transition(t)}},y.controller={LinearSpline:function(t,e){var i,a;this.x=t,this.y=e,this.lastIndex=t.length-1,this.x.length,this.interpolate=function(t){return t?(a=s(this.x,t),i=a-1,(t-this.x[i])*(this.y[a]-this.y[i])/(this.x[a]-this.x[i])+this.y[i]):0};var n,r,o,s=function(t,e){for(r=-1,n=t.length;1<n-r;)t[o=n+r>>1]<=e?r=o:n=o;return n}},getInterpolateFunction:function(t){y.controller.spline||(y.controller.spline=y.params.loop?new y.controller.LinearSpline(y.slidesGrid,t.slidesGrid):new y.controller.LinearSpline(y.snapGrid,t.snapGrid))},setTranslate:function(e,t){function i(t){e=t.rtl&&"horizontal"===t.params.direction?-y.translate:y.translate,"slide"===y.params.controlBy&&(y.controller.getInterpolateFunction(t),n=-y.controller.spline.interpolate(-e)),n&&"container"!==y.params.controlBy||(a=(t.maxTranslate()-t.minTranslate())/(y.maxTranslate()-y.minTranslate()),n=(e-y.minTranslate())*a+t.minTranslate()),y.params.controlInverse&&(n=t.maxTranslate()-n),t.updateProgress(n),t.setWrapperTranslate(n,!1,y),t.updateActiveIndex()}var a,n,r=y.params.control;if(y.isArray(r))for(var o=0;o<r.length;o++)r[o]!==t&&r[o]instanceof F&&i(r[o]);else r instanceof F&&t!==r&&i(r)},setTransition:function(e,t){function i(t){t.setWrapperTransition(e,y),0!==e&&(t.onTransitionStart(),t.wrapper.transitionEnd(function(){n&&(t.params.loop&&"slide"===y.params.controlBy&&t.fixLoop(),t.onTransitionEnd())}))}var a,n=y.params.control;if(y.isArray(n))for(a=0;a<n.length;a++)n[a]!==t&&n[a]instanceof F&&i(n[a]);else n instanceof F&&t!==n&&i(n)}},y.hashnav={init:function(){if(y.params.hashnav){y.hashnav.initialized=!0;var t=document.location.hash.replace("#","");if(t)for(var e=0,i=y.slides.length;e<i;e++){var a=y.slides.eq(e);if(a.attr("data-hash")===t&&!a.hasClass(y.params.slideDuplicateClass)){var n=a.index();y.slideTo(n,0,y.params.runCallbacksOnInit,!0)}}}},setHash:function(){y.hashnav.initialized&&y.params.hashnav&&(document.location.hash=y.slides.eq(y.activeIndex).attr("data-hash")||"")}},y.disableKeyboardControl=function(){y.params.keyboardControl=!1,H(document).off("keydown",a)},y.enableKeyboardControl=function(){y.params.keyboardControl=!0,H(document).on("keydown",a)},y.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},y.params.mousewheelControl){try{new window.WheelEvent("wheel"),y.mousewheel.event="wheel"}catch(t){(window.WheelEvent||y.container[0]&&"wheel"in y.container[0])&&(y.mousewheel.event="wheel")}!y.mousewheel.event&&window.WheelEvent,y.mousewheel.event||void 0===document.onmousewheel||(y.mousewheel.event="mousewheel"),y.mousewheel.event||(y.mousewheel.event="DOMMouseScroll")}for(var D in y.disableMousewheelControl=function(){return!!y.mousewheel.event&&(y.container.off(y.mousewheel.event,n),!0)},y.enableMousewheelControl=function(){return!!y.mousewheel.event&&(y.container.on(y.mousewheel.event,n),!0)},y.parallax={setTranslate:function(){y.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){r(this,y.progress)}),y.slides.each(function(){var t=H(this);t.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){r(this,Math.min(Math.max(t[0].progress,-1),1))})})},setTransition:function(i){void 0===i&&(i=y.params.speed),y.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=H(this),e=parseInt(t.attr("data-swiper-parallax-duration"),10)||i;0===i&&(e=0),t.transition(e)})}},y._plugins=[],y.plugins){var B=y.plugins[D](y,y.params[D]);B&&y._plugins.push(B)}return y.callPlugins=function(t){for(var e=0;e<y._plugins.length;e++)t in y._plugins[e]&&y._plugins[e][t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},y.emitterEventListeners={},y.emit=function(t){var e;if(y.params[t]&&y.params[t](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),y.emitterEventListeners[t])for(e=0;e<y.emitterEventListeners[t].length;e++)y.emitterEventListeners[t][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);y.callPlugins&&y.callPlugins(t,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},y.on=function(t,e){return t=l(t),y.emitterEventListeners[t]||(y.emitterEventListeners[t]=[]),y.emitterEventListeners[t].push(e),y},y.off=function(t,e){var i;if(t=l(t),void 0===e)return y.emitterEventListeners[t]=[],y;if(y.emitterEventListeners[t]&&0!==y.emitterEventListeners[t].length){for(i=0;i<y.emitterEventListeners[t].length;i++)y.emitterEventListeners[t][i]===e&&y.emitterEventListeners[t].splice(i,1);return y}},y.once=function(t,e){t=l(t);var i=function(){e(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),y.off(t,i)};return y.on(t,i),y},y.a11y={makeFocusable:function(t){return t.attr("tabIndex","0"),t},addRole:function(t,e){return t.attr("role",e),t},addLabel:function(t,e){return t.attr("aria-label",e),t},disable:function(t){return t.attr("aria-disabled",!0),t},enable:function(t){return t.attr("aria-disabled",!1),t},onEnterKey:function(t){13===t.keyCode&&(H(t.target).is(y.params.nextButton)?(y.onClickNext(t),y.isEnd?y.a11y.notify(y.params.lastSlideMessage):y.a11y.notify(y.params.nextSlideMessage)):H(t.target).is(y.params.prevButton)&&(y.onClickPrev(t),y.isBeginning?y.a11y.notify(y.params.firstSlideMessage):y.a11y.notify(y.params.prevSlideMessage)),H(t.target).is("."+y.params.bulletClass)&&H(t.target)[0].click())},liveRegion:H('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(t){var e=y.a11y.liveRegion;0!==e.length&&(e.html(""),e.html(t))},init:function(){y.params.nextButton&&y.nextButton&&0<y.nextButton.length&&(y.a11y.makeFocusable(y.nextButton),y.a11y.addRole(y.nextButton,"button"),y.a11y.addLabel(y.nextButton,y.params.nextSlideMessage)),y.params.prevButton&&y.prevButton&&0<y.prevButton.length&&(y.a11y.makeFocusable(y.prevButton),y.a11y.addRole(y.prevButton,"button"),y.a11y.addLabel(y.prevButton,y.params.prevSlideMessage)),H(y.container).append(y.a11y.liveRegion)},initPagination:function(){y.params.pagination&&y.params.paginationClickable&&y.bullets&&y.bullets.length&&y.bullets.each(function(){var t=H(this);y.a11y.makeFocusable(t),y.a11y.addRole(t,"button"),y.a11y.addLabel(t,y.params.paginationBulletMessage.replace(/{{index}}/,t.index()+1))})},destroy:function(){y.a11y.liveRegion&&0<y.a11y.liveRegion.length&&y.a11y.liveRegion.remove()}},y.init=function(){y.params.loop&&y.createLoop(),y.updateContainerSize(),y.updateSlidesSize(),y.updatePagination(),y.params.scrollbar&&y.scrollbar&&(y.scrollbar.set(),y.params.scrollbarDraggable&&y.scrollbar.enableDraggable()),"slide"!==y.params.effect&&y.effects[y.params.effect]&&(y.params.loop||y.updateProgress(),y.effects[y.params.effect].setTranslate()),y.params.loop?y.slideTo(y.params.initialSlide+y.loopedSlides,0,y.params.runCallbacksOnInit):(y.slideTo(y.params.initialSlide,0,y.params.runCallbacksOnInit),0===y.params.initialSlide&&(y.parallax&&y.params.parallax&&y.parallax.setTranslate(),y.lazy&&y.params.lazyLoading&&(y.lazy.load(),y.lazy.initialImageLoaded=!0))),y.attachEvents(),y.params.observer&&y.support.observer&&y.initObservers(),y.params.preloadImages&&!y.params.lazyLoading&&y.preloadImages(),y.params.autoplay&&y.startAutoplay(),y.params.keyboardControl&&y.enableKeyboardControl&&y.enableKeyboardControl(),y.params.mousewheelControl&&y.enableMousewheelControl&&y.enableMousewheelControl(),y.params.hashnav&&y.hashnav&&y.hashnav.init(),y.params.a11y&&y.a11y&&y.a11y.init(),y.emit("onInit",y)},y.cleanupStyles=function(){y.container.removeClass(y.classNames.join(" ")).removeAttr("style"),y.wrapper.removeAttr("style"),y.slides&&y.slides.length&&y.slides.removeClass([y.params.slideVisibleClass,y.params.slideActiveClass,y.params.slideNextClass,y.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),y.paginationContainer&&y.paginationContainer.length&&y.paginationContainer.removeClass(y.params.paginationHiddenClass),y.bullets&&y.bullets.length&&y.bullets.removeClass(y.params.bulletActiveClass),y.params.prevButton&&H(y.params.prevButton).removeClass(y.params.buttonDisabledClass),y.params.nextButton&&H(y.params.nextButton).removeClass(y.params.buttonDisabledClass),y.params.scrollbar&&y.scrollbar&&(y.scrollbar.track&&y.scrollbar.track.length&&y.scrollbar.track.removeAttr("style"),y.scrollbar.drag&&y.scrollbar.drag.length&&y.scrollbar.drag.removeAttr("style"))},y.destroy=function(t,e){y.detachEvents(),y.stopAutoplay(),y.params.scrollbar&&y.scrollbar&&y.params.scrollbarDraggable&&y.scrollbar.disableDraggable(),y.params.loop&&y.destroyLoop(),e&&y.cleanupStyles(),y.disconnectObservers(),y.params.keyboardControl&&y.disableKeyboardControl&&y.disableKeyboardControl(),y.params.mousewheelControl&&y.disableMousewheelControl&&y.disableMousewheelControl(),y.params.a11y&&y.a11y&&y.a11y.destroy(),y.emit("onDestroy"),!1!==t&&(y=null)},y.init(),y}};F.prototype={isSafari:(s=navigator.userAgent.toLowerCase(),0<=s.indexOf("safari")&&s.indexOf("chrome")<0&&s.indexOf("android")<0),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(t){return"[object Array]"===Object.prototype.toString.apply(t)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&1<window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&1<window.navigator.maxTouchPoints},device:(i=navigator.userAgent,a=i.match(/(Android);?[\s\/]+([\d.]+)?/),n=i.match(/(iPad).*OS\s([\d_]+)/),r=i.match(/(iPod)(.*OS\s([\d_]+))?/),o=!n&&i.match(/(iPhone\sOS)\s([\d_]+)/),{ios:n||o||r,android:a}),support:{touch:window.Modernizr&&!0===Modernizr.touch||!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),transforms3d:window.Modernizr&&!0===Modernizr.csstransforms3d||(e=document.createElement("div").style,"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e),flexbox:function(){for(var t=document.createElement("div").style,e="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<e.length;i++)if(e[i]in t)return!0}(),observer:"MutationObserver"in window||"WebkitMutationObserver"in window},plugins:{}};for(var R=function(){var l=function(t){var e=0;for(e=0;e<t.length;e++)this[e]=t[e];return this.length=t.length,this},d=function(t,e){var i=[],a=0;if(t&&!e&&t instanceof l)return t;if(t)if("string"==typeof t){var n,r,o=t.trim();if(0<=o.indexOf("<")&&0<=o.indexOf(">")){var s="div";for(0===o.indexOf("<li")&&(s="ul"),0===o.indexOf("<tr")&&(s="tbody"),(0===o.indexOf("<td")||0===o.indexOf("<th"))&&(s="tr"),0===o.indexOf("<tbody")&&(s="table"),0===o.indexOf("<option")&&(s="select"),(r=document.createElement(s)).innerHTML=t,a=0;a<r.childNodes.length;a++)i.push(r.childNodes[a])}else for(n=e||"#"!==t[0]||t.match(/[ .<>:~]/)?(e||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],a=0;a<n.length;a++)n[a]&&i.push(n[a])}else if(t.nodeType||t===window||t===document)i.push(t);else if(0<t.length&&t[0].nodeType)for(a=0;a<t.length;a++)i.push(t[a]);return new l(i)};return l.prototype={addClass:function(t){if(void 0===t)return this;for(var e=t.split(" "),i=0;i<e.length;i++)for(var a=0;a<this.length;a++)this[a].classList.add(e[i]);return this},removeClass:function(t){for(var e=t.split(" "),i=0;i<e.length;i++)for(var a=0;a<this.length;a++)this[a].classList.remove(e[i]);return this},hasClass:function(t){return!!this[0]&&this[0].classList.contains(t)},toggleClass:function(t){for(var e=t.split(" "),i=0;i<e.length;i++)for(var a=0;a<this.length;a++)this[a].classList.toggle(e[i]);return this},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(var i=0;i<this.length;i++)if(2===arguments.length)this[i].setAttribute(t,e);else for(var a in t)this[i][a]=t[a],this[i].setAttribute(a,t[a]);return this},removeAttr:function(t){for(var e=0;e<this.length;e++)this[e].removeAttribute(t);return this},data:function(t,e){if(void 0!==e){for(var i=0;i<this.length;i++){var a=this[i];a.dom7ElementDataStorage||(a.dom7ElementDataStorage={}),a.dom7ElementDataStorage[t]=e}return this}if(this[0]){var n=this[0].getAttribute("data-"+t);return n||(this[0].dom7ElementDataStorage&&t in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[t]:void 0)}},transform:function(t){for(var e=0;e<this.length;e++){var i=this[e].style;i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=t}return this},transition:function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var i=this[e].style;i.webkitTransitionDuration=i.MsTransitionDuration=i.msTransitionDuration=i.MozTransitionDuration=i.OTransitionDuration=i.transitionDuration=t}return this},on:function(t,n,r,e){function i(t){var e=t.target;if(d(e).is(n))r.call(e,t);else for(var i=d(e).parents(),a=0;a<i.length;a++)d(i[a]).is(n)&&r.call(i[a],t)}var a,o,s=t.split(" ");for(a=0;a<this.length;a++)if("function"==typeof n||!1===n)for("function"==typeof n&&(r=n,e=arguments[2]||!1),o=0;o<s.length;o++)this[a].addEventListener(s[o],r,e);else for(o=0;o<s.length;o++)this[a].dom7LiveListeners||(this[a].dom7LiveListeners=[]),this[a].dom7LiveListeners.push({listener:r,liveListener:i}),this[a].addEventListener(s[o],i,e);return this},off:function(t,e,i,a){for(var n=t.split(" "),r=0;r<n.length;r++)for(var o=0;o<this.length;o++)if("function"==typeof e||!1===e)"function"==typeof e&&(i=e,a=arguments[2]||!1),this[o].removeEventListener(n[r],i,a);else if(this[o].dom7LiveListeners)for(var s=0;s<this[o].dom7LiveListeners.length;s++)this[o].dom7LiveListeners[s].listener===i&&this[o].removeEventListener(n[r],this[o].dom7LiveListeners[s].liveListener,a);return this},once:function(i,a,n,r){var o=this;"function"==typeof a&&(a=!1,n=arguments[1],r=arguments[2]),o.on(i,a,function t(e){n(e),o.off(i,a,t,r)},r)},trigger:function(e,i){for(var t=0;t<this.length;t++){var a;try{a=new window.CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0})}catch(t){(a=document.createEvent("Event")).initEvent(e,!0,!0),a.detail=i}this[t].dispatchEvent(a)}return this},transitionEnd:function(e){function i(t){if(t.target===this)for(e.call(this,t),a=0;a<n.length;a++)r.off(n[a],i)}var a,n=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=this;if(e)for(a=0;a<n.length;a++)r.on(n[a],i);return this},width:function(){return this[0]===window?window.innerWidth:0<this.length?parseFloat(this.css("width")):null},outerWidth:function(t){return 0<this.length?t?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:0<this.length?parseFloat(this.css("height")):null},outerHeight:function(t){return 0<this.length?t?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(0<this.length){var t=this[0],e=t.getBoundingClientRect(),i=document.body,a=t.clientTop||i.clientTop||0,n=t.clientLeft||i.clientLeft||0,r=window.pageYOffset||t.scrollTop,o=window.pageXOffset||t.scrollLeft;return{top:e.top+r-a,left:e.left+o-n}}return null},css:function(t,e){var i;if(1===arguments.length){if("string"!=typeof t){for(i=0;i<this.length;i++)for(var a in t)this[i].style[a]=t[a];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(t)}if(2!==arguments.length||"string"!=typeof t)return this;for(i=0;i<this.length;i++)this[i].style[t]=e;return this},each:function(t){for(var e=0;e<this.length;e++)t.call(this[e],e,this[e]);return this},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:void 0;for(var e=0;e<this.length;e++)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(var e=0;e<this.length;e++)this[e].textContent=t;return this},is:function(t){if(!this[0])return!1;var e,i;if("string"==typeof t){var a=this[0];if(a===document)return t===document;if(a===window)return t===window;if(a.matches)return a.matches(t);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(t);if(a.mozMatchesSelector)return a.mozMatchesSelector(t);if(a.msMatchesSelector)return a.msMatchesSelector(t);for(e=d(t),i=0;i<e.length;i++)if(e[i]===this[0])return!0;return!1}if(t===document)return this[0]===document;if(t===window)return this[0]===window;if(t.nodeType||t instanceof l){for(e=t.nodeType?[t]:t,i=0;i<e.length;i++)if(e[i]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var t=this[0],e=0;null!==(t=t.previousSibling);)1===t.nodeType&&e++;return e}},eq:function(t){if(void 0===t)return this;var e,i=this.length;return i-1<t?new l([]):t<0?new l((e=i+t)<0?[]:[this[e]]):new l([this[t]])},append:function(t){var e,i;for(e=0;e<this.length;e++)if("string"==typeof t){var a=document.createElement("div");for(a.innerHTML=t;a.firstChild;)this[e].appendChild(a.firstChild)}else if(t instanceof l)for(i=0;i<t.length;i++)this[e].appendChild(t[i]);else this[e].appendChild(t);return this},prepend:function(t){var e,i;for(e=0;e<this.length;e++)if("string"==typeof t){var a=document.createElement("div");for(a.innerHTML=t,i=a.childNodes.length-1;0<=i;i--)this[e].insertBefore(a.childNodes[i],this[e].childNodes[0])}else if(t instanceof l)for(i=0;i<t.length;i++)this[e].insertBefore(t[i],this[e].childNodes[0]);else this[e].insertBefore(t,this[e].childNodes[0]);return this},insertBefore:function(t){for(var e=d(t),i=0;i<this.length;i++)if(1===e.length)e[0].parentNode.insertBefore(this[i],e[0]);else if(1<e.length)for(var a=0;a<e.length;a++)e[a].parentNode.insertBefore(this[i].cloneNode(!0),e[a])},insertAfter:function(t){for(var e=d(t),i=0;i<this.length;i++)if(1===e.length)e[0].parentNode.insertBefore(this[i],e[0].nextSibling);else if(1<e.length)for(var a=0;a<e.length;a++)e[a].parentNode.insertBefore(this[i].cloneNode(!0),e[a].nextSibling)},next:function(t){return new l(0<this.length?t?this[0].nextElementSibling&&d(this[0].nextElementSibling).is(t)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(t){var e=[],i=this[0];if(!i)return new l([]);for(;i.nextElementSibling;){var a=i.nextElementSibling;t?d(a).is(t)&&e.push(a):e.push(a),i=a}return new l(e)},prev:function(t){return new l(0<this.length?t?this[0].previousElementSibling&&d(this[0].previousElementSibling).is(t)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(t){var e=[],i=this[0];if(!i)return new l([]);for(;i.previousElementSibling;){var a=i.previousElementSibling;t?d(a).is(t)&&e.push(a):e.push(a),i=a}return new l(e)},parent:function(t){for(var e=[],i=0;i<this.length;i++)t?d(this[i].parentNode).is(t)&&e.push(this[i].parentNode):e.push(this[i].parentNode);return d(d.unique(e))},parents:function(t){for(var e=[],i=0;i<this.length;i++)for(var a=this[i].parentNode;a;)t?d(a).is(t)&&e.push(a):e.push(a),a=a.parentNode;return d(d.unique(e))},find:function(t){for(var e=[],i=0;i<this.length;i++)for(var a=this[i].querySelectorAll(t),n=0;n<a.length;n++)e.push(a[n]);return new l(e)},children:function(t){for(var e=[],i=0;i<this.length;i++)for(var a=this[i].childNodes,n=0;n<a.length;n++)t?1===a[n].nodeType&&d(a[n]).is(t)&&e.push(a[n]):1===a[n].nodeType&&e.push(a[n]);return new l(d.unique(e))},remove:function(){for(var t=0;t<this.length;t++)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this},add:function(){var t,e;for(t=0;t<arguments.length;t++){var i=d(arguments[t]);for(e=0;e<i.length;e++)this[this.length]=i[e],this.length++}return this}},d.fn=l.prototype,d.unique=function(t){for(var e=[],i=0;i<t.length;i++)-1===e.indexOf(t[i])&&e.push(t[i]);return e},d}(),d=["jQuery","Zepto","Dom7"],c=0;c<d.length;c++)window[d[c]]&&t(window[d[c]]);(l=void 0===R?window.Dom7||window.Zepto||window.jQuery:R)&&("transitionEnd"in l.fn||(l.fn.transitionEnd=function(e){function i(t){if(t.target===this)for(e.call(this,t),a=0;a<n.length;a++)r.off(n[a],i)}var a,n=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=this;if(e)for(a=0;a<n.length;a++)r.on(n[a],i);return this}),"transform"in l.fn||(l.fn.transform=function(t){for(var e=0;e<this.length;e++){var i=this[e].style;i.webkitTransform=i.MsTransform=i.msTransform=i.MozTransform=i.OTransform=i.transform=t}return this}),"transition"in l.fn||(l.fn.transition=function(t){"string"!=typeof t&&(t+="ms");for(var e=0;e<this.length;e++){var i=this[e].style;i.webkitTransitionDuration=i.MsTransitionDuration=i.msTransitionDuration=i.MozTransitionDuration=i.OTransitionDuration=i.transitionDuration=t}return this})),window.Swiper=F}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper}),function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):e:"function"==typeof define&&define.amd?define(function(){return e(t)}):t.Highcharts=e(t)}("undefined"!=typeof window?window:this,function(t){var e,i,a,n,r,o,s,l,d,c,p,h,u,m,O,I,f,g,v,S,b,x,C,y,N,w,k,A,D,B,M,L,T,E,z,P,H,F,R,W,X,G,j,Y,_,q,V,U,K,$,Z,Q,J,tt,et,it,at,nt,rt,ot,st,lt,dt,ct,pt,ht,ut,mt,ft,gt,vt,bt,xt,yt,wt,kt,Mt,Tt,St,Ct,At,Lt,Et,zt,Pt,Ot,It=(e=void 0===t?window:t,i=e.document,a=e.navigator&&e.navigator.userAgent||"",n=i&&i.createElementNS&&!!i.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,r=/(edge|msie|trident)/i.test(a)&&!e.opera,o=-1!==a.indexOf("Firefox"),s=-1!==a.indexOf("Chrome"),l=o&&parseInt(a.split("Firefox/")[1],10)<4,e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"6.1.4",deg2rad:2*Math.PI/360,doc:i,hasBidiBug:l,hasTouch:i&&void 0!==i.documentElement.ontouchstart,isMS:r,isWebKit:-1!==a.indexOf("AppleWebKit"),isFirefox:o,isChrome:s,isSafari:!s&&-1!==a.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(a),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:n,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]});!function(v){v.timers=[];var t,e,i=v.charts,d=v.doc,l=v.win;v.error=function(t,e){if(t=v.isNumber(t)?"Highcharts error #"+t+": www.highcharts.com/errors/"+t:t,e)throw Error(t);l.console&&console.log(t)},v.Fx=function(t,e,i){this.options=e,this.elem=t,this.prop=i},v.Fx.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],a=[],n=this.now,r=e.length;if(1===n)a=this.toD;else if(r===i.length&&n<1)for(;r--;)t=parseFloat(e[r]),a[r]=isNaN(t)?i[r]:n*parseFloat(i[r]-t)+t;else a=i;this.elem.attr("d",a,null,!0)},update:function(){var t=this.elem,e=this.prop,i=this.now,a=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,a&&a.call(t,i,this)},run:function(t,e,i){var a=this,n=a.options,r=function(t){return!r.stopped&&a.step(t)},o=l.requestAnimationFrame||function(t){setTimeout(t,13)},s=function(){for(var t=0;t<v.timers.length;t++)v.timers[t]()||v.timers.splice(t--,1);v.timers.length&&o(s)};t!==e||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=t,this.end=e,this.unit=i,this.now=this.start,this.pos=0,r.elem=this.elem,r.prop=this.prop,r()&&1===v.timers.push(r)&&o(s)):(delete n.curAnim[this.prop],n.complete&&0===v.keys(n.curAnim).length&&n.complete.call(this.elem))},step:function(t){var e,i=+new Date,a=this.options,n=this.elem,r=a.complete,o=a.duration,s=a.curAnim;return t=!(n.attr&&!n.element)&&(t||i>=o+this.startTime?(this.now=this.end,this.pos=1,this.update(),e=s[this.prop]=!0,v.objectEach(s,function(t){!0!==t&&(e=!1)}),e&&r&&r.call(n),!1):(this.pos=a.easing((i-this.startTime)/o),this.now=this.start+(this.end-this.start)*this.pos,this.update(),!0))},initPath:function(t,e,i){function a(t){var e,i;for(d=t.length;d--;)e="M"===t[d]||"L"===t[d],i=/[a-zA-Z]/.test(t[d+3]),e&&i&&t.splice(d+1,0,t[d+1],t[d+2],t[d+1],t[d+2])}function n(t,e){for(;t.length<s;){t[0]=e[s-t.length];var i=t.slice(0,u);[].splice.apply(t,[0,0].concat(i)),f&&(i=t.slice(t.length-u),[].splice.apply(t,[t.length,0].concat(i)),d--)}t[0]="M"}function r(t,e){for(var i=(s-t.length)/u;0<i&&i--;)(l=t.slice().splice(t.length/g-u,u*g))[0]=e[s-u-i*u],h&&(l[u-6]=l[u-2],l[u-5]=l[u-1]),[].splice.apply(t,[t.length/g,0].concat(l)),f&&i--}e=e||"";var o,s,l,d,c=t.startX,p=t.endX,h=-1<e.indexOf("C"),u=h?7:3;e=e.split(" "),i=i.slice();var m,f=t.isArea,g=f?2:1;if(h&&(a(e),a(i)),c&&p){for(d=0;d<c.length;d++){if(c[d]===p[0]){o=d;break}if(c[0]===p[p.length-c.length+d]){o=d,m=!0;break}}void 0===o&&(e=[])}return e.length&&v.isNumber(o)&&(s=i.length+o*g*u,m?(n(e,i),r(i,e)):(n(i,e),r(e,i))),[e,i]},fillSetter:function(){v.Fx.prototype.strokeSetter.apply(this,arguments)},strokeSetter:function(){this.elem.attr(this.prop,v.color(this.start).tweenTo(v.color(this.end),this.pos),null,!0)}},v.merge=function(){var t,e,i=arguments,a={},n=function(i,a){return"object"!=typeof i&&(i={}),v.objectEach(a,function(t,e){!v.isObject(t,!0)||v.isClass(t)||v.isDOMElement(t)?i[e]=a[e]:i[e]=n(i[e]||{},t)}),i};for(!0===i[0]&&(a=i[1],i=Array.prototype.slice.call(i,2)),e=i.length,t=0;t<e;t++)a=n(a,i[t]);return a},v.pInt=function(t,e){return parseInt(t,e||10)},v.isString=function(t){return"string"==typeof t},v.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t},v.isObject=function(t,e){return!(!t||"object"!=typeof t||e&&v.isArray(t))},v.isDOMElement=function(t){return v.isObject(t)&&"number"==typeof t.nodeType},v.isClass=function(t){var e=t&&t.constructor;return!(!v.isObject(t,!0)||v.isDOMElement(t)||!e||!e.name||"Object"===e.name)},v.isNumber=function(t){return"number"==typeof t&&!isNaN(t)&&t<1/0&&-1/0<t},v.erase=function(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}},v.defined=function(t){return null!=t},v.attr=function(i,t,e){var a;return v.isString(t)?v.defined(e)?i.setAttribute(t,e):i&&i.getAttribute&&((a=i.getAttribute(t))||"class"!==t||(a=i.getAttribute(t+"Name"))):v.defined(t)&&v.isObject(t)&&v.objectEach(t,function(t,e){i.setAttribute(e,t)}),a},v.splat=function(t){return v.isArray(t)?t:[t]},v.syncTimeout=function(t,e,i){if(e)return setTimeout(t,e,i);t.call(0,i)},v.clearTimeout=function(t){v.defined(t)&&clearTimeout(t)},v.extend=function(t,e){var i;for(i in t||(t={}),e)t[i]=e[i];return t},v.pick=function(){var t,e,i=arguments,a=i.length;for(t=0;t<a;t++)if(null!=(e=i[t]))return e},v.css=function(t,e){v.isMS&&!v.svg&&e&&void 0!==e.opacity&&(e.filter="alpha(opacity="+100*e.opacity+")"),v.extend(t.style,e)},v.createElement=function(t,e,i,a,n){t=d.createElement(t);var r=v.css;return e&&v.extend(t,e),n&&r(t,{padding:0,border:"none",margin:0}),i&&r(t,i),a&&a.appendChild(t),t},v.extendClass=function(t,e){var i=function(){};return i.prototype=new t,v.extend(i.prototype,e),i},v.pad=function(t,e,i){return Array((e||2)+1-String(t).replace("-","").length).join(i||0)+t},v.relativeLength=function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},v.wrap=function(t,e,a){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,i=this;return i.proceed=function(){n.apply(i,arguments.length?arguments:e)},t.unshift(n),t=a.apply(this,t),i.proceed=null,t}},v.formatSingle=function(t,e,i){var a=v.defaultOptions.lang;return/f$/.test(t)?(i=(i=t.match(/\.([0-9])/))?i[1]:-1,null!==e&&(e=v.numberFormat(e,i,a.decimalPoint,-1<t.indexOf(",")?a.thousandsSep:""))):e=(i||v.time).dateFormat(t,e),e},v.format=function(t,e,i){for(var a,n,r,o,s,l="{",d=!1,c=[];t&&-1!==(l=t.indexOf(l));){if(a=t.slice(0,l),d){for(o=(n=(a=a.split(":")).shift().split(".")).length,s=e,r=0;r<o;r++)s&&(s=s[n[r]]);a.length&&(s=v.formatSingle(a.join(":"),s,i)),c.push(s)}else c.push(a);t=t.slice(l+1),l=(d=!d)?"}":"{"}return c.push(t),c.join("")},v.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},v.normalizeTickInterval=function(t,e,i,a,n){var r,o=t;for(r=t/(i=v.pick(i,1)),e||(e=n?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===a&&(1===i?e=v.grep(e,function(t){return 0==t%1}):i<=.1&&(e=[1/i]))),a=0;a<e.length&&(o=e[a],!(n&&t<=o*i||!n&&r<=(e[a]+(e[a+1]||e[a]))/2));a++);return v.correctFloat(o*i,-Math.round(Math.log(.001)/Math.LN10))},v.stableSort=function(t,i){var a,e,n=t.length;for(e=0;e<n;e++)t[e].safeI=e;for(t.sort(function(t,e){return 0===(a=i(t,e))?t.safeI-e.safeI:a}),e=0;e<n;e++)delete t[e].safeI},v.arrayMin=function(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i},v.arrayMax=function(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i},v.destroyObjectProperties=function(i,a){v.objectEach(i,function(t,e){t&&t!==a&&t.destroy&&t.destroy(),delete i[e]})},v.discardElement=function(t){var e=v.garbageBin;e||(e=v.createElement("div")),t&&e.appendChild(t),e.innerHTML=""},v.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},v.setAnimation=function(t,e){e.renderer.globalAnimation=v.pick(t,e.options.chart.animation,!0)},v.animObject=function(t){return v.isObject(t)?v.merge(t):{duration:t?500:0}},v.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},v.numberFormat=function(t,e,i,a){t=+t||0,e=+e;var n,r,o=v.defaultOptions.lang,s=(t.toString().split(".")[1]||"").split("e")[0].length,l=t.toString().split("e");return-1===e?e=Math.min(s,20):v.isNumber(e)?e&&l[1]&&l[1]<0&&(0<=(n=e+ +l[1])?(l[0]=(+l[0]).toExponential(n).split("e")[0],e=n):(l[0]=l[0].split(".")[0]||0,t=e<20?(l[0]*Math.pow(10,l[1])).toFixed(e):0,l[1]=0)):e=2,r=(Math.abs(l[1]?l[0]:t)+Math.pow(10,-Math.max(e,s)-1)).toFixed(e),n=3<(s=String(v.pInt(r))).length?s.length%3:0,i=v.pick(i,o.decimalPoint),a=v.pick(a,o.thousandsSep),t=(t<0?"-":"")+(n?s.substr(0,n)+a:""),t+=s.substr(n).replace(/(\d{3})(?=\d)/g,"$1"+a),e&&(t+=i+r.slice(-e)),l[1]&&0!=+t&&(t+="e"+l[1]),t},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},v.getStyle=function(t,e,i){return"width"===e?Math.max(0,Math.min(t.offsetWidth,t.scrollWidth)-v.getStyle(t,"padding-left")-v.getStyle(t,"padding-right")):"height"===e?Math.max(0,Math.min(t.offsetHeight,t.scrollHeight)-v.getStyle(t,"padding-top")-v.getStyle(t,"padding-bottom")):(l.getComputedStyle||v.error(27,!0),(t=l.getComputedStyle(t,void 0))&&(t=t.getPropertyValue(e),v.pick(i,"opacity"!==e)&&(t=v.pInt(t))),t)},v.inArray=function(t,e,i){return(v.indexOfPolyfill||Array.prototype.indexOf).call(e,t,i)},v.grep=function(t,e){return(v.filterPolyfill||Array.prototype.filter).call(t,e)},v.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var i,a=t.length;for(i=0;i<a;i++)if(e(t[i],i))return t[i]},v.some=function(t,e,i){return(v.somePolyfill||Array.prototype.some).call(t,e,i)},v.map=function(t,e){for(var i=[],a=0,n=t.length;a<n;a++)i[a]=e.call(t[a],t[a],a,t);return i},v.keys=function(t){return(v.keysPolyfill||Object.keys).call(void 0,t)},v.reduce=function(t,e,i){return(v.reducePolyfill||Array.prototype.reduce).apply(t,2<arguments.length?[e,i]:[e])},v.offset=function(t){var e=d.documentElement;return{top:(t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0}).top+(l.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(l.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},v.stop=function(t,e){for(var i=v.timers.length;i--;)v.timers[i].elem!==t||e&&e!==v.timers[i].prop||(v.timers[i].stopped=!0)},v.each=function(t,e,i){return(v.forEachPolyfill||Array.prototype.forEach).call(t,e,i)},v.objectEach=function(t,e,i){for(var a in t)t.hasOwnProperty(a)&&e.call(i||t[a],t[a],a,t)},v.addEvent=function(t,e,i,a){var n,r=t.addEventListener||v.addEventListenerPolyfill;return n="function"==typeof t&&t.prototype?t.prototype.protoEvents=t.prototype.protoEvents||{}:t.hcEvents=t.hcEvents||{},v.Point&&t instanceof v.Point&&t.series&&t.series.chart&&(t.series.chart.runTrackerClick=!0),r&&r.call(t,e,i,!1),n[e]||(n[e]=[]),n[e].push(i),a&&v.isNumber(a.order)&&(i.order=a.order,n[e].sort(function(t,e){return t.order-e.order})),function(){v.removeEvent(t,e,i)}},v.removeEvent=function(n,r,i){function o(t,e){var i=n.removeEventListener||v.removeEventListenerPolyfill;i&&i.call(n,t,e,!1)}function a(i){var t,a;n.nodeName&&(r?(t={})[r]=!0:t=i,v.objectEach(t,function(t,e){if(i[e])for(a=i[e].length;a--;)o(e,i[e][a])}))}var s,l;v.each(["protoEvents","hcEvents"],function(t){var e=n[t];e&&(r?(s=e[r]||[],i?(-1<(l=v.inArray(i,s))&&(s.splice(l,1),e[r]=s),o(r,i)):(a(e),e[r]=[])):(a(e),n[t]={}))})},v.fireEvent=function(e,i,a,t){var n,r,o,s,l;a=a||{},d.createEvent&&(e.dispatchEvent||e.fireEvent)?((n=d.createEvent("Events")).initEvent(i,!0,!0),v.extend(n,a),e.dispatchEvent?e.dispatchEvent(n):e.fireEvent(i,n)):v.each(["protoEvents","hcEvents"],function(t){if(e[t])for(r=e[t][i]||[],o=r.length,a.target||v.extend(a,{preventDefault:function(){a.defaultPrevented=!0},target:e,type:i}),s=0;s<o;s++)(l=r[s])&&!1===l.call(e,a)&&a.preventDefault()}),t&&!a.defaultPrevented&&t.call(e,a)},v.animate=function(i,a,n){var r,o,s,t,l="";v.isObject(n)||(n={duration:(t=arguments)[2],easing:t[3],complete:t[4]}),v.isNumber(n.duration)||(n.duration=400),n.easing="function"==typeof n.easing?n.easing:Math[n.easing]||Math.easeInOutSine,n.curAnim=v.merge(a),v.objectEach(a,function(t,e){v.stop(i,e),s=new v.Fx(i,n,e),o=null,"d"===e?(s.paths=s.initPath(i,i.d,a.d),s.toD=a.d,r=0,o=1):i.attr?r=i.attr(e):(r=parseFloat(v.getStyle(i,e))||0,"opacity"!==e&&(l="px")),o||(o=t),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),s.run(r,o,l)})},v.seriesType=function(t,e,i,a,n){var r=v.getOptions(),o=v.seriesTypes;return r.plotOptions[t]=v.merge(r.plotOptions[e],i),o[t]=v.extendClass(o[e]||function(){},a),o[t].prototype.type=t,n&&(o[t].prototype.pointClass=v.extendClass(v.Point,n)),o[t]},v.uniqueKey=(t=Math.random().toString(36).substring(2,9),e=0,function(){return"highcharts-"+t+"-"+e++}),l.jQuery&&(l.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);if(this[0])return t[0]?(new(v[v.isString(t[0])?t.shift():"Chart"])(this[0],t[0],t[1]),this):i[v.attr(this[0],"data-highcharts-chart")]})}(It),c=(d=It).each,p=d.isNumber,h=d.map,u=d.merge,m=d.pInt,d.Color=function(t){if(!(this instanceof d.Color))return new d.Color(t);this.init(t)},d.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[m(t[1]),m(t[2]),m(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[m(t[1]),m(t[2]),m(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(t){var e,i,a,n;if((this.input=t=this.names[t&&t.toLowerCase?t.toLowerCase():""]||t)&&t.stops)this.stops=h(t.stops,function(t){return new d.Color(t[1])});else if(t&&t.charAt&&"#"===t.charAt()&&(e=t.length,t=parseInt(t.substr(1),16),7===e?i=[(16711680&t)>>16,(65280&t)>>8,255&t,1]:4===e&&(i=[(3840&t)>>4|(3840&t)>>8,(240&t)>>4|240&t,(15&t)<<4|15&t,1])),!i)for(a=this.parsers.length;a--&&!i;)(e=(n=this.parsers[a]).regex.exec(t))&&(i=n.parse(e));this.rgba=i||[]},get:function(i){var a,t=this.input,e=this.rgba;return this.stops?((a=u(t)).stops=[].concat(a.stops),c(this.stops,function(t,e){a.stops[e]=[a.stops[e][0],t.get(i)]})):a=e&&p(e[0])?"rgb"===i||!i&&1===e[3]?"rgb("+e[0]+","+e[1]+","+e[2]+")":"a"===i?e[3]:"rgba("+e.join(",")+")":t,a},brighten:function(e){var t,i=this.rgba;if(this.stops)c(this.stops,function(t){t.brighten(e)});else if(p(e)&&0!==e)for(t=0;t<3;t++)i[t]+=m(255*e),i[t]<0&&(i[t]=0),255<i[t]&&(i[t]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var i=this.rgba,a=t.rgba;return e=a.length&&i&&i.length?((t=1!==a[3]||1!==i[3])?"rgba(":"rgb(")+Math.round(a[0]+(i[0]-a[0])*(1-e))+","+Math.round(a[1]+(i[1]-a[1])*(1-e))+","+Math.round(a[2]+(i[2]-a[2])*(1-e))+(t?","+(a[3]+(i[3]-a[3])*(1-e)):"")+")":t.input||"none"}},d.color=function(t){return new d.Color(t)},g=(O=It).addEvent,v=O.animate,S=O.attr,b=O.charts,x=O.color,C=O.css,y=O.createElement,N=O.defined,w=O.deg2rad,k=O.destroyObjectProperties,A=O.doc,D=O.each,B=O.extend,M=O.erase,L=O.grep,T=O.hasTouch,E=O.inArray,z=O.isArray,P=O.isFirefox,H=O.isMS,F=O.isObject,R=O.isString,W=O.isWebKit,X=O.merge,G=O.noop,j=O.objectEach,Y=O.pick,_=O.pInt,q=O.removeEvent,V=O.stop,U=O.svg,K=O.SVG_NS,$=O.symbolSizes,Z=O.win,I=O.SVGElement=function(){return this},B(I.prototype,{opacity:1,SVG_NS:K,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),init:function(t,e){this.element="span"===e?y(e):A.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(t,e,i){return 0!==(e=O.animObject(Y(e,this.renderer.globalAnimation,!0))).duration?(i&&(e.complete=i),v(this,t,e)):(this.attr(t,null,i),e.step&&e.step.call(this)),this},complexColor:function(t,e,i){var a,n,r,o,s,l,d,c,p,h,u,m,f=this.renderer,g=[];O.fireEvent(this.renderer,"complexColor",{args:arguments},function(){t.radialGradient?n="radialGradient":t.linearGradient&&(n="linearGradient"),n&&(r=t[n],s=f.gradients,d=t.stops,h=i.radialReference,z(r)&&(t[n]=r={x1:r[0],y1:r[1],x2:r[2],y2:r[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===n&&h&&!N(r.gradientUnits)&&(r=X(o=r,f.getRadialAttr(h,o),{gradientUnits:"userSpaceOnUse"})),j(r,function(t,e){"id"!==e&&g.push(e,t)}),j(d,function(t){g.push(t)}),g=g.join(","),s[g]?u=s[g].attr("id"):(r.id=u=O.uniqueKey(),s[g]=l=f.createElement(n).attr(r).add(f.defs),l.radAttr=o,l.stops=[],D(d,function(t){p=0===t[1].indexOf("rgba")?(a=O.color(t[1]),c=a.get("rgb"),a.get("a")):(c=t[1],1),t=f.createElement("stop").attr({offset:t[0],"stop-color":c,"stop-opacity":p}).add(l),l.stops.push(t)})),m="url("+f.url+"#"+u+")",i.setAttribute(e,m),i.gradient=g,t.toString=function(){return m})})},applyTextOutline:function(t){var e,i,a,n,r,o=this.element;if(-1!==t.indexOf("contrast")&&(t=t.replace(/contrast/g,this.renderer.getContrast(o.style.fill))),t=t.split(" "),i=t[t.length-1],(a=t[0])&&"none"!==a&&O.svg){for(this.fakeTS=!0,t=[].slice.call(o.getElementsByTagName("tspan")),this.ySetter=this.xSetter,a=a.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,i){return 2*e+i}),r=t.length;r--;)"highcharts-text-outline"===(e=t[r]).getAttribute("class")&&M(t,o.removeChild(e));n=o.firstChild,D(t,function(t,e){0===e&&(t.setAttribute("x",o.getAttribute("x")),e=o.getAttribute("y"),t.setAttribute("y",e||0),null===e&&o.setAttribute("y",0)),t=t.cloneNode(1),S(t,{class:"highcharts-text-outline",fill:i,stroke:i,"stroke-width":a,"stroke-linejoin":"round"}),o.insertBefore(t,n)})}},attr:function(i,t,e,a){var n,r,o,s,l=this.element,d=this;return"string"==typeof i&&void 0!==t&&(n=i,(i={})[n]=t),"string"==typeof i?d=(this[i+"Getter"]||this._defaultGetter).call(this,i,l):(j(i,function(t,e){o=!1,a||V(this,e),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(e)&&(r||(this.symbolAttr(i),r=!0),o=!0),!this.rotation||"x"!==e&&"y"!==e||(this.doTransform=!0),o||((s=this[e+"Setter"]||this._defaultSetter).call(this,t,e,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(e)&&this.updateShadows(e,t,s))},this),this.afterSetters()),e&&e.call(this),d},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,i){for(var a=this.shadows,n=a.length;n--;)i.call(a[n],"height"===t?Math.max(e-(a[n].cutHeight||0),0):"d"===t?this.d:e,t,a[n])},addClass:function(t,e){var i=this.attr("class")||"";return-1===i.indexOf(t)&&(e||(t=(i+(i?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==E(t,(this.attr("class")||"").split(" "))},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(e){var i=this;D("x y r start end width height innerR anchorX anchorY".split(" "),function(t){i[t]=Y(e[t],i[t])}),i.attr({d:i.renderer.symbols[i.symbolName](i.x,i.y,i.width,i.height,i)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var i;return e=e||t.strokeWidth||0,i=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+i,t.y=Math.floor(t.y||this.y||0)+i,t.width=Math.floor((t.width||this.width||0)-2*i),t.height=Math.floor((t.height||this.height||0)-2*i),N(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e,i,a=this.styles,n={},r=this.element,o="",s=!a,l=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),a&&j(t,function(t,e){t!==a[e]&&(n[e]=t,s=!0)}),s&&(a&&(t=B(a,n)),t&&(null===t.width||"auto"===t.width?delete this.textWidth:"text"===r.nodeName.toLowerCase()&&t.width&&(e=this.textWidth=_(t.width))),this.styles=t,e&&!U&&this.renderer.forExport&&delete t.width,r.namespaceURI===this.SVG_NS?(i=function(t,e){return"-"+e.toLowerCase()},j(t,function(t,e){-1===E(e,l)&&(o+=e.replace(/([A-Z])/g,i)+":"+t+";")}),o&&S(r,"style",o)):C(r,t),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var i=this,a=i.element;return T&&"click"===t?(a.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(a,t)},a.onclick=function(t){(-1===Z.navigator.userAgent.indexOf("Android")||1100<Date.now()-(i.touchEventFired||0))&&e.call(a,t)}):a["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,a=this.scaleY,n=this.inverted,r=this.rotation,o=this.matrix,s=this.element;n&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],N(o)&&t.push("matrix("+o.join(",")+")"),n?t.push("rotate(90) scale(-1,1)"):r&&t.push("rotate("+r+" "+Y(this.rotationOriginX,s.getAttribute("x"),0)+" "+Y(this.rotationOriginY,s.getAttribute("y")||0)+")"),(N(i)||N(a))&&t.push("scale("+Y(i,1)+" "+Y(a,1)+")"),t.length&&s.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var a,n,r,o,s,l,d={};return r=(n=this.renderer).alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||R(i))&&(this.alignTo=a=i||"renderer",M(r,this),r.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,a=this.alignTo),i=Y(i,n[a],n),a=t.align,n=t.verticalAlign,r=(i.x||0)+(t.x||0),o=(i.y||0)+(t.y||0),"right"===a?s=1:"center"===a&&(s=2),s&&(r+=(i.width-(t.width||0))/s),d[e?"translateX":"x"]=Math.round(r),"bottom"===n?l=1:"middle"===n&&(l=2),l&&(o+=(i.height-(t.height||0))/l),d[e?"translateY":"y"]=Math.round(o),this[this.placed?"animate":"attr"](d),this.placed=!0,this.alignAttr=d,this},getBBox:function(t,e){var i,a,n,r,o,s=this.renderer,l=this.element,d=this.styles,c=this.textStr,p=s.cache,h=s.cacheKeys;if(a=(e=Y(e,this.rotation))*w,n=d&&d.fontSize,N(c)&&(-1===(o=c.toString()).indexOf("<")&&(o=o.replace(/[0-9]/g,"0")),o+=["",e||0,n,this.textWidth,d&&d.textOverflow].join()),o&&!t&&(i=p[o]),!i){if(l.namespaceURI===this.SVG_NS||s.forExport){try{(r=this.fakeTS&&function(e){D(l.querySelectorAll(".highcharts-text-outline"),function(t){t.style.display=e})})&&r("none"),i=l.getBBox?B({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight},r&&r("")}catch(t){}(!i||i.width<0)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(s.isSVG&&(t=i.width,s=i.height,d&&"11px"===d.fontSize&&17===Math.round(s)&&(i.height=s=14),e&&(i.width=Math.abs(s*Math.sin(a))+Math.abs(t*Math.cos(a)),i.height=Math.abs(s*Math.cos(a))+Math.abs(t*Math.sin(a)))),o&&0<i.height){for(;250<h.length;)delete p[h.shift()];p[o]||h.push(o),p[o]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,a=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(a),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var i=this,t=i.element||{},e=i.renderer.isSVG&&"SPAN"===t.nodeName&&i.parentGroup,a=t.ownerSVGElement,n=i.clipPath;if(t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,V(i),n&&a&&(D(a.querySelectorAll("[clip-path],[CLIP-PATH]"),function(t){var e=t.getAttribute("clip-path"),i=n.element.id;(-1<e.indexOf("(#"+i+")")||-1<e.indexOf('("#'+i+'")'))&&t.removeAttribute("clip-path")}),i.clipPath=n.destroy()),i.stops){for(a=0;a<i.stops.length;a++)i.stops[a]=i.stops[a].destroy();i.stops=null}for(i.safeRemoveChild(t),i.destroyShadows();e&&e.div&&0===e.div.childNodes.length;)t=e.parentGroup,i.safeRemoveChild(e.div),delete e.div,e=t;return i.alignTo&&M(i.renderer.alignedObjects,i),j(i,function(t,e){delete i[e]}),null},shadow:function(t,e,i){var a,n,r,o,s,l,d=[],c=this.element;if(t){if(!this.shadows){for(o=Y(t.width,3),s=(t.opacity||.15)/o,l=this.parentInverted?"(-1,-1)":"("+Y(t.offsetX,1)+", "+Y(t.offsetY,1)+")",a=1;a<=o;a++)n=c.cloneNode(0),r=2*o+1-2*a,S(n,{stroke:t.color||"#000000","stroke-opacity":s*a,"stroke-width":r,transform:"translate"+l,fill:"none"}),n.setAttribute("class",(n.getAttribute("class")||"")+" highcharts-shadow"),i&&(S(n,"height",Math.max(S(n,"height")-r,0)),n.cutHeight=r),e?e.element.appendChild(n):c.parentNode&&c.parentNode.insertBefore(n,c),d.push(n);this.shadows=d}}else this.destroyShadows();return this},destroyShadows:function(){D(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=Y(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(e=(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;e--;)t[e]=_(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.alignValue=t,this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=A.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(A.createTextNode(String(Y(t),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.complexColor(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var i,a,n,r,o=this.renderer,s=this.parentGroup,l=(s||o).element||o.box,d=this.element;if(o=l===o.box,i=this.added,N(t)?(d.setAttribute("data-z-index",t),t=+t,this[e]===t&&(i=!1)):N(this[e])&&d.removeAttribute("data-z-index"),this[e]=t,i){for((t=this.zIndex)&&s&&(s.handleZ=!0),r=(e=l.childNodes).length-1;0<=r&&!a;r--)i=(s=e[r]).getAttribute("data-z-index"),n=!N(i),s!==d&&(t<0&&n&&!o&&!r?(l.insertBefore(d,e[r]),a=!0):(_(i)<=t||n&&(!N(t)||0<=t))&&(l.insertBefore(d,e[r+1]||null),a=!0));a||(l.insertBefore(d,e[o?3:0]||null),a=!0)}return a},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}}),I.prototype.yGetter=I.prototype.xGetter,I.prototype.translateXSetter=I.prototype.translateYSetter=I.prototype.rotationSetter=I.prototype.verticalAlignSetter=I.prototype.rotationOriginXSetter=I.prototype.rotationOriginYSetter=I.prototype.scaleXSetter=I.prototype.scaleYSetter=I.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},I.prototype["stroke-widthSetter"]=I.prototype.strokeSetter=function(t,e,i){this[e]=t,this.stroke&&this["stroke-width"]?(I.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)},f=O.SVGRenderer=function(){this.init.apply(this,arguments)},B(f.prototype,{Element:I,SVG_NS:K,init:function(t,e,i,a,n,r){var o,s;o=(a=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(a))).element,t.appendChild(o),S(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&S(o,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=o,this.boxWrapper=a,this.alignedObjects=[],this.url=(P||W)&&A.getElementsByTagName("base").length?Z.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(A.createTextNode("Created with Highcharts 6.1.4")),this.defs=this.createElement("defs").add(),this.allowHTML=r,this.forExport=n,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1),P&&t.getBoundingClientRect&&((e=function(){C(t,{left:0,top:0}),s=t.getBoundingClientRect(),C(t,{left:Math.ceil(s.left)-s.left+"px",top:Math.ceil(s.top)-s.top+"px"})})(),this.unSubPixelFix=g(Z,"resize",e))},getStyle:function(t){return this.style=B({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),k(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:G,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},truncate:function(i,a,n,r,o,t,s){var e,l,d,c=this,p=i.rotation,h=r?1:0,u=(n||r).length,m=u,f=[],g=function(t){a.firstChild&&a.removeChild(a.firstChild),t&&a.appendChild(A.createTextNode(t))},v=function(t,e){if(void 0===f[e=e||t])if(a.getSubStringLength)try{f[e]=o+a.getSubStringLength(0,r?e+1:e)}catch(t){}else g(s(n||r,t)),f[e]=o+c.getSpanWidth(i,a);return f[e]};if(i.rotation=0,l=v(a.textContent.length),d=t<o+l){for(;h<=u;)m=Math.ceil((h+u)/2),r&&(e=s(r,m)),l=v(m,e&&e.length-1),h===u?h=u+1:t<l?u=m-1:h=m;0===u?g(""):n&&u===n.length-1||g(e||s(n||r,m))}return r&&r.splice(0,m),i.actualWidth=l,i.rotation=p,d},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(p){var h,t,u,m=p.element,f=this,g=f.forExport,e=Y(p.textStr,"").toString(),i=-1!==e.indexOf("<"),a=m.childNodes,v=S(m,"x"),n=p.styles,b=p.textWidth,r=n&&n.lineHeight,o=n&&n.textOutline,x=n&&"ellipsis"===n.textOverflow,y=n&&"nowrap"===n.whiteSpace,w=n&&n.fontSize,s=a.length,k=(n=b&&!p.added&&this.box,function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:w||f.style.fontSize||12,r?_(r):f.fontMetrics(e,t.getAttribute("style")?t:m).h}),M=function(i,a){return j(f.escapes,function(t,e){a&&-1!==E(t,a)||(i=i.toString().replace(new RegExp(t,"g"),e))}),i},T=function(t,e){var i;if(i=t.indexOf("<"),-1!==(i=(t=t.substring(i,t.indexOf(">")-i)).indexOf(e+"="))&&(i=i+e.length+1,'"'===(e=t.charAt(i))||"'"===e))return(t=t.substring(i+1)).substring(0,t.indexOf(e))};if((t=[e,x,y,r,o,w,b].join())!==p.textCache){for(p.textCache=t;s--;)m.removeChild(a[s]);i||o||x||b||-1!==e.indexOf(" ")?(n&&n.appendChild(m),e=i?e.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[e],e=L(e,function(t){return""!==t}),D(e,function(t,s){var l,d=0,c=0;t=t.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),l=t.split("|||"),D(l,function(t){if(""!==t||1===l.length){var e,i,a={},n=A.createElementNS(f.SVG_NS,"tspan");if((e=T(t,"class"))&&S(n,"class",e),(e=T(t,"style"))&&(e=e.replace(/(;| |^)color([ :])/,"$1fill$2"),S(n,"style",e)),(i=T(t,"href"))&&!g&&(S(n,"onclick",'location.href="'+i+'"'),S(n,"class","highcharts-anchor"),C(n,{cursor:"pointer"}))," "!==(t=M(t.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(n.appendChild(A.createTextNode(t)),d?a.dx=0:s&&null!==v&&(a.x=v),S(n,a),m.appendChild(n),!d&&u&&(!U&&g&&C(n,{display:"block"}),S(n,"dy",k(n))),b){var r=t.replace(/([^\^])-/g,"$1- ").split(" ");a=!y&&(1<l.length||s||1<r.length),i=0;var o=k(n);if(x)h=f.truncate(p,n,t,void 0,0,Math.max(0,b-parseInt(w||12,10)),function(t,e){return t.substring(0,e)+"…"});else if(a)for(;r.length;)r.length&&!y&&0<i&&(n=A.createElementNS(K,"tspan"),S(n,{dy:o,x:v}),e&&S(n,"style",e),n.appendChild(A.createTextNode(r.join(" ").replace(/- /g,"-"))),m.appendChild(n)),f.truncate(p,n,null,r,0===i?c:0,b,function(t,e){return r.slice(0,e).join(" ").replace(/- /g,"-")}),c=p.actualWidth,i++}d++}}}),u=u||m.childNodes.length}),x&&h&&p.attr("title",M(p.textStr,["&lt;","&gt;"])),n&&n.removeChild(m),o&&p.applyTextOutline&&p.applyTextOutline(o)):m.appendChild(A.createTextNode(M(e)))}},getContrast:function(t){return(t=x(t).rgba)[0]*=1,t[1]*=1.2,t[2]*=.5,459<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,i,a,n,r,o,s,l){var d,c,p,h,u=this.label(t,e,i,l,null,null,null,null,"button"),m=0;return u.attr(X({padding:8,r:2},n)),n=X({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},n),d=n.style,delete n.style,r=X(n,{fill:"#e6e6e6"},r),c=r.style,delete r.style,o=X(n,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},o),p=o.style,delete o.style,s=X(n,{style:{color:"#cccccc"}},s),h=s.style,delete s.style,g(u.element,H?"mouseover":"mouseenter",function(){3!==m&&u.setState(1)}),g(u.element,H?"mouseout":"mouseleave",function(){3!==m&&u.setState(m)}),u.setState=function(t){1!==t&&(u.state=m=t),u.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),u.attr([n,r,o,s][t||0]).css([d,c,p,h][t||0])},u.attr(n).css(B({cursor:"default"},d)),u.on("click",function(t){3!==m&&a.call(u,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return z(t)?e.d=t:F(t)&&B(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=F(t)?t:{x:t,y:e,r:i},(e=this.createElement("circle")).xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,i,a,n,r){return F(t)?(e=(a=t).y,i=a.r,t=a.x):a={innerR:a,start:n,end:r},(t=this.symbol("arc",t,e,i,i,a)).r=i,t},rect:function(t,e,i,a,n,r){n=F(t)?t.r:n;var o=this.createElement("rect");return t=F(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(i,0),height:Math.max(a,0)},void 0!==r&&(t.strokeWidth=r,t=o.crisp(t)),t.fill="none",n&&(t.r=n),o.rSetter=function(t,e,i){S(i,{rx:t,ry:t})},o.attr(t)},setSize:function(t,e,i){var a=this.alignedObjects,n=a.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Y(i,!0)?void 0:0});n--;)a[n].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(e,t,i,a,n,r){var o,s={preserveAspectRatio:"none"},l=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)},d=function(t){l(o.element,e),r.call(o,t)};return 1<arguments.length&&B(s,{x:t,y:i,width:a,height:n}),o=this.createElement("image").attr(s),r?(l(o.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),s=new Z.Image,g(s,"load",d),s.src=e,s.complete&&d({})):l(o.element,e),o},symbol:function(t,e,i,a,n,r){var o,s,l,d=this,c=/^url\((.*?)\)$/,p=c.test(t),h=!p&&(this.symbols[t]?t:"circle"),u=h&&this.symbols[h],m=N(e)&&u&&u.call(this.symbols,Math.round(e),Math.round(i),a,n,r);return u?((o=this.path(m)).attr("fill","none"),B(o,{symbolName:h,x:e,y:i,width:a,height:n}),r&&B(o,r)):p&&(s=t.match(c)[1],(o=this.image(s)).imgwidth=Y($[s]&&$[s].width,r&&r.width),o.imgheight=Y($[s]&&$[s].height,r&&r.height),l=function(){o.attr({width:o.width,height:o.height})},D(["width","height"],function(t){o[t+"Setter"]=function(t,e){var i={},a=this["img"+e],n="width"===e?"translateX":"translateY";this[e]=t,N(a)&&(this.element&&this.element.setAttribute(e,a),this.alignByTranslate||(i[n]=((this[e]||0)-a)/2,this.attr(i)))}}),N(e)&&o.attr({x:e,y:i}),o.isImg=!0,N(o.imgwidth)&&N(o.imgheight)?l():(o.attr({width:0,height:0}),y("img",{onload:function(){var t=b[d.chartIndex];0===this.width&&(C(this,{position:"absolute",top:"-999em"}),A.body.appendChild(this)),$[s]={width:this.width,height:this.height},o.imgwidth=this.width,o.imgheight=this.height,o.element&&l(),this.parentNode&&this.parentNode.removeChild(this),d.imgCount--,!d.imgCount&&t&&t.onload&&t.onload()},src:s}),this.imgCount++)),o},symbols:{circle:function(t,e,i,a){return this.arc(t+i/2,e+a/2,i/2,a/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,i,a){return["M",t,e,"L",t+i,e,t+i,e+a,t,e+a,"Z"]},triangle:function(t,e,i,a){return["M",t+i/2,e,"L",t+i,e+a,t,e+a,"Z"]},"triangle-down":function(t,e,i,a){return["M",t,e,"L",t+i,e,t+i/2,e+a,"Z"]},diamond:function(t,e,i,a){return["M",t+i/2,e,"L",t+i,e+a/2,t+i/2,e+a,t,e+a/2,"Z"]},arc:function(t,e,i,a,n){var r=n.start,o=n.r||i,s=n.r||a||i,l=n.end-.001;i=n.innerR,a=Y(n.open,Math.abs(n.end-n.start-2*Math.PI)<.001);var d=Math.cos(r),c=Math.sin(r),p=Math.cos(l);return l=Math.sin(l),o=["M",t+o*d,e+s*c,"A",o,s,0,n=n.end-r-Math.PI<.001?0:1,1,t+o*p,e+s*l],N(i)&&o.push(a?"M":"L",t+i*p,e+i*l,"A",i,i,0,n,0,t+i*d,e+i*c),o.push(a?"":"Z"),o},callout:function(t,e,i,a,n){var r,o=Math.min(n&&n.r||0,i,a),s=o+6,l=n&&n.anchorX;return n=n&&n.anchorY,r=["M",t+o,e,"L",t+i-o,e,"C",t+i,e,t+i,e,t+i,e+o,"L",t+i,e+a-o,"C",t+i,e+a,t+i,e+a,t+i-o,e+a,"L",t+o,e+a,"C",t,e+a,t,e+a,t,e+a-o,"L",t,e+o,"C",t,e,t,e,t+o,e],l&&i<l?e+s<n&&n<e+a-s?r.splice(13,3,"L",t+i,n-6,t+i+6,n,t+i,n+6,t+i,e+a-o):r.splice(13,3,"L",t+i,a/2,l,n,t+i,a/2,t+i,e+a-o):l&&l<0?e+s<n&&n<e+a-s?r.splice(33,3,"L",t,n+6,t-6,n,t,n-6,t,e+o):r.splice(33,3,"L",t,a/2,l,n,t,a/2,t,e+o):n&&a<n&&t+s<l&&l<t+i-s?r.splice(23,3,"L",l+6,e+a,l,e+a+6,l-6,e+a,t+o,e+a):n&&n<0&&t+s<l&&l<t+i-s&&r.splice(3,3,"L",l-6,e,l,e-6,l+6,e,i-o,e),r}},clipRect:function(t,e,i,a){var n=O.uniqueKey(),r=this.createElement("clipPath").attr({id:n}).add(this.defs);return(t=this.rect(t,e,i,a,0).add(r)).id=n,t.clipPath=r,t.count=0,t},text:function(t,e,i,a){var n={};return!a||!this.allowHTML&&this.forExport?(n.x=Math.round(e||0),i&&(n.y=Math.round(i)),(t||0===t)&&(n.text=t),t=this.createElement("text").attr(n),a||(t.xSetter=function(t,e,i){var a,n,r=i.getElementsByTagName("tspan"),o=i.getAttribute(e);for(n=0;n<r.length;n++)(a=r[n]).getAttribute(e)===o&&a.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(t,e){return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,{h:e=(t=/px/.test(t)?_(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12)<24?t+3:Math.round(1.2*t),b:Math.round(.8*e),f:t}},rotCorr:function(t,e,i){var a=t;return e&&i&&(a=Math.max(a*Math.cos(e*w),4)),{x:-t/3*Math.sin(e*w),y:a}},label:function(t,e,i,a,n,r,o,s,l){var d,c,p,h,u,m,f,g,v,b,x,y,w,k=this,M=k.g("button"!==l&&"label"),T=M.text=k.text("",0,0,o).attr({zIndex:1}),S=0,C=3,A=0,L={},E=/^url\((.*?)\)$/.test(a),z=E;l&&M.addClass("highcharts-"+l),z=E,b=function(){return(g||0)%2/2},x=function(){var t=T.element.style,e={};c=(void 0===p||void 0===h||f)&&N(T.textStr)&&T.getBBox(),M.width=(p||c.width||0)+2*C+A,M.height=(h||c.height||0)+2*C,v=C+k.fontMetrics(t&&t.fontSize,T).b,z&&(d||(M.box=d=k.symbols[a]||E?k.symbol(a):k.rect(),d.addClass(("button"===l?"":"highcharts-label-box")+(l?" highcharts-"+l+"-box":"")),d.add(M),t=b(),e.x=t,e.y=(s?-v:0)+t),e.width=Math.round(M.width),e.height=Math.round(M.height),d.attr(B(e,L)),L={})},y=function(){var t,e=A+C;t=s?0:v,N(p)&&c&&("center"===f||"right"===f)&&(e+={center:.5,right:1}[f]*(p-c.width)),e===T.x&&t===T.y||(T.attr("x",e),T.hasBoxWidthChanged&&(c=T.getBBox(!0),x()),void 0!==t&&T.attr("y",t)),T.x=e,T.y=t},w=function(t,e){d?d.attr(t,e):L[t]=e},M.onAdd=function(){T.add(M),M.attr({text:t||0===t?t:"",x:e,y:i}),d&&N(n)&&M.attr({anchorX:n,anchorY:r})},M.widthSetter=function(t){p=O.isNumber(t)?t:null},M.heightSetter=function(t){h=t},M["text-alignSetter"]=function(t){f=t},M.paddingSetter=function(t){N(t)&&t!==C&&(C=M.padding=t,y())},M.paddingLeftSetter=function(t){N(t)&&t!==A&&(A=t,y())},M.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==S&&(S=t,c&&M.attr({x:u}))},M.textSetter=function(t){void 0!==t&&T.textSetter(t),x(),y()},M["stroke-widthSetter"]=function(t,e){t&&(z=!0),g=this["stroke-width"]=t,w(e,t)},M.strokeSetter=M.fillSetter=M.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(z=!0),M[e]=t),w(e,t)},M.anchorXSetter=function(t,e){n=M.anchorX=t,w(e,Math.round(t)-b()-u)},M.anchorYSetter=function(t,e){r=M.anchorY=t,w(e,t-m)},M.xSetter=function(t){M.x=t,S&&(t-=S*((p||c.width)+2*C),M["forceAnimate:x"]=!0),u=Math.round(t),M.attr("translateX",u)},M.ySetter=function(t){m=M.y=Math.round(t),M.attr("translateY",m)};var P=M.css;return B(M,{css:function(e){if(e){var i={};e=X(e),D(M.textProps,function(t){void 0!==e[t]&&(i[t]=e[t],delete e[t])}),T.css(i),"width"in i&&x()}return P.call(M,e)},getBBox:function(){return{width:c.width+2*C,height:c.height+2*C,x:c.x-C,y:c.y-C}},shadow:function(t){return t&&(x(),d&&d.shadow(t)),M},destroy:function(){q(M.element,"mouseenter"),q(M.element,"mouseleave"),T&&(T=T.destroy()),d&&(d=d.destroy()),I.prototype.destroy.call(M),M=k=x=y=w=null}})}}),O.Renderer=f,J=(Q=It).attr,tt=Q.createElement,et=Q.css,it=Q.defined,at=Q.each,nt=Q.extend,rt=Q.isFirefox,ot=Q.isMS,st=Q.isWebKit,lt=Q.pick,dt=Q.pInt,ct=Q.SVGRenderer,pt=Q.win,ht=Q.wrap,nt(Q.SVGElement.prototype,{htmlCss:function(t){var e="SPAN"===this.element.tagName&&t&&"width"in t,i=lt(e&&t.width,void 0);return e&&(delete t.width,this.textWidth=i,this.htmlUpdateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=nt(this.styles,t),et(this.element,t),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,i=this.element,a=this.translateX||0,n=this.translateY||0,t=this.x||0,r=this.y||0,o=this.textAlign||"left",s={left:0,center:.5,right:1}[o],l=(c=this.styles)&&c.whiteSpace;if(et(i,{marginLeft:a,marginTop:n}),this.shadows&&at(this.shadows,function(t){et(t,{marginLeft:a+1,marginTop:n+1})}),this.inverted&&at(i.childNodes,function(t){e.invertChild(t,i)}),"SPAN"===i.tagName){var d,c=this.rotation,p=this.textWidth&&dt(this.textWidth),h=[c,o,i.innerHTML,this.textWidth,this.textAlign].join();(d=p!==this.oldTextWidth)&&!(d=p>this.oldTextWidth)&&((d=this.textPxLength)||(et(i,{width:"",whiteSpace:l||"nowrap"}),d=i.offsetWidth),d=p<d),d&&/[ \-]/.test(i.textContent||i.innerText)?(et(i,{width:p+"px",display:"block",whiteSpace:l||"normal"}),this.oldTextWidth=p,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,h!==this.cTT&&(l=e.fontMetrics(i.style.fontSize).b,!it(c)||c===(this.oldRotation||0)&&o===this.oldAlign||this.setSpanRotation(c,s,l),this.getSpanCorrection(!it(c)&&this.textPxLength||i.offsetWidth,l,s,c,o)),et(i,{left:t+(this.xCorr||0)+"px",top:r+(this.yCorr||0)+"px"}),this.cTT=h,this.oldRotation=c,this.oldAlign=o}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var a={},n=this.renderer.getTransformKey();a[n]=a.transform="rotate("+t+"deg)",a[n+(rt?"Origin":"-origin")]=a.transformOrigin=100*e+"% "+i+"px",et(this.element,a)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),nt(ct.prototype,{getTransformKey:function(){return ot&&!/Edge/.test(pt.navigator.userAgent)?"-ms-transform":st?"-webkit-transform":rt?"MozTransform":pt.opera?"-o-transform":""},html:function(t,e,i){var l=this.createElement("span"),a=l.element,n=l.renderer,r=n.isSVG,d=function(e,n){at(["opacity","visibility"],function(t){ht(e,t+"Setter",function(t,e,i,a){t.call(this,e,i,a),n[i]=e})}),e.addedSetters=!0};return l.textSetter=function(t){t!==a.innerHTML&&delete this.bBox,this.textStr=t,a.innerHTML=lt(t,""),l.doTransform=!0},r&&d(l,l.element.style),l.xSetter=l.ySetter=l.alignSetter=l.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),l[e]=t,l.doTransform=!0},l.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},l.attr({text:t,x:Math.round(e),y:Math.round(i)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),a.style.whiteSpace="nowrap",l.css=l.htmlCss,r&&(l.add=function(t){var r,o=n.box.parentNode,s=[];if(this.parentGroup=t){if(!(r=t.div)){for(;t;)s.push(t),t=t.parentGroup;at(s.reverse(),function(i){function t(t,e){i[e]=t,"translateX"===e?a.left=t+"px":a.top=t+"px",i.doTransform=!0}var a,e,n=J(i.element,"class");n&&(n={className:n}),r=i.div=i.div||tt("div",n,{position:"absolute",left:(i.translateX||0)+"px",top:(i.translateY||0)+"px",display:i.display,opacity:i.opacity,pointerEvents:i.styles&&i.styles.pointerEvents},r||o),a=r.style,nt(i,{classSetter:(e=r,function(t){this.element.setAttribute("class",t),e.className=t}),on:function(){return s[0].div&&l.on.apply({element:s[0].div},arguments),i},translateXSetter:t,translateYSetter:t}),i.addedSetters||d(i,a)})}}else r=o;return r.appendChild(a),l.added=!0,l.alignOnAdd&&l.htmlUpdateTransform(),l}),l}}),mt=(ut=It).defined,ft=ut.each,gt=ut.extend,vt=ut.merge,bt=ut.pick,xt=ut.timeUnits,yt=ut.win,ut.Time=function(t){this.update(t,!1)},ut.Time.prototype={defaultOptions:{},update:function(t){var e=bt(t&&t.useUTC,!0),n=this;this.options=t=vt(!0,this.options||{},t),this.Date=t.Date||yt.Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(e&&!t.getTimezoneOffset&&!t.timezone))||this.timezoneOffset?(this.get=function(t,e){var i=e.getTime(),a=i-n.getTimezoneOffset(e);return e.setTime(a),t=e["getUTC"+t](),e.setTime(i),t},this.set=function(t,e,i){var a;"Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0==e.getTimezoneOffset()%60?e["set"+t](i):(a=n.getTimezoneOffset(e),a=e.getTime()-a,e.setTime(a),e["setUTC"+t](i),t=n.getTimezoneOffset(e),a=e.getTime()+t,e.setTime(a))}):this.set=e?(this.get=function(t,e){return e["getUTC"+t]()},function(t,e,i){return e["setUTC"+t](i)}):(this.get=function(t,e){return e["get"+t]()},function(t,e,i){return e["set"+t](i)})},makeTime:function(t,e,i,a,n,r){var o,s,l;return this.useUTC?(o=this.Date.UTC.apply(0,arguments),o+=s=this.getTimezoneOffset(o),s!==(l=this.getTimezoneOffset(o))?o+=l-s:s-36e5!==this.getTimezoneOffset(o-36e5)||ut.isSafari||(o-=36e5)):o=new this.Date(t,e,bt(i,1),bt(a,0),bt(n,0),bt(r,0)).getTime(),o},timezoneOffsetFunction:function(){var t=this,e=this.options,i=yt.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(e.timezone){if(i)return function(t){return 6e4*-i.tz(t,e.timezone).utcOffset()};ut.error(25)}return this.useUTC&&e.getTimezoneOffset?function(t){return 6e4*e.getTimezoneOffset(t)}:function(){return 6e4*(t.timezoneOffset||0)}},dateFormat:function(i,a,t){if(!ut.defined(a)||isNaN(a))return ut.defaultOptions.lang.invalidDate||"";i=ut.pick(i,"%Y-%m-%d %H:%M:%S");var n=this,e=new this.Date(a),r=this.get("Hours",e),o=this.get("Day",e),s=this.get("Date",e),l=this.get("Month",e),d=this.get("FullYear",e),c=ut.defaultOptions.lang,p=c.weekdays,h=c.shortWeekdays,u=ut.pad;return e=ut.extend({a:h?h[o]:p[o].substr(0,3),A:p[o],d:u(s),e:u(s,2," "),w:o,b:c.shortMonths[l],B:c.months[l],m:u(l+1),o:l+1,y:d.toString().substr(2,2),Y:d,H:u(r),k:r,I:u(r%12||12),l:r%12||12,M:u(n.get("Minutes",e)),p:r<12?"AM":"PM",P:r<12?"am":"pm",S:u(e.getSeconds()),L:u(Math.floor(a%1e3),3)},ut.dateFormats),ut.objectEach(e,function(t,e){for(;-1!==i.indexOf("%"+e);)i=i.replace("%"+e,"function"==typeof t?t.call(n,a):t)}),t?i.substr(0,1).toUpperCase()+i.substr(1):i},getTimeTicks:function(t,e,i,a){var n,r,o=this,s=[],l={};n=new o.Date(e);var d,c=t.unitRange,p=t.count||1;if(a=bt(a,1),mt(e)){o.set("Milliseconds",n,c>=xt.second?0:p*Math.floor(o.get("Milliseconds",n)/p)),c>=xt.second&&o.set("Seconds",n,c>=xt.minute?0:p*Math.floor(o.get("Seconds",n)/p)),c>=xt.minute&&o.set("Minutes",n,c>=xt.hour?0:p*Math.floor(o.get("Minutes",n)/p)),c>=xt.hour&&o.set("Hours",n,c>=xt.day?0:p*Math.floor(o.get("Hours",n)/p)),c>=xt.day&&o.set("Date",n,c>=xt.month?1:p*Math.floor(o.get("Date",n)/p)),c>=xt.month&&(o.set("Month",n,c>=xt.year?0:p*Math.floor(o.get("Month",n)/p)),r=o.get("FullYear",n)),c>=xt.year&&o.set("FullYear",n,r-r%p),c===xt.week&&(r=o.get("Day",n),o.set("Date",n,o.get("Date",n)-r+a+(r<a?-7:0))),r=o.get("FullYear",n),a=o.get("Month",n);var h=o.get("Date",n),u=o.get("Hours",n);for(e=n.getTime(),o.variableTimezone&&(d=i-e>4*xt.month||o.getTimezoneOffset(e)!==o.getTimezoneOffset(i)),e=n.getTime(),n=1;e<i;)s.push(e),e=c===xt.year?o.makeTime(r+n*p,0):c===xt.month?o.makeTime(r,a+n*p):!d||c!==xt.day&&c!==xt.week?d&&c===xt.hour&&1<p?o.makeTime(r,a,h,u+n*p):e+c*p:o.makeTime(r,a,h+n*p*(c===xt.day?1:7)),n++;s.push(e),c<=xt.hour&&s.length<1e4&&ft(s,function(t){0==t%18e5&&"000000000"===o.dateFormat("%H%M%S%L",t)&&(l[t]="day")})}return s.info=gt(t,{higherRanks:l,totalRange:c*p}),s}},kt=(wt=It).color,Mt=wt.merge,wt.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:wt.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:wt.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:wt.isTouchDevice?25:10,backgroundColor:kt("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},wt.setOptions=function(t){return wt.defaultOptions=Mt(!0,wt.defaultOptions,t),wt.time.update(Mt(wt.defaultOptions.global,wt.defaultOptions.time),!1),wt.defaultOptions},wt.getOptions=function(){return wt.defaultOptions},wt.defaultPlotOptions=wt.defaultOptions.plotOptions,wt.time=new wt.Time(Mt(wt.defaultOptions.global,wt.defaultOptions.time)),wt.dateFormat=function(t,e,i){return wt.time.dateFormat(t,e,i)},St=(Tt=It).correctFloat,Ct=Tt.defined,At=Tt.destroyObjectProperties,Lt=Tt.fireEvent,Et=Tt.isNumber,zt=Tt.merge,Pt=Tt.pick,Ot=Tt.deg2rad,Tt.Tick=function(t,e,i,a){this.axis=t,this.pos=e,this.type=i||"",this.isNewLabel=this.isNew=!0,i||a||this.addLabel()},Tt.Tick.prototype={addLabel:function(){var t,e=this.axis,i=e.options,a=e.chart,n=e.categories,r=e.names,o=this.pos,s=i.labels,l=o===(c=e.tickPositions)[0],d=o===c[c.length-1],c=(r=n?Pt(n[o],r[o],o):o,n=this.label,c.info);e.isDatetimeAxis&&c&&(t=i.dateTimeLabelFormats[c.higherRanks[o]||c.unitName]),i={axis:e,chart:a,isFirst:this.isFirst=l,isLast:this.isLast=d,dateTimeLabelFormat:t,value:e.isLog?St(e.lin2log(r)):r,pos:o},i=e.labelFormatter.call(i,i),Ct(n)?n&&n.textStr!==i&&(!n.textWidth||s.style&&s.style.width||n.styles.width||n.css({width:null}),n.attr({text:i})):((this.label=n=Ct(i)&&s.enabled?a.renderer.text(i,0,0,s.useHTML).css(zt(s.style)).add(e.labelGroup):null)&&(n.textPxLength=n.getBBox().width),this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,a=i.options.labels,n=t.x,r=i.chart.chartWidth,o=i.chart.spacing,s=Pt(i.labelLeft,Math.min(i.pos,o[3])),l=(o=Pt(i.labelRight,Math.max(i.isRadial?0:i.pos+i.len,r-o[1])),this.label),d=this.rotation,c={left:0,center:.5,right:1}[i.labelAlign||l.attr("align")],p=l.getBBox().width,h=i.getSlotWidth(this),u=h,m=1,f={};d||"justify"!==Pt(a.overflow,"justify")?d<0&&n-c*p<s?e=Math.round(n/Math.cos(d*Ot)-s):0<d&&o<n+c*p&&(e=Math.round((r-n)/Math.cos(d*Ot))):(r=n+(1-c)*p,n-c*p<s?u=t.x+u*(1-c)-s:o<r&&(u=o-t.x+u*c,m=-1),(u=Math.min(h,u))<h&&"center"===i.labelAlign&&(t.x+=m*(h-u-c*(h-Math.min(p,u)))),(u<p||i.autoRotation&&(l.styles||{}).width)&&(e=u)),e&&(f.width=e,(a.style||{}).textOverflow||(f.textOverflow="ellipsis"),l.css(f))},getPosition:function(t,e,i,a){var n=this.axis,r=n.chart,o=a&&r.oldChartHeight||r.chartHeight;return t={x:t?Tt.correctFloat(n.translate(e+i,null,null,a)+n.transB):n.left+n.offset+(n.opposite?(a&&r.oldChartWidth||r.chartWidth)-n.right-n.left:0),y:t?o-n.bottom+n.offset-(n.opposite?n.height:0):Tt.correctFloat(o-n.translate(e+i,null,null,a)-n.transB)},Lt(this,"afterGetPosition",{pos:t}),t},getLabelPosition:function(t,e,i,a,n,r,o,s){var l=this.axis,d=l.transA,c=l.reversed,p=l.staggerLines,h=l.tickRotCorr||{x:0,y:0},u=n.y,m=a||l.reserveSpaceDefault?0:-l.labelOffset*("center"===l.labelAlign?.5:1),f={};return Ct(u)||(u=0===l.side?i.rotation?-8:-i.getBBox().height:2===l.side?h.y+8:Math.cos(i.rotation*Ot)*(h.y-i.getBBox(!1,0).height/2)),t=t+n.x+m+h.x-(r&&a?r*d*(c?-1:1):0),e=e+u-(r&&!a?r*d*(c?1:-1):0),p&&(i=o/(s||1)%p,l.opposite&&(i=p-i-1),e+=l.labelOffset/p*i),f.x=t,f.y=Math.round(e),Lt(this,"afterGetLabelPosition",{pos:f}),f},getMarkPath:function(t,e,i,a,n,r){return r.crispLine(["M",t,e,"L",t+(n?0:-i),e+(n?i:0)],a)},renderGridLine:function(t,e,i){var a=this.axis,n=a.options,r=this.gridLine,o={},s=this.pos,l=this.type,d=a.tickmarkOffset,c=a.chart.renderer,p=l?l+"Grid":"grid",h=n[p+"LineWidth"],u=n[p+"LineColor"];n=n[p+"LineDashStyle"],r||(o.stroke=u,o["stroke-width"]=h,n&&(o.dashstyle=n),l||(o.zIndex=1),t&&(o.opacity=0),this.gridLine=r=c.path().attr(o).addClass("highcharts-"+(l?l+"-":"")+"grid-line").add(a.gridGroup)),!t&&r&&(t=a.getPlotLinePath(s+d,r.strokeWidth()*i,t,!0))&&r[this.isNew?"attr":"animate"]({d:t,opacity:e})},renderMark:function(t,e,i){var a=this.axis,n=a.options,r=a.chart.renderer,o=this.type,s=o?o+"Tick":"tick",l=a.tickSize(s),d=this.mark,c=!d,p=t.x;t=t.y;var h=Pt(n[s+"Width"],!o&&a.isXAxis?1:0);n=n[s+"Color"],l&&(a.opposite&&(l[0]=-l[0]),c&&(this.mark=d=r.path().addClass("highcharts-"+(o?o+"-":"")+"tick").add(a.axisGroup),d.attr({stroke:n,"stroke-width":h})),d[c?"attr":"animate"]({d:this.getMarkPath(p,t,l[0],d.strokeWidth()*i,a.horiz,r),opacity:e}))},renderLabel:function(t,e,i,a){var n=(d=this.axis).horiz,r=d.options,o=this.label,s=r.labels,l=s.step,d=d.tickmarkOffset,c=!0,p=t.x;t=t.y,o&&Et(p)&&(o.xy=t=this.getLabelPosition(p,t,o,n,s,d,a,l),this.isFirst&&!this.isLast&&!Pt(r.showFirstLabel,1)||this.isLast&&!this.isFirst&&!Pt(r.showLastLabel,1)?c=!1:!n||s.step||s.rotation||e||0===i||this.handleOverflow(t),l&&a%l&&(c=!1),c&&Et(t.y)?(t.opacity=i,o[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(o.attr("y",-9999),this.isNewLabel=!0))},render:function(t,e,i){var a=(s=this.axis).horiz,n=this.getPosition(a,this.pos,s.tickmarkOffset,e),r=n.x,o=n.y,s=a&&r===s.pos+s.len||!a&&o===s.pos?-1:1;i=Pt(i,1),this.isActive=!0,this.renderGridLine(e,i,s),this.renderMark(n,i,s),this.renderLabel(n,e,i,t),this.isNew=!1,Tt.fireEvent(this,"afterRender")},destroy:function(){At(this,this.axis)}};var Nt,Dt,Bt,Ht,Ft,Rt,Wt,Xt,Gt,jt,Yt,_t,qt,Vt,Ut,Kt,$t,Zt,Qt,Jt,te,ee,ie,ae,ne,re,oe,se,le,de,ce,pe,he,ue,me,fe,ge,ve,be,xe,ye,we,ke,Me,Te,Se,Ce,Ae,Le,Ee,ze,Pe,Oe,Ie,Ne,De,Be,He,Fe,Re,We,Xe,Ge,je,Ye,_e,qe,Ve,Ue,Ke,$e,Ze,Qe,Je,ti,ei,ii,ai,ni,ri,oi,si,li,di,ci,pi,hi,ui,mi,fi,gi,vi,bi,xi,yi,wi,ki,Mi,Ti,Si,Ci,Ai,Li,Ei,zi,Pi,Oi,Ii,Ni,Di,Bi,Hi,Fi,Ri,Wi,Xi,Gi,ji,Yi,_i,qi,Vi,Ui,Ki,$i,Zi,Qi,Ji,ta,ea,ia,aa,na,ra,oa,sa,la,da,ca,pa,ha,ua,ma,fa,ga,va,ba,xa,ya,wa,ka,Ma,Ta,Sa,Ca,Aa,La,Ea,za,Pa,Oa,Ia,Na,Da,Ba,Ha,Fa,Ra,Wa,Xa,Ga,ja,Ya,_a,qa,Va,Ua,Ka,$a,Za,Qa,Ja,tn,en,an,nn,rn,on,sn,ln,dn,cn,pn,hn,un,mn,fn,gn,vn,bn,xn,yn,wn,kn,Mn,Tn,Sn,Cn,An,Ln,En,zn,Pn,On,In,Nn,Dn,Bn,Hn,Fn,Rn,Wn,Xn,Gn,jn,Yn,_n,qn,Vn,Un,Kn,$n,Zn,Qn,Jn,tr,er,ir,ar,nr,rr,or,sr,lr,dr,cr,pr,hr,ur,mr,fr,gr,vr,br,xr,yr,wr,kr,Mr,Tr,Sr,Cr,Ar,Lr,Er,zr,Pr,Or,Ir,Nr,Dr,Br,Hr,Fr,Rr,Wr,Xr,Gr,jr,Yr,_r,qr,Vr,Ur,Kr,$r,Zr,Qr,Jr,to,eo,io,ao,no,ro,oo,so,lo,co,po,ho,uo,mo=(Dt=(Nt=It).addEvent,Bt=Nt.animObject,Ht=Nt.arrayMax,Ft=Nt.arrayMin,Rt=Nt.color,Wt=Nt.correctFloat,Xt=Nt.defaultOptions,Gt=Nt.defined,jt=Nt.deg2rad,Yt=Nt.destroyObjectProperties,_t=Nt.each,qt=Nt.extend,Vt=Nt.fireEvent,Ut=Nt.format,Kt=Nt.getMagnitude,$t=Nt.grep,Zt=Nt.inArray,Qt=Nt.isArray,Jt=Nt.isNumber,te=Nt.isString,ee=Nt.merge,ie=Nt.normalizeTickInterval,ae=Nt.objectEach,ne=Nt.pick,re=Nt.removeEvent,oe=Nt.splat,se=Nt.syncTimeout,le=Nt.Tick,de=function(){this.init.apply(this,arguments)},Nt.extend(de.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return Nt.numberFormat(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,e){var i=e.isX,a=this;a.chart=t,a.horiz=t.inverted&&!a.isZAxis?!i:i,a.isXAxis=i,a.coll=a.coll||(i?"xAxis":"yAxis"),Vt(this,"init",{userOptions:e}),a.opposite=e.opposite,a.side=e.side||(a.horiz?a.opposite?0:2:a.opposite?1:3),a.setOptions(e);var n=this.options,r=n.type;a.labelFormatter=n.labels.formatter||a.defaultLabelFormatter,a.userOptions=e,a.minPixelPadding=0,a.reversed=n.reversed,a.visible=!1!==n.visible,a.zoomEnabled=!1!==n.zoomEnabled,a.hasNames="category"===r||!0===n.categories,a.categories=n.categories||a.hasNames,a.names||(a.names=[],a.names.keys={}),a.plotLinesAndBandsGroups={},a.isLog="logarithmic"===r,a.isDatetimeAxis="datetime"===r,a.positiveValuesOnly=a.isLog&&!a.allowNegativeLog,a.isLinked=Gt(n.linkedTo),a.ticks={},a.labelEdge=[],a.minorTicks={},a.plotLinesAndBands=[],a.alternateBands={},a.len=0,a.minRange=a.userMinRange=n.minRange||n.maxZoom,a.range=n.range,a.offset=n.offset||0,a.stacks={},a.oldStacks={},a.stacksTouched=0,a.max=null,a.min=null,a.crosshair=ne(n.crosshair,oe(t.options.tooltip.crosshairs)[i?0:1],!1),e=a.options.events,-1===Zt(a,t.axes)&&(i?t.axes.splice(t.xAxis.length,0,a):t.axes.push(a),t[a.coll].push(a)),a.series=a.series||[],t.inverted&&!a.isZAxis&&i&&void 0===a.reversed&&(a.reversed=!0),ae(e,function(t,e){Dt(a,e,t)}),a.lin2log=n.linearToLogConverter||a.lin2log,a.isLog&&(a.val2lin=a.log2lin,a.lin2val=a.lin2log),Vt(this,"afterInit")},setOptions:function(t){this.options=ee(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],ee(Xt[this.coll],t)),Vt(this,"afterSetOptions",{userOptions:t})},defaultLabelFormatter:function(){var t,e=this.axis,i=this.value,a=e.chart.time,n=e.categories,r=this.dateTimeLabelFormat,o=(s=Xt.lang).numericSymbols,s=s.numericSymbolMagnitude||1e3,l=o&&o.length,d=e.options.labels.format;if(e=e.isLog?Math.abs(i):e.tickInterval,d)t=Ut(d,this,a);else if(n)t=i;else if(r)t=a.dateFormat(r,i);else if(l&&1e3<=e)for(;l--&&void 0===t;)(a=Math.pow(s,l+1))<=e&&0==10*i%a&&null!==o[l]&&0!==i&&(t=Nt.numberFormat(i/a,-1)+o[l]);return void 0===t&&(t=1e4<=Math.abs(i)?Nt.numberFormat(i,-1):Nt.numberFormat(i,-1,void 0,"")),t},getSeriesExtremes:function(){var n=this,r=n.chart;Vt(this,"getSeriesExtremes",null,function(){n.hasVisibleSeries=!1,n.dataMin=n.dataMax=n.threshold=null,n.softThreshold=!n.isXAxis,n.buildStacks&&n.buildStacks(),_t(n.series,function(t){if(t.visible||!r.options.chart.ignoreHiddenSeries){var e,i=t.options,a=i.threshold;n.hasVisibleSeries=!0,n.positiveValuesOnly&&a<=0&&(a=null),n.isXAxis?(i=t.xData).length&&(t=Ft(i),e=Ht(i),Jt(t)||t instanceof Date||(i=$t(i,Jt),t=Ft(i),e=Ht(i)),i.length&&(n.dataMin=Math.min(ne(n.dataMin,i[0],t),t),n.dataMax=Math.max(ne(n.dataMax,i[0],e),e))):(t.getExtremes(),e=t.dataMax,t=t.dataMin,Gt(t)&&Gt(e)&&(n.dataMin=Math.min(ne(n.dataMin,t),t),n.dataMax=Math.max(ne(n.dataMax,e),e)),Gt(a)&&(n.threshold=a),(!i.softThreshold||n.positiveValuesOnly)&&(n.softThreshold=!1))}})}),Vt(this,"afterGetSeriesExtremes")},translate:function(t,e,i,a,n,r){var o=this.linkedParent||this,s=1,l=0,d=a?o.oldTransA:o.transA;a=a?o.oldMin:o.min;var c=o.minPixelPadding;return n=(o.isOrdinal||o.isBroken||o.isLog&&n)&&o.lin2val,d||(d=o.transA),i&&(s*=-1,l=o.len),o.reversed&&(l-=(s*=-1)*(o.sector||o.len)),e?(t=(t*s+l-c)/d+a,n&&(t=o.lin2val(t))):(n&&(t=o.val2lin(t)),t=Jt(a)?s*(t-a)*d+l+s*c+(Jt(r)?d*r:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,a,n){var r,o,s,l=this.chart,d=this.left,c=this.top,p=i&&l.oldChartHeight||l.chartHeight,h=i&&l.oldChartWidth||l.chartWidth;r=this.transB;var u=function(t,e,i){return(t<e||i<t)&&(a?t=Math.min(Math.max(e,t),i):s=!0),t};return n=ne(n,this.translate(t,null,null,i)),n=Math.min(Math.max(-1e5,n),1e5),t=i=Math.round(n+r),r=o=Math.round(p-n-r),Jt(n)?this.horiz?(r=c,o=p-this.bottom,t=i=u(t,d,d+this.width)):(t=d,i=h-this.right,r=o=u(r,c,c+this.height)):a=!(s=!0),s&&!a?null:l.renderer.crispLine(["M",t,r,"L",i,o],e||1)},getLinearTickPositions:function(t,e,i){var a,n=Wt(Math.floor(e/t)*t);i=Wt(Math.ceil(i/t)*t);var r,o=[];if(Wt(n+t)===n&&(r=20),this.single)return[e];for(e=n;e<=i&&(o.push(e),(e=Wt(e+t,r))!==a);)a=e;return o},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?ne(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var a=this,t=a.options,e=a.tickPositions,n=a.minorTickInterval,r=[],i=a.pointRangePadding||0,o=a.min-i,s=(i=a.max+i)-o;if(s&&s/n<a.len/3)if(a.isLog)_t(this.paddedTicks,function(t,e,i){e&&r.push.apply(r,a.getLogTickPositions(n,i[e-1],i[e],!0))});else if(a.isDatetimeAxis&&"auto"===this.getMinorTickInterval())r=r.concat(a.getTimeTicks(a.normalizeTimeTickInterval(n),o,i,t.startOfWeek));else for(t=o+(e[0]-o)%n;t<=i&&t!==r[0];t+=n)r.push(t);return 0!==r.length&&a.trimTicks(r),r},adjustForMinRange:function(){var t,e,i,a,n,r,o,s=this.options,l=this.min,d=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(Gt(s.min)||Gt(s.max)?this.minRange=null:(_t(this.series,function(t){for(r=t.xData,a=t.xIncrement?1:r.length-1;0<a;a--)n=r[a]-r[a-1],(void 0===i||n<i)&&(i=n)}),this.minRange=Math.min(5*i,this.dataMax-this.dataMin))),d-l<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,t=[l-(t=((o=this.minRange)-d+l)/2),ne(s.min,l-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),d=[(l=Ht(t))+o,ne(s.max,l+o)],e&&(d[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(d=Ft(d))-l<o&&(t[0]=d-o,t[1]=ne(s.min,d-o),l=Ht(t))),this.min=l,this.max=d},getClosest:function(){var a;return this.categories?a=1:_t(this.series,function(t){var e=t.closestPointRange,i=t.visible||!t.chart.options.chart.ignoreHiddenSeries;!t.noSharedTooltip&&Gt(e)&&i&&(a=Gt(a)?Math.min(a,e):e)}),a},nameToX:function(t){var e,i=Qt(this.categories),a=i?this.categories:this.names,n=t.options.x;return t.series.requireSorting=!1,Gt(n)||(n=!1===this.options.uniqueNames?t.series.autoIncrement():i?Zt(t.name,a):ne(a.keys[t.name],-1)),-1===n?i||(e=a.length):e=n,void 0!==e&&(this.names[e]=t.name,this.names.keys[t.name]=e),e},updateNames:function(){var n=this,e=this.names;0<e.length&&(_t(Nt.keys(e.keys),function(t){delete e.keys[t]}),e.length=0,this.minRange=this.userMinRange,_t(this.series||[],function(a){a.xIncrement=null,a.points&&!a.isDirtyData||(a.processData(),a.generatePoints()),_t(a.points,function(t,e){var i;t.options&&void 0!==(i=n.nameToX(t))&&i!==t.x&&(t.x=i,a.xData[e]=i)})}))},setAxisTranslation:function(t){var i,a=this,e=a.max-a.min,n=a.axisPointRange||0,r=0,o=0,s=a.linkedParent,l=!!a.categories,d=a.transA,c=a.isXAxis;(c||l||n)&&(i=a.getClosest(),s?(r=s.minPointOffset,o=s.pointRangePadding):_t(a.series,function(t){var e=l?1:c?ne(t.options.pointRange,i,0):a.axisPointRange||0;t=t.options.pointPlacement,n=Math.max(n,e),a.single||(r=Math.max(r,te(t)?0:e/2),o=Math.max(o,"on"===t?0:e))}),s=a.ordinalSlope&&i?a.ordinalSlope/i:1,a.minPointOffset=r*=s,a.pointRangePadding=o*=s,a.pointRange=Math.min(n,e),c&&(a.closestPointRange=i)),t&&(a.oldTransA=d),a.translationSlope=a.transA=d=a.options.staticScale||a.len/(e+o||1),a.transB=a.horiz?a.left:a.bottom,a.minPixelPadding=d*r,Vt(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var e,i,a,n,r=this,o=r.chart,s=r.options,l=r.isLog,d=r.isDatetimeAxis,c=r.isXAxis,p=r.isLinked,h=s.maxPadding,u=s.minPadding,m=s.tickInterval,f=s.tickPixelInterval,g=r.categories,v=Jt(r.threshold)?r.threshold:null,b=r.softThreshold;d||g||p||this.getTickAmount(),a=ne(r.userMin,s.min),n=ne(r.userMax,s.max),p?(r.linkedParent=o[r.coll][s.linkedTo],o=r.linkedParent.getExtremes(),r.min=ne(o.min,o.dataMin),r.max=ne(o.max,o.dataMax),s.type!==r.linkedParent.options.type&&Nt.error(11,1)):(!b&&Gt(v)&&(r.dataMin>=v?(e=v,u=0):r.dataMax<=v&&(i=v,h=0)),r.min=ne(a,e,r.dataMin),r.max=ne(n,i,r.dataMax)),l&&(r.positiveValuesOnly&&!t&&Math.min(r.min,ne(r.dataMin,r.min))<=0&&Nt.error(10,1),r.min=Wt(r.log2lin(r.min),15),r.max=Wt(r.log2lin(r.max),15)),r.range&&Gt(r.max)&&(r.userMin=r.min=a=Math.max(r.dataMin,r.minFromRange()),r.userMax=n=r.max,r.range=null),Vt(r,"foundExtremes"),r.beforePadding&&r.beforePadding(),r.adjustForMinRange(),!(g||r.axisPointRange||r.usePercentage||p)&&Gt(r.min)&&Gt(r.max)&&(o=r.max-r.min)&&(!Gt(a)&&u&&(r.min-=o*u),!Gt(n)&&h&&(r.max+=o*h)),Jt(s.softMin)&&!Jt(r.userMin)&&(r.min=Math.min(r.min,s.softMin)),Jt(s.softMax)&&!Jt(r.userMax)&&(r.max=Math.max(r.max,s.softMax)),Jt(s.floor)&&(r.min=Math.max(r.min,s.floor)),Jt(s.ceiling)&&(r.max=Math.min(r.max,s.ceiling)),b&&Gt(r.dataMin)&&(v=v||0,!Gt(a)&&r.min<v&&r.dataMin>=v?r.min=v:!Gt(n)&&r.max>v&&r.dataMax<=v&&(r.max=v)),r.tickInterval=r.min===r.max||void 0===r.min||void 0===r.max?1:p&&!m&&f===r.linkedParent.options.tickPixelInterval?m=r.linkedParent.tickInterval:ne(m,this.tickAmount?(r.max-r.min)/Math.max(this.tickAmount-1,1):void 0,g?1:(r.max-r.min)*f/Math.max(r.len,f)),c&&!t&&_t(r.series,function(t){t.processData(r.min!==r.oldMin||r.max!==r.oldMax)}),r.setAxisTranslation(!0),r.beforeSetTickPositions&&r.beforeSetTickPositions(),r.postProcessTickInterval&&(r.tickInterval=r.postProcessTickInterval(r.tickInterval)),r.pointRange&&!m&&(r.tickInterval=Math.max(r.pointRange,r.tickInterval)),t=ne(s.minTickInterval,r.isDatetimeAxis&&r.closestPointRange),!m&&r.tickInterval<t&&(r.tickInterval=t),d||l||m||(r.tickInterval=ie(r.tickInterval,null,Kt(r.tickInterval),ne(s.allowDecimals,!(.5<r.tickInterval&&r.tickInterval<5&&1e3<r.max&&r.max<9999)),!!this.tickAmount)),this.tickAmount||(r.tickInterval=r.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e=this.options,i=e.tickPositions;t=this.getMinorTickInterval();var a=e.tickPositioner,n=e.startOnTick,r=e.endOnTick;this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===t&&this.tickInterval?this.tickInterval/5:t,this.single=this.min===this.max&&Gt(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==e.allowDecimals),this.tickPositions=t=i&&i.slice(),!t&&(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(t=[this.min,this.max],Nt.error(19)):t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()])[0]===t[1]&&(t.length=1),this.tickPositions=t,a&&(a=a.apply(this,[this.min,this.max])))&&(this.tickPositions=t=a),this.paddedTicks=t.slice(0),this.trimTicks(t,n,r),this.isLinked||(this.single&&t.length<2&&(this.min-=.5,this.max+=.5),i||a||this.adjustTickAmount()),Vt(this,"afterSetTickPositions")},trimTicks:function(t,e,i){var a=t[0],n=t[t.length-1],r=this.minPointOffset||0;if(!this.isLinked){if(e&&-1/0!==a)this.min=a;else for(;this.min-r>t[0];)t.shift();if(i)this.max=n;else for(;this.max+r<t[t.length-1];)t.pop();0===t.length&&Gt(a)&&!this.options.tickPositions&&t.push((n+a)/2)}},alignToOthers:function(){var i,a={},t=this.options;return!1===this.chart.options.chart.alignTicks||!1===t.alignTicks||!1===t.startOnTick||!1===t.endOnTick||this.isLog||_t(this.chart[this.coll],function(t){var e=t.options;e=[t.horiz?e.left:e.top,e.width,e.height,e.pane].join(),t.series.length&&(a[e]?i=!0:a[e]=1)}),i},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!Gt(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/i)+1),e<4&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,a=this.finalTickAmt,n=e&&e.length,r=ne(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(n<i){for(;e.length<i;)e.length%2||this.min===r?e.push(Wt(e[e.length-1]+t)):e.unshift(Wt(e[0]-t));this.transA*=(n-1)/(i-1),this.min=e[0],this.max=e[e.length-1]}else i<n&&(this.tickInterval*=2,this.setTickPositions());if(Gt(a)){for(t=i=e.length;t--;)(3===a&&1==t%2||a<=2&&0<t&&t<i-1)&&e.splice(t,1);this.finalTickAmt=void 0}}},setScale:function(){var e,t;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),t=this.len!==this.oldAxisLength,_t(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(e=!0)}),t||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),Vt(this,"afterSetScale")},setExtremes:function(t,e,i,a,n){var r=this,o=r.chart;i=ne(i,!0),_t(r.series,function(t){delete t.kdTree}),n=qt(n,{min:t,max:e}),Vt(r,"setExtremes",n,function(){r.userMin=t,r.userMax=e,r.eventArgs=n,i&&o.redraw(a)})},zoom:function(t,e){var i=this.dataMin,a=this.dataMax,n=this.options,r=Math.min(i,ne(n.min,i));return n=Math.max(a,ne(n.max,a)),t===this.min&&e===this.max||(this.allowZoomOutside||(Gt(i)&&(t<r&&(t=r),n<t&&(t=n)),Gt(a)&&(e<r&&(e=r),n<e&&(e=n))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var t=this.chart,e=(o=this.options).offsets||[0,0,0,0],i=this.horiz,a=this.width=Math.round(Nt.relativeLength(ne(o.width,t.plotWidth-e[3]+e[1]),t.plotWidth)),n=this.height=Math.round(Nt.relativeLength(ne(o.height,t.plotHeight-e[0]+e[2]),t.plotHeight)),r=this.top=Math.round(Nt.relativeLength(ne(o.top,t.plotTop+e[0]),t.plotHeight,t.plotTop)),o=this.left=Math.round(Nt.relativeLength(ne(o.left,t.plotLeft+e[3]),t.plotWidth,t.plotLeft));this.bottom=t.chartHeight-n-r,this.right=t.chartWidth-a-o,this.len=Math.max(i?a:n,0),this.pos=i?o:r},getExtremes:function(){var t=this.isLog;return{min:t?Wt(this.lin2log(this.min)):this.min,max:t?Wt(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=(i=this.isLog)?this.lin2log(this.min):this.min,i=i?this.lin2log(this.max):this.max;return null===t||-1/0===t?t=e:1/0===t?t=i:t<e?t=e:i<t&&(t=i),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return 15<(t=(ne(t,0)-90*this.side+720)%360)&&t<165?"right":195<t&&t<345?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],a=ne(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(a&&i)return"inside"===e[t+"Position"]&&(i=-i),[i,a]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var i,a,t,e=this.options.labels,n=this.horiz,r=this.tickInterval,o=r,s=this.len/(((this.categories?1:0)+this.max-this.min)/r),l=e.rotation,d=this.labelMetrics(),c=Number.MAX_VALUE,p=function(t){return t=1<(t/=s||1)?Math.ceil(t):1,Wt(t*r)};return n?(t=!e.staggerLines&&!e.step&&(Gt(l)?[l]:s<ne(e.autoRotationLimit,80)&&e.autoRotation))&&_t(t,function(t){var e;(t===l||t&&-90<=t&&t<=90)&&(e=(a=p(Math.abs(d.h/Math.sin(jt*t))))+Math.abs(t/360))<c&&(c=e,i=t,o=a)}):e.step||(o=p(d.h)),this.autoRotation=t,this.labelRotation=ne(i,l),o},getSlotWidth:function(){var t=this.chart,e=this.horiz,i=this.options.labels,a=Math.max(this.tickPositions.length-(this.categories?0:1),1),n=t.margin[3];return e&&(i.step||0)<2&&!i.rotation&&(this.staggerLines||1)*this.len/a||!e&&(i.style&&parseInt(i.style.width,10)||n&&n-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var n,r,t,e=this.chart,i=e.renderer,a=this.tickPositions,o=this.ticks,s=this.options.labels,l=s&&s.style||{},d=this.horiz,c=this.getSlotWidth(),p=Math.max(1,Math.round(c-2*(s.padding||5))),h={},u=this.labelMetrics(),m=s.style&&s.style.textOverflow,f=0;if(te(s.rotation)||(h.rotation=s.rotation||0),_t(a,function(t){(t=o[t])&&t.label&&t.label.textPxLength>f&&(f=t.label.textPxLength)}),this.maxLabelLength=f,this.autoRotation)p<f&&f>u.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(c&&(n=p,!m))for(r="clip",p=a.length;!d&&p--;)t=a[p],(t=o[t].label)&&(t.styles&&"ellipsis"===t.styles.textOverflow?t.css({textOverflow:"clip"}):t.textPxLength>c&&t.css({width:c+"px"}),t.getBBox().height>this.len/a.length-(u.h-u.f)&&(t.specificTextOverflow="ellipsis"));h.rotation&&(n=f>.5*e.chartHeight?.33*e.chartHeight:f,m||(r="ellipsis")),(this.labelAlign=s.align||this.autoLabelAlign(this.labelRotation))&&(h.align=this.labelAlign),_t(a,function(t){var e=(t=o[t])&&t.label,i=l.width,a={};e&&(e.attr(h),n&&!i&&"nowrap"!==l.whiteSpace&&(n<e.textPxLength||"SPAN"===e.element.tagName)?(a.width=n,m||(a.textOverflow=e.specificTextOverflow||r),e.css(a)):e.styles&&e.styles.width&&!a.width&&!i&&e.css({width:null}),delete e.specificTextOverflow,t.rotation=h.rotation)}),this.tickRotCorr=i.rotCorr(u.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||Gt(this.min)&&Gt(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(t){var e,i=this.chart.renderer,a=this.horiz,n=this.opposite,r=this.options.title;this.axisTitle||((e=r.textAlign)||(e=(a?{low:"left",middle:"center",high:"right"}:{low:n?"right":"left",middle:"center",high:n?"left":"right"})[r.align]),this.axisTitle=i.text(r.text,0,0,r.useHTML).attr({zIndex:7,rotation:r.rotation||0,align:e}).addClass("highcharts-axis-title").css(ee(r.style)).add(this.axisGroup),this.axisTitle.isNew=!0),r.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new le(this,t)},getOffset:function(){var t,e,i,a=this,n=(v=a.chart).renderer,r=a.options,o=a.tickPositions,s=a.ticks,l=a.horiz,d=a.side,c=v.inverted&&!a.isZAxis?[1,0,3,2][d]:d,p=0,h=0,u=r.title,m=r.labels,f=0,g=v.axisOffset,v=v.clipOffset,b=[-1,1,1,-1][d],x=r.className,y=a.axisParent,w=this.tickSize("tick");t=a.hasData(),a.showAxis=e=t||ne(r.showEmpty,!0),a.staggerLines=a.horiz&&m.staggerLines,a.axisGroup||(a.gridGroup=n.g("grid").attr({zIndex:r.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(x||"")).add(y),a.axisGroup=n.g("axis").attr({zIndex:r.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(x||"")).add(y),a.labelGroup=n.g("axis-labels").attr({zIndex:m.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels "+(x||"")).add(y)),t||a.isLinked?(_t(o,function(t,e){a.generateTick(t,e)}),a.renderUnsquish(),a.reserveSpaceDefault=0===d||2===d||{1:"left",3:"right"}[d]===a.labelAlign,ne(m.reserveSpace,"center"===a.labelAlign||null,a.reserveSpaceDefault)&&_t(o,function(t){f=Math.max(s[t].getLabelSize(),f)}),a.staggerLines&&(f*=a.staggerLines),a.labelOffset=f*(a.opposite?-1:1)):ae(s,function(t,e){t.destroy(),delete s[e]}),u&&u.text&&!1!==u.enabled&&(a.addTitle(e),e&&!1!==u.reserveSpace&&(a.titleOffset=p=a.axisTitle.getBBox()[l?"height":"width"],i=u.offset,h=Gt(i)?0:ne(u.margin,l?5:10))),a.renderLine(),a.offset=b*ne(r.offset,g[d]),a.tickRotCorr=a.tickRotCorr||{x:0,y:0},n=0===d?-a.labelMetrics().h:2===d?a.tickRotCorr.y:0,h=Math.abs(f)+h,f&&(h=h-n+b*(l?ne(m.y,a.tickRotCorr.y+8*b):m.x)),a.axisTitleMargin=ne(i,h),g[d]=Math.max(g[d],a.axisTitleMargin+p+b*a.offset,h,t&&o.length&&w?w[0]+b*a.offset:0),r=r.offset?0:2*Math.floor(a.axisLine.strokeWidth()/2),v[c]=Math.max(v[c],r),Vt(this,"afterGetOffset")},getLinePath:function(t){var e=this.chart,i=this.opposite,a=this.offset,n=this.horiz,r=this.left+(i?this.width:0)+a;return a=e.chartHeight-this.bottom-(i?this.height:0)+a,i&&(t*=-1),e.renderer.crispLine(["M",n?this.left:r,n?a:this.top,"L",n?e.chartWidth-this.right:r,n?a:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,a=this.len,n=this.options.title,r=t?e:i,o=this.opposite,s=this.offset,l=n.x||0,d=n.y||0,c=this.axisTitle,p=this.chart.renderer.fontMetrics(n.style&&n.style.fontSize,c);return c=Math.max(c.getBBox(null,0).height-p.h-1,0),a={low:r+(t?0:a),middle:r+a/2,high:r+(t?a:0)}[n.align],e=(t?i+this.height:e)+(t?1:-1)*(o?-1:1)*this.axisTitleMargin+[-c,c,p.f,-c][this.side],{x:t?a+l:e+(o?this.width:0)+s+l,y:t?e+d-(o?this.height:0)+s:a+d}},renderMinorTick:function(t){var e=this.chart.hasRendered&&Jt(this.oldMin),i=this.minorTicks;i[t]||(i[t]=new le(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)},renderTick:function(t,e){var i=this.isLinked,a=this.ticks,n=this.chart.hasRendered&&Jt(this.oldMin);(!i||t>=this.min&&t<=this.max)&&(a[t]||(a[t]=new le(this,t)),n&&a[t].isNew&&a[t].render(e,!0,.1),a[t].render(e))},render:function(){var i,a,n=this,r=n.chart,t=n.options,o=n.isLog,e=n.isLinked,s=n.tickPositions,l=n.axisTitle,d=n.ticks,c=n.minorTicks,p=n.alternateBands,h=t.stackLabels,u=t.alternateGridColor,m=n.tickmarkOffset,f=n.axisLine,g=n.showAxis,v=Bt(r.renderer.globalAnimation);n.labelEdge.length=0,n.overlap=!1,_t([d,c,p],function(t){ae(t,function(t){t.isActive=!1})}),(n.hasData()||e)&&(n.minorTickInterval&&!n.categories&&_t(n.getMinorTickPositions(),function(t){n.renderMinorTick(t)}),s.length&&(_t(s,function(t,e){n.renderTick(t,e)}),m&&(0===n.min||n.single)&&(d[-1]||(d[-1]=new le(n,-1,null,!0)),d[-1].render(-1))),u&&_t(s,function(t,e){a=void 0!==s[e+1]?s[e+1]+m:n.max-m,0==e%2&&t<n.max&&a<=n.max+(r.polar?-m:m)&&(p[t]||(p[t]=new Nt.PlotLineOrBand(n)),i=t+m,p[t].options={from:o?n.lin2log(i):i,to:o?n.lin2log(a):a,color:u},p[t].render(),p[t].isActive=!0)}),n._addedPlotLB||(_t((t.plotLines||[]).concat(t.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),_t([d,c,p],function(t){var e,i=[],a=v.duration;ae(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,i.push(e))}),se(function(){for(e=i.length;e--;)t[i[e]]&&!t[i[e]].isActive&&(t[i[e]].destroy(),delete t[i[e]])},t!==p&&r.hasRendered&&a?a:0)}),f&&(f[f.isPlaced?"animate":"attr"]({d:this.getLinePath(f.strokeWidth())}),f.isPlaced=!0,f[g?"show":"hide"](!0)),l&&g&&(t=n.getTitlePosition(),Jt(t.y)?(l[l.isNew?"attr":"animate"](t),l.isNew=!1):(l.attr("y",-9999),l.isNew=!0)),h&&h.enabled&&n.renderStackTotals(),n.isDirty=!1,Vt(this,"afterRender")},redraw:function(){this.visible&&(this.render(),_t(this.plotLinesAndBands,function(t){t.render()})),_t(this.series,function(t){t.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,i=this,a=i.stacks,n=i.plotLinesAndBands;if(Vt(this,"destroy",{keepEvents:t}),t||re(i),ae(a,function(t,e){Yt(t),a[e]=null}),_t([i.ticks,i.minorTicks,i.alternateBands],function(t){Yt(t)}),n)for(t=n.length;t--;)n[t].destroy();for(e in _t("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" "),function(t){i[t]&&(i[t]=i[t].destroy())}),i.plotLinesAndBandsGroups)i.plotLinesAndBandsGroups[e]=i.plotLinesAndBandsGroups[e].destroy();ae(i,function(t,e){-1===Zt(e,i.keepProps)&&delete i[e]})},drawCrosshair:function(t,e){var i,a,n=this.crosshair,r=ne(n.snap,!0),o=this.cross;if(Vt(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(Gt(e)||!r)){if(r?Gt(e)&&(a=ne(e.crosshairPos,this.isXAxis?e.plotX:this.len-e.plotY)):a=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),Gt(a)&&(i=this.getPlotLinePath(e&&(this.isXAxis?e.x:ne(e.stackY,e.y)),null,null,null,a)||null),!Gt(i))return void this.hideCrosshair();r=this.categories&&!this.isRadial,o||(this.cross=o=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(r?"category ":"thin ")+n.className).attr({zIndex:ne(n.zIndex,2)}).add(),o.attr({stroke:n.color||(r?Rt("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":ne(n.width,1)}).css({"pointer-events":"none"}),n.dashStyle&&o.attr({dashstyle:n.dashStyle})),o.show().attr({d:i}),r&&!n.width&&o.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();Vt(this,"afterDrawCrosshair",{e:t,point:e})},hideCrosshair:function(){this.cross&&this.cross.hide()}}),Nt.Axis=de);return pe=(ce=It).Axis,he=ce.getMagnitude,ue=ce.normalizeTickInterval,me=ce.timeUnits,pe.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},pe.prototype.normalizeTimeTickInterval=function(t,e){var i=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=i[i.length-1];var a,n=me[e[0]],r=e[1];for(a=0;a<i.length&&(e=i[a],n=me[e[0]],r=e[1],!(i[a+1]&&t<=(n*r[r.length-1]+me[i[a+1][0]])/2));a++);return n===me.year&&t<5*n&&(r=[1,2,5]),{unitRange:n,count:t=ue(t/n,r,"year"===e[0]?Math.max(he(t/n),1):1),unitName:e[0]}},ge=(fe=It).Axis,ve=fe.getMagnitude,be=fe.map,xe=fe.normalizeTickInterval,ye=fe.pick,ge.prototype.getLogTickPositions=function(t,e,i,a){var n=this.options,r=this.len,o=[];if(a||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),o=this.getLinearTickPositions(t,e,i);else if(.08<=t){var s,l,d,c,p;for(r=Math.floor(e),n=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];r<i+1&&!p;r++)for(l=n.length,s=0;s<l&&!p;s++)e<(d=this.log2lin(this.lin2log(r)*n[s]))&&(!a||c<=i)&&void 0!==c&&o.push(c),i<c&&(p=!0),c=d}else e=this.lin2log(e),i=this.lin2log(i),t=a?this.getMinorTickInterval():n.tickInterval,t=ye("auto"===t?null:t,this._minorAutoInterval,n.tickPixelInterval/(a?5:1)*(i-e)/((a?r/this.tickPositions.length:r)||1)),t=xe(t,null,ve(t)),o=be(this.getLinearTickPositions(t,e,i),this.log2lin),a||(this._minorAutoInterval=t/5);return a||(this.tickInterval=t),o},ge.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},ge.prototype.lin2log=function(t){return Math.pow(10,t)},ke=mo,Me=(we=It).arrayMax,Te=we.arrayMin,Se=we.defined,Ce=we.destroyObjectProperties,Ae=we.each,Le=we.erase,Ee=we.merge,ze=we.pick,we.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},we.PlotLineOrBand.prototype={render:function(){var i=this,t=i.axis,e=t.horiz,a=i.options,n=a.label,r=i.label,o=a.to,s=a.from,l=a.value,d=Se(s)&&Se(o),c=Se(l),p=i.svgElem,h=!p,u=[],m=a.color,f=ze(a.zIndex,0),g=a.events,v=(u={class:"highcharts-plot-"+(d?"band ":"line ")+(a.className||"")},{}),b=t.chart.renderer,x=d?"bands":"lines";if(t.isLog&&(s=t.log2lin(s),o=t.log2lin(o),l=t.log2lin(l)),c?(u.stroke=m,u["stroke-width"]=a.width,a.dashStyle&&(u.dashstyle=a.dashStyle)):d&&(m&&(u.fill=m),a.borderWidth&&(u.stroke=a.borderColor,u["stroke-width"]=a.borderWidth)),x+="-"+(v.zIndex=f),(m=t.plotLinesAndBandsGroups[x])||(t.plotLinesAndBandsGroups[x]=m=b.g("plot-"+x).attr(v).add()),h&&(i.svgElem=p=b.path().attr(u).add(m)),c)u=t.getPlotLinePath(l,p.strokeWidth());else{if(!d)return;u=t.getPlotBandPath(s,o,a)}return h&&u&&u.length?(p.attr({d:u}),g&&we.objectEach(g,function(t,e){p.on(e,function(t){g[e].apply(i,[t])})})):p&&(u?(p.show(),p.animate({d:u})):(p.hide(),r&&(i.label=r=r.destroy()))),n&&Se(n.text)&&u&&u.length&&0<t.width&&0<t.height&&!u.isFlat?(n=Ee({align:e&&d&&"center",x:e?!d&&4:10,verticalAlign:!e&&d&&"middle",y:e?d?16:10:d?6:-4,rotation:e&&!d&&90},n),this.renderLabel(n,u,d,f)):r&&r.hide(),i},renderLabel:function(t,e,i,a){var n=this.label,r=this.axis.chart.renderer;n||((n={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(i?"band":"line")+"-label "+(t.className||"")}).zIndex=a,this.label=n=r.text(t.text,0,0,t.useHTML).attr(n).add(),n.css(t.style)),a=e.xBounds||[e[1],e[4],i?e[6]:e[1]],e=e.yBounds||[e[2],e[5],i?e[7]:e[2]],i=Te(a),r=Te(e),n.align(t,!1,{x:i,y:r,width:Me(a)-i,height:Me(e)-r}),n.show()},destroy:function(){Le(this.axis.plotLinesAndBands,this),delete this.axis,Ce(this)}},we.extend(ke.prototype,{getPlotBandPath:function(t,e){var i,a=this.getPlotLinePath(e,null,null,!0),n=this.getPlotLinePath(t,null,null,!0),r=[],o=this.horiz,s=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,n&&a)for(t&&(i=n.toString()===a.toString(),s=0),t=0;t<n.length;t+=6)o&&a[t+1]===n[t+1]?(a[t+1]+=s,a[t+4]+=s):o||a[t+2]!==n[t+2]||(a[t+2]+=s,a[t+5]+=s),r.push("M",n[t+1],n[t+2],"L",n[t+4],n[t+5],a[t+4],a[t+5],a[t+1],a[t+2],"z"),r.isFlat=i;return r},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new we.PlotLineOrBand(this,t).render(),a=this.userOptions;return i&&(e&&(a[e]=a[e]||[],a[e].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,i=this.options,a=this.userOptions,n=t.length;n--;)t[n].id===e&&t[n].destroy();Ae([i.plotLines||[],a.plotLines||[],i.plotBands||[],a.plotBands||[]],function(t){for(n=t.length;n--;)t[n].id===e&&Le(t,t[n])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}}),Oe=(Pe=It).doc,Ie=Pe.each,Ne=Pe.extend,De=Pe.format,Be=Pe.isNumber,He=Pe.map,Fe=Pe.merge,Re=Pe.pick,We=Pe.splat,Xe=Pe.syncTimeout,Ge=Pe.timeUnits,Pe.Tooltip=function(){this.init.apply(this,arguments)},Pe.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split,this.outside=e.outside&&!this.split},cleanSplit:function(i){Ie(this.chart.series,function(t){var e=t&&t.tt;e&&(!e.isActive||i?t.tt=e.destroy():e.isActive=!1)})},getLabel:function(){var e,t=this.chart.renderer,i=this.options;return this.label||(this.outside&&(this.container=e=Pe.doc.createElement("div"),e.className="highcharts-tooltip-container",Pe.css(e,{position:"absolute",top:"1px",pointerEvents:i.style&&i.style.pointerEvents}),Pe.doc.body.appendChild(e),this.renderer=t=new Pe.Renderer(e,0,0)),this.split?this.label=t.g("tooltip"):(this.label=t.label("",0,0,i.shape||"callout",null,null,i.useHTML,null,"tooltip").attr({padding:i.padding,r:i.borderRadius}),this.label.attr({fill:i.backgroundColor,"stroke-width":i.borderWidth}).css(i.style).shadow(i.shadow)),this.outside&&(this.label.attr({x:this.distance,y:this.distance}),this.label.xSetter=function(t){e.style.left=t+"px"},this.label.ySetter=function(t){e.style.top=t+"px"}),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),Fe(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,Fe(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),Pe.discardElement(this.container)),Pe.clearTimeout(this.hideTimer),Pe.clearTimeout(this.tooltipTimeout)},move:function(t,e,i,a){var n=this,r=n.now,o=!1!==n.options.animation&&!n.isHidden&&(1<Math.abs(t-r.x)||1<Math.abs(e-r.y)),s=n.followPointer||1<n.len;Ne(r,{x:o?(2*r.x+t)/3:t,y:o?(r.y+e)/2:e,anchorX:s?void 0:o?(2*r.anchorX+i)/3:i,anchorY:s?void 0:o?(r.anchorY+a)/2:a}),n.getLabel().attr(r),o&&(Pe.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){n&&n.move(t,e,i,a)},32))},hide:function(t){var e=this;Pe.clearTimeout(this.hideTimer),t=Re(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=Xe(function(){e.getLabel()[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var i,a,n=this.chart,r=n.pointer,o=n.inverted,s=n.plotTop,l=n.plotLeft,d=0,c=0;return t=We(t),t=this.followPointer&&e?(void 0===e.chartX&&(e=r.normalize(e)),[e.chartX-n.plotLeft,e.chartY-s]):t[0].tooltipPos?t[0].tooltipPos:(Ie(t,function(t){i=t.series.yAxis,a=t.series.xAxis,d+=t.plotX+(!o&&a?a.left-l:0),c+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!o&&i?i.top-s:0)}),d/=t.length,c/=t.length,[o?n.plotWidth-c:d,this.shared&&!o&&1<t.length&&e?e.chartY-s:o?n.plotHeight-d:c]),He(t,Math.round)},getPosition:function(t,e,i){var a,n=this.chart,d=this.distance,c={},p=n.inverted&&i.h||0,r=this.outside,o=r?Oe.documentElement.clientWidth-2*d:n.chartWidth,s=r?Math.max(Oe.body.scrollHeight,Oe.documentElement.scrollHeight,Oe.body.offsetHeight,Oe.documentElement.offsetHeight,Oe.documentElement.clientHeight):n.chartHeight,l=n.pointer.chartPosition,h=["y",s,e,(r?l.top-d:0)+i.plotY+n.plotTop,r?0:n.plotTop,r?s:n.plotTop+n.plotHeight],u=["x",o,t,(r?l.left-d:0)+i.plotX+n.plotLeft,r?0:n.plotLeft,r?o:n.plotLeft+n.plotWidth],m=!this.followPointer&&Re(i.ttBelow,!n.inverted==!!i.negative),f=function(t){var e=h;h=u,u=e,a=t},g=function(){!1!==function(t,e,i,a,n,r){var o=i<a-d,s=a+d+i<e,l=a-d-i;if(a+=d,m&&s)c[t]=a;else if(!m&&o)c[t]=l;else if(o)c[t]=Math.min(r-i,l-p<0?l:l-p);else{if(!s)return!1;c[t]=Math.max(n,e<a+p+i?a:a+p)}}.apply(0,h)?!1!==function(t,e,i,a){var n;return a<d||e-d<a?n=!1:c[t]=a<i/2?1:e-i/2<a?e-i-2:a-i/2,n}.apply(0,u)||a||(f(!0),g()):a?c.x=c.y=0:(f(!0),g())};return(n.inverted||1<this.len)&&f(),g(),c},defaultFormatter:function(t){var e,i=this.points||We(this);return(e=(e=[t.tooltipFooterHeaderFormatter(i[0])]).concat(t.bodyFormatter(i))).push(t.tooltipFooterHeaderFormatter(i[0],!0)),e},refresh:function(t,e){var i,a,n,r,o=this.options,s=t,l={},d=[];i=o.formatter||this.defaultFormatter,l=this.shared,o.enabled&&(Pe.clearTimeout(this.hideTimer),this.followPointer=We(s)[0].series.tooltipOptions.followPointer,e=(n=this.getAnchor(s,e))[0],a=n[1],!l||s.series&&s.series.noSharedTooltip?l=s.getLabelConfig():(Ie(s,function(t){t.setState("hover"),d.push(t.getLabelConfig())}),(l={x:s[0].category,y:s[0].y}).points=d,s=s[0]),this.len=d.length,l=i.call(l,this),r=s.series,this.distance=Re(r.tooltipOptions.distance,16),!1===l?this.hide():(i=this.getLabel(),this.isHidden&&i.attr({opacity:1}).show(),this.split?this.renderSplit(l,We(t)):(o.style.width||i.css({width:this.chart.spacingBox.width}),i.attr({text:l&&l.join?l.join(""):l}),i.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+Re(s.colorIndex,r.colorIndex)),i.attr({stroke:o.borderColor||s.color||r.color||"#666666"}),this.updatePosition({plotX:e,plotY:a,negative:s.negative,ttBelow:s.ttBelow,h:n[2]||0})),this.isHidden=!1))},renderSplit:function(t,o){var s,l=this,d=[],c=this.chart,p=c.renderer,h=!0,u=this.options,m=0,f=this.getLabel(),g=c.plotTop;Pe.isString(t)&&(t=[!1,t]),Ie(t.slice(0,o.length+1),function(t,e){if(!1!==t){var i=(e=o[e-1]||{isHeader:!0,plotX:o[0].plotX}).series||l,a=i.tt,n=e.series||{},r="highcharts-color-"+Re(e.colorIndex,n.colorIndex,"none");a||(i.tt=a=p.label(null,null,null,"callout",null,null,u.useHTML).addClass("highcharts-tooltip-box "+r+(e.isHeader?" highcharts-tooltip-header":"")).attr({padding:u.padding,r:u.borderRadius,fill:u.backgroundColor,stroke:u.borderColor||e.color||n.color||"#333333","stroke-width":u.borderWidth}).add(f)),a.isActive=!0,a.attr({text:t}),a.css(u.style).shadow(u.shadow),n=(t=a.getBBox()).width+a.strokeWidth(),(n=e.isHeader?(m=t.height,c.xAxis[0].opposite&&(s=!0,g-=m),Math.max(0,Math.min(e.plotX+c.plotLeft-n/2,c.chartWidth+(c.scrollablePixels?c.scrollablePixels-c.marginRight:0)-n))):e.plotX+c.plotLeft-Re(u.distance,16)-n)<0&&(h=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=g,e.isHeader&&(t=s?-m:c.plotHeight+m),d.push({target:t,rank:e.isHeader?1:0,size:i.tt.getBBox().height+1,point:e,x:n,tt:a})}}),this.cleanSplit(),Pe.distribute(d,c.plotHeight+m),Ie(d,function(t){var e=t.point,i=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:h||e.isHeader?t.x:e.plotX+c.plotLeft+Re(u.distance,16),y:t.pos+g,anchorX:e.isHeader?e.plotX+c.plotLeft:e.plotX+i.xAxis.pos,anchorY:e.isHeader?c.plotTop+c.plotHeight/2:e.plotY+i.yAxis.pos})})},updatePosition:function(t){var e,i=this.chart,a=this.getLabel(),n=(this.options.positioner||this.getPosition).call(this,a.width,a.height,t),r=t.plotX+i.plotLeft;t=t.plotY+i.plotTop,this.outside&&(e=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(a.width+e,a.height+e,!1),r+=i.pointer.chartPosition.left-n.x,t+=i.pointer.chartPosition.top-n.y),this.move(Math.round(n.x),Math.round(n.y||0),r,t)},getDateFormat:function(t,e,i,a){var n,r,o=this.chart.time,s=o.dateFormat("%m-%d %H:%M:%S.%L",e),l={millisecond:15,second:12,minute:9,hour:6,day:3},d="millisecond";for(r in Ge){if(t===Ge.week&&+o.dateFormat("%w",e)===i&&"00:00:00.000"===s.substr(6)){r="week";break}if(Ge[r]>t){r=d;break}if(l[r]&&s.substr(l[r])!=="01-01 00:00:00.000".substr(l[r]))break;"week"!==r&&(d=r)}return r&&(n=a[r]),n},getXDateFormat:function(t,e,i){e=e.dateTimeLabelFormats;var a=i&&i.closestPointRange;return(a?this.getDateFormat(a,t.x,i.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(t,e){e=e?"footer":"header";var i=t.series,a=i.tooltipOptions,n=a.xDateFormat,r=i.xAxis,o=r&&"datetime"===r.options.type&&Be(t.key),s=a[e+"Format"];return o&&!n&&(n=this.getXDateFormat(t,a,r)),o&&n&&Ie(t.point&&t.point.tooltipDateKeys||["key"],function(t){s=s.replace("{point."+t+"}","{point."+t+":"+n+"}")}),De(s,{point:t,series:i},this.chart.time)},bodyFormatter:function(t){return He(t,function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"])})}},Ye=(je=It).addEvent,_e=je.attr,qe=je.charts,Ve=je.color,Ue=je.css,Ke=je.defined,$e=je.each,Ze=je.extend,Qe=je.find,Je=je.fireEvent,ti=je.isNumber,ei=je.isObject,ii=je.offset,ai=je.pick,ni=je.splat,ri=je.Tooltip,je.Pointer=function(t,e){this.init(t,e)},je.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},ri&&(t.tooltip=new ri(t,e.tooltip),this.followTouchMove=ai(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=(a=this.chart).options.chart,i=e.zoomType||"",a=a.inverted;/touch/.test(t.type)&&(i=ai(e.pinchType,i)),this.zoomX=t=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=t&&!a||i&&a,this.zoomVert=i&&!a||t&&a,this.hasZoom=t||i},normalize:function(t,e){var i;return i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=ii(this.chart.container)),Ze(t,{chartX:Math.round(i.pageX-e.left),chartY:Math.round(i.pageY-e.top)})},getCoordinates:function(e){var i={xAxis:[],yAxis:[]};return $e(this.chart.axes,function(t){i[t.isXAxis?"xAxis":"yAxis"].push({axis:t,value:t.toValue(e[t.horiz?"chartX":"chartY"])})}),i},findNearestKDPoint:function(t,n,r){var o;return $e(t,function(t){var e=!(t.noSharedTooltip&&n)&&t.options.findNearestPointBy.indexOf("y")<0;if(t=t.searchPoint(r,e),(e=ei(t,!0))&&!(e=!ei(o,!0))){e=o.distX-t.distX;var i=o.dist-t.dist,a=(t.series.group&&t.series.group.zIndex)-(o.series.group&&o.series.group.zIndex);e=0<(0!==e&&n?e:0!==i?i:0!==a?a:o.series.index>t.series.index?-1:1)}e&&(o=t)}),o},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var i=(a=t.series).xAxis,a=a.yAxis,n=ai(t.clientX,t.plotX),r=t.shapeArgs;return i&&a?e?{chartX:i.len+i.pos-n,chartY:a.len+a.pos-t.plotY}:{chartX:n+i.pos,chartY:t.plotY+a.pos}:r&&r.x&&r.y?{chartX:r.x,chartY:r.y}:void 0},getHoverData:function(t,e,i,a,n,r,o){var s,l=[],d=o&&o.isBoosting;return a=!(!a||!t),o=e&&!e.stickyTracking?[e]:je.grep(i,function(t){return t.visible&&!(!n&&t.directTouch)&&ai(t.options.enableMouseTracking,!0)&&t.stickyTracking}),e=(s=a?t:this.findNearestKDPoint(o,n,r))&&s.series,s&&(n&&!e.noSharedTooltip?(o=je.grep(i,function(t){return t.visible&&!(!n&&t.directTouch)&&ai(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip}),$e(o,function(t){var e=Qe(t.points,function(t){return t.x===s.x&&!t.isNull});ei(e)&&(d&&(e=t.getPoint(e)),l.push(e))})):l.push(s)),{hoverPoint:s,hoverSeries:e,hoverPoints:l}},runPointActions:function(a,t){var n,e=this.chart,i=e.tooltip&&e.tooltip.options.enabled?e.tooltip:void 0,r=!!i&&i.shared,o=(s=t||e.hoverPoint)&&s.series||e.hoverSeries,s=(o=this.getHoverData(s,o,e.series,"touchmove"!==a.type&&(!!t||o&&o.directTouch&&this.isDirectTouch),r,a,{isBoosting:e.isBoosting})).hoverPoint;if(n=o.hoverPoints,t=(o=o.hoverSeries)&&o.tooltipOptions.followPointer,r=r&&o&&!o.noSharedTooltip,s&&(s!==e.hoverPoint||i&&i.isHidden)){if($e(e.hoverPoints||[],function(t){-1===je.inArray(t,n)&&t.setState()}),$e(n||[],function(t){t.setState("hover")}),e.hoverSeries!==o&&o.onMouseOver(),e.hoverPoint&&e.hoverPoint.firePointEvent("mouseOut"),!s.series)return;s.firePointEvent("mouseOver"),e.hoverPoints=n,e.hoverPoint=s,i&&i.refresh(r?n:s,a)}else t&&i&&!i.isHidden&&(s=i.getAnchor([{}],a),i.updatePosition({plotX:s[0],plotY:s[1]}));this.unDocMouseMove||(this.unDocMouseMove=Ye(e.container.ownerDocument,"mousemove",function(t){var e=qe[je.hoverChartIndex];e&&e.pointer.onDocumentMouseMove(t)})),$e(e.axes,function(e){var t=ai(e.crosshair.snap,!0),i=t?je.find(n,function(t){return t.series[e.coll]===e}):void 0;i||!t?e.drawCrosshair(a,i):e.hideCrosshair()})},reset:function(e,t){var i=this.chart,a=i.hoverSeries,n=i.hoverPoint,r=i.hoverPoints,o=i.tooltip,s=o&&o.shared?r:n;e&&s&&$e(ni(s),function(t){t.series.isCartesian&&void 0===t.plotX&&(e=!1)}),e?o&&s&&(o.refresh(s),o.shared&&r?$e(r,function(t){t.setState(t.state,!0),t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t)}):n&&(n.setState(n.state,!0),$e(i.axes,function(t){t.crosshair&&t.drawCrosshair(null,n)}))):(n&&n.onMouseOut(),r&&$e(r,function(t){t.setState()}),a&&a.onMouseOut(),o&&o.hide(t),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),$e(i.axes,function(t){t.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(e,i){var a,n=this.chart;$e(n.series,function(t){a=e||t.getPlotBox(),t.xAxis&&t.xAxis.zoomEnabled&&t.group&&(t.group.attr(a),t.markerGroup&&(t.markerGroup.attr(a),t.markerGroup.clip(i?n.clipRect:null)),t.dataLabelsGroup&&t.dataLabelsGroup.attr(a))}),n.clipRect.attr(i||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,a=i.options.chart,n=t.chartX,r=t.chartY,o=this.zoomHor,s=this.zoomVert,l=i.plotLeft,d=i.plotTop,c=i.plotWidth,p=i.plotHeight,h=this.selectionMarker,u=this.mouseDownX,m=this.mouseDownY,f=a.panKey&&t[a.panKey+"Key"];h&&h.touch||(n<l?n=l:l+c<n&&(n=l+c),r<d?r=d:d+p<r&&(r=d+p),this.hasDragged=Math.sqrt(Math.pow(u-n,2)+Math.pow(m-r,2)),10<this.hasDragged&&(e=i.isInsidePlot(u-l,m-d),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!f&&!h&&(this.selectionMarker=h=i.renderer.rect(l,d,o?1:c,s?1:p,0).attr({fill:a.selectionMarkerFill||Ve("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),h&&o&&(n-=u,h.attr({width:Math.abs(n),x:(0<n?0:n)+u})),h&&s&&(n=r-m,h.attr({height:Math.abs(n),y:(0<n?0:n)+m})),e&&!h&&a.panning&&i.pan(t,a.panning)))},drop:function(n){var r=this,e=this.chart,o=this.hasPinched;if(this.selectionMarker){var s,l={originalEvent:n,xAxis:[],yAxis:[]},t=this.selectionMarker,d=t.attr?t.attr("x"):t.x,c=t.attr?t.attr("y"):t.y,p=t.attr?t.attr("width"):t.width,h=t.attr?t.attr("height"):t.height;(this.hasDragged||o)&&($e(e.axes,function(t){if(t.zoomEnabled&&Ke(t.min)&&(o||r[{xAxis:"zoomX",yAxis:"zoomY"}[t.coll]])){var e=t.horiz,i="touchend"===n.type?t.minPixelPadding:0,a=t.toValue((e?d:c)+i);e=t.toValue((e?d+p:c+h)-i),l[t.coll].push({axis:t,min:Math.min(a,e),max:Math.max(a,e)}),s=!0}}),s&&Je(e,"selection",l,function(t){e.zoom(Ze(t,o?{animation:!1}:null))})),ti(e.index)&&(this.selectionMarker=this.selectionMarker.destroy()),o&&this.scaleGroups()}e&&ti(e.index)&&(Ue(e.container,{cursor:e._cursor}),e.cancelClick=10<this.hasDragged,e.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){2!==(t=this.normalize(t)).button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(t){qe[je.hoverChartIndex]&&qe[je.hoverChartIndex].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(t){var e=qe[je.hoverChartIndex];e&&(t.relatedTarget||t.toElement)&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;Ke(je.hoverChartIndex)&&qe[je.hoverChartIndex]&&qe[je.hoverChartIndex].mouseIsDown||(je.hoverChartIndex=e.index),(t=this.normalize(t)).returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||e.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=_e(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,a=e.plotLeft,n=e.plotTop;t=this.normalize(t),e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(Je(i.series,"click",Ze(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(Ze(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-a,t.chartY-n)&&Je(e,"click",t)))},setDOMEvents:function(){var e=this,t=e.chart.container,i=t.ownerDocument;t.onmousedown=function(t){e.onContainerMouseDown(t)},t.onmousemove=function(t){e.onContainerMouseMove(t)},t.onclick=function(t){e.onContainerClick(t)},this.unbindContainerMouseLeave=Ye(t,"mouseleave",e.onContainerMouseLeave),je.unbindDocumentMouseUp||(je.unbindDocumentMouseUp=Ye(i,"mouseup",e.onDocumentMouseUp)),je.hasTouch&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},je.unbindDocumentTouchEnd||(je.unbindDocumentTouchEnd=Ye(i,"touchend",e.onDocumentTouchEnd)))},destroy:function(){var i=this;i.unDocMouseMove&&i.unDocMouseMove(),this.unbindContainerMouseLeave(),je.chartCount||(je.unbindDocumentMouseUp&&(je.unbindDocumentMouseUp=je.unbindDocumentMouseUp()),je.unbindDocumentTouchEnd&&(je.unbindDocumentTouchEnd=je.unbindDocumentTouchEnd())),clearInterval(i.tooltipTimeout),je.objectEach(i,function(t,e){i[e]=null})}},si=(oi=It).charts,li=oi.each,di=oi.extend,ci=oi.map,pi=oi.noop,hi=oi.pick,di(oi.Pointer.prototype,{pinchTranslate:function(t,e,i,a,n,r){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,a,n,r),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,a,n,r)},pinchTranslateDirection:function(t,e,i,a,n,r,o,s){var l,d,c,p=this.chart,h=t?"x":"y",u=t?"X":"Y",m="chart"+u,f=t?"width":"height",g=p["plot"+(t?"Left":"Top")],v=s||1,b=p.inverted,x=p.bounds[t?"h":"v"],y=1===e.length,w=e[0][m],k=i[0][m],M=!y&&e[1][m],T=!y&&i[1][m];(i=function(){!y&&20<Math.abs(w-M)&&(v=s||Math.abs(k-T)/Math.abs(w-M)),d=(g-k)/v+w,l=p["plot"+(t?"Width":"Height")]/v})(),(e=d)<x.min?(e=x.min,c=!0):e+l>x.max&&(e=x.max-l,c=!0),c?(k-=.8*(k-o[h][0]),y||(T-=.8*(T-o[h][1])),i()):o[h]=[k,T],b||(r[h]=d-g,r[f]=l),r=b?1/v:v,n[f]=l,n[h]=e,a[b?t?"scaleY":"scaleX":"scale"+u]=v,a["translate"+u]=r*g+(k-r*w)},pinch:function(t){var e=this,o=e.chart,i=e.pinchDown,a=t.touches,n=a.length,r=e.lastValidTouch,s=e.hasZoom,l=e.selectionMarker,d={},c=1===n&&(e.inClass(t.target,"highcharts-tracker")&&o.runTrackerClick||e.runChartClick),p={};1<n&&(e.initiated=!0),s&&e.initiated&&!c&&t.preventDefault(),ci(a,function(t){return e.normalize(t)}),"touchstart"===t.type?(li(a,function(t,e){i[e]={chartX:t.chartX,chartY:t.chartY}}),r.x=[i[0].chartX,i[1]&&i[1].chartX],r.y=[i[0].chartY,i[1]&&i[1].chartY],li(o.axes,function(t){if(t.zoomEnabled){var e=o.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,a=t.toPixels(hi(t.options.min,t.dataMin)),n=t.toPixels(hi(t.options.max,t.dataMax)),r=Math.max(a,n);e.min=Math.min(t.pos,Math.min(a,n)-i),e.max=Math.max(t.pos+t.len,r+i)}}),e.res=!0):e.followTouchMove&&1===n?this.runPointActions(e.normalize(t)):i.length&&(l||(e.selectionMarker=l=di({destroy:pi,touch:!0},o.plotBox)),e.pinchTranslate(i,a,d,l,p,r),e.hasPinched=s,e.scaleGroups(d,p),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(t,e){var i,a=this.chart;a.index!==oi.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),oi.hoverChartIndex=a.index,1===t.touches.length?(t=this.normalize(t),a.isInsidePlot(t.chartX-a.plotLeft,t.chartY-a.plotTop)&&!a.openMenu?(e&&this.runPointActions(t),"touchmove"===t.type&&(i=!!(e=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(e[0].chartX-t.chartX,2)+Math.pow(e[0].chartY-t.chartY,2))),hi(i,!0)&&this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(t){si[oi.hoverChartIndex]&&si[oi.hoverChartIndex].pointer.drop(t)}}),function(r){var e=r.addEvent,o=r.charts,a=r.css,i=r.doc,t=r.extend,s=r.noop,n=r.Pointer,l=r.removeEvent,d=r.win,c=r.wrap;if(!r.hasTouch&&(d.PointerEvent||d.MSPointerEvent)){var p={},h=!!d.PointerEvent,u=function(t,e,i,a){var n;"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!o[r.hoverChartIndex]||(a(t),(a=o[r.hoverChartIndex].pointer)[e]({type:i,target:t.currentTarget,preventDefault:s,touches:(n=[],n.item=function(t){return this[t]},r.objectEach(p,function(t){n.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),n)}))};t(n.prototype,{onContainerPointerDown:function(t){u(t,"onContainerTouchStart","touchstart",function(t){p[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){u(t,"onContainerTouchMove","touchmove",function(t){p[t.pointerId]={pageX:t.pageX,pageY:t.pageY},p[t.pointerId].target||(p[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){u(t,"onDocumentTouchEnd","touchend",function(t){delete p[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,h?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,h?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(i,h?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),c(n.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&a(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),c(n.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),c(n.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}(It),mi=(ui=It).addEvent,fi=ui.css,gi=ui.discardElement,vi=ui.defined,bi=ui.each,xi=ui.fireEvent,yi=ui.isFirefox,wi=ui.marginNames,ki=ui.merge,Mi=ui.pick,Ti=ui.setAnimation,Si=ui.stableSort,Ci=ui.win,Ai=ui.wrap,ui.Legend=function(t,e){this.init(t,e)},ui.Legend.prototype={init:function(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),mi(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=mi(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},setOptions:function(t){var e=Mi(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=ki(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=Mi(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted},update:function(t,e){var i=this.chart;this.setOptions(ki(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,Mi(e,!0)&&i.redraw(),xi(this,"afterUpdate")},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var i=this.options,a=t.legendItem,n=t.legendLine,r=t.legendSymbol,o=this.itemHiddenStyle.color,s=(i=e?i.itemStyle.color:o,e&&t.color||o),l=t.options&&t.options.marker,d={fill:s};a&&a.css({fill:i,color:i}),n&&n.attr({stroke:s}),r&&(l&&r.isMarker&&(d=t.pointAttribs(),e||(d.stroke=d.fill=o)),r.attr(d)),xi(this,"afterColorizeItem",{item:t,visible:e})},positionItems:function(){bi(this.allItems,this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var e=(i=this.options).symbolPadding,i=!i.rtl,a=(n=t._legendItemPos)[0],n=n[1],r=t.checkbox;(t=t.legendGroup)&&t.element&&t[vi(t.translateY)?"animate":"attr"]({translateX:i?a:this.legendWidth-a-2*e-4,translateY:n}),r&&(r.x=a,r.y=n)},destroyItem:function(e){var t=e.checkbox;bi(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&gi(e.checkbox)},destroy:function(){function e(t){this[t]&&(this[t]=this[t].destroy())}bi(this.getAllItems(),function(t){bi(["legendItem","legendGroup"],e,t)}),bi("clipRect up down pager nav box title group".split(" "),e,this),this.display=null},positionCheckboxes:function(){var a,n=this.group&&this.group.alignAttr,r=this.clipHeight||this.legendHeight,o=this.titleHeight;n&&(a=n.translateY,bi(this.allItems,function(t){var e,i=t.checkbox;i&&(e=a+o+i.y+(this.scrollOffset||0)+3,fi(i,{left:n.translateX+t.checkboxOffset+i.x-20+"px",top:e+"px",display:a-6<e&&e<a+r-6?"":"none"}))},this))},renderTitle:function(){var t=this.options,e=this.padding,i=t.title,a=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),a=(t=this.title.getBBox()).height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:a})),this.titleHeight=a},setText:function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?ui.format(e.labelFormat,t,this.chart.time):e.labelFormatter.call(t)})},renderItem:function(t){var e=this.chart,i=e.renderer,a=this.options,n=this.symbolWidth,r=a.symbolPadding,o=this.itemStyle,s=this.itemHiddenStyle,l="horizontal"===a.layout?Mi(a.itemDistance,20):0,d=!a.rtl,c=t.legendItem,p=!t.series,h=!p&&t.series.drawLegendSymbol?t.series:t,u=h.options,m=(l=n+r+l+((u=this.createCheckboxForItem&&u&&u.showCheckbox)?20:0),a.useHTML),f=t.options.className;c||(t.legendGroup=i.g("legend-item").addClass("highcharts-"+h.type+"-series highcharts-color-"+t.colorIndex+(f?" "+f:"")+(p?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=c=i.text("",d?n+r:-r,this.baseline||0,m).css(ki(t.visible?o:s)).attr({align:d?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(n=o.fontSize,this.fontMetrics=i.fontMetrics(n,c),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,c.attr("y",this.baseline)),this.symbolHeight=a.symbolHeight||this.fontMetrics.f,h.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,c,m),u&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),o.width||c.css({width:(a.itemWidth||a.width||e.spacingBox.width)-l}),this.setText(t),e=c.getBBox(),t.itemWidth=t.checkboxOffset=a.itemWidth||t.legendItemWidth||e.width+l,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},layoutItem:function(t){var e=this.options,i=this.padding,a="horizontal"===e.layout,n=t.itemHeight,r=e.itemMarginBottom||0,o=this.itemMarginTop,s=a?Mi(e.itemDistance,20):0,l=e.width,d=l||this.chart.spacingBox.width-2*i-e.x;e=e.alignColumns&&this.totalItemWidth>d?this.maxItemWidth:t.itemWidth,a&&this.itemX-i+e>d&&(this.itemX=i,this.itemY+=o+this.lastLineHeight+r,this.lastLineHeight=0),this.lastItemY=o+this.itemY+r,this.lastLineHeight=Math.max(n,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],a?this.itemX+=e:(this.itemY+=o+n+r,this.lastLineHeight=n),this.offsetWidth=l||Math.max((a?this.itemX-i-(t.checkbox?0:s):e)+i,this.offsetWidth)},getAllItems:function(){var i=[];return bi(this.chart.series,function(t){var e=t&&t.options;t&&Mi(e.showInLegend,!vi(e.linkedTo)&&void 0,!0)&&(i=i.concat(t.legendItems||("point"===e.legendType?t.data:t)))}),xi(this,"afterGetAllItems",{allItems:i}),i},getAlignment:function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(i,a){var n=this.chart,r=this.options,o=this.getAlignment();o&&bi([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(t,e){t.test(o)&&!vi(i[e])&&(n[wi[e]]=Math.max(n[wi[e]],n.legend[(e+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][e]*r[e%2?"x":"y"]+Mi(r.margin,12)+a[e]+(0===e&&void 0!==n.options.title.margin?n.titleOffset+n.options.title.margin:0)))})},proximatePositions:function(){var a=this.chart,n=[],r="left"===this.options.align;bi(this.allItems,function(t){var e,i;e=r,t.xAxis&&t.points&&(t.xAxis.options.reversed&&(e=!e),e=ui.find(e?t.points:t.points.slice(0).reverse(),function(t){return ui.isNumber(t.plotY)}),i=t.legendGroup.getBBox().height,n.push({target:t.visible?(e?e.plotY:t.xAxis.height)-.3*i:a.plotHeight,size:i,item:t}))},this),ui.distribute(n,a.plotHeight),bi(n,function(t){t.item._legendItemPos[1]=a.plotTop-a.spacing[0]+t.pos})},render:function(){var t,e,i,a=this.chart,n=a.renderer,r=this.group,o=this.box,s=this.options,l=this.padding;this.itemX=l,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,r||(this.group=r=n.g("legend").attr({zIndex:7}).add(),this.contentGroup=n.g().attr({zIndex:1}).add(r),this.scrollGroup=n.g().add(this.contentGroup)),this.renderTitle(),t=this.getAllItems(),Si(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),s.reversed&&t.reverse(),this.allItems=t,this.display=e=!!t.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,bi(t,this.renderItem,this),bi(t,this.layoutItem,this),t=(s.width||this.offsetWidth)+l,i=this.lastItemY+this.lastLineHeight+this.titleHeight,i=this.handleOverflow(i),i+=l,o||(this.box=o=n.rect().addClass("highcharts-legend-box").attr({r:s.borderRadius}).add(r),o.isNew=!0),o.attr({stroke:s.borderColor,"stroke-width":s.borderWidth||0,fill:s.backgroundColor||"none"}).shadow(s.shadow),0<t&&0<i&&(o[o.isNew?"attr":"animate"](o.crisp.call({},{x:0,y:0,width:t,height:i},o.strokeWidth())),o.isNew=!1),o[e?"show":"hide"](),this.legendWidth=t,this.legendHeight=i,e&&(n=a.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(n=ki(n,{y:n.y+a.titleOffset+a.options.title.margin})),r.align(ki(s,{width:t,height:i,verticalAlign:this.proximate?"top":s.verticalAlign}),!0,n)),this.proximate||this.positionItems()},handleOverflow:function(t){var r,o,e=this,i=(l=this.chart).renderer,a=this.options,n=a.y,s=this.padding,l=l.spacingBox.height+("top"===a.verticalAlign?-n:n)-s,d=(n=a.maxHeight,this.clipRect),c=a.navigation,p=Mi(c.animation,!0),h=c.arrowSize||12,u=this.nav,m=this.pages,f=this.allItems,g=function(t){"number"==typeof t?d.attr({height:t}):d&&(e.clipRect=d.destroy(),e.contentGroup.clip()),e.contentGroup.div&&(e.contentGroup.div.style.clip=t?"rect("+s+"px,9999px,"+(s+t)+"px,0)":"auto")};return"horizontal"!==a.layout||"middle"===a.verticalAlign||a.floating||(l/=2),n&&(l=Math.min(l,n)),m.length=0,l<t&&!1!==c.enabled?(this.clipHeight=r=Math.max(l-20-this.titleHeight-s,0),this.currentPage=Mi(this.currentPage,1),this.fullHeight=t,bi(f,function(t,e){var i=t._legendItemPos[1],a=Math.round(t.legendItem.getBBox().height),n=m.length;(!n||i-m[n-1]>r&&(o||i)!==m[n-1])&&(m.push(o||i),n++),t.pageIx=n-1,o&&(f[e-1].pageIx=n-1),e===f.length-1&&i+a-m[n-1]>r&&(m.push(i),t.pageIx=n),i!==o&&(o=i)}),d||(d=e.clipRect=i.clipRect(0,s,9999,0),e.contentGroup.clip(d)),g(r),u||(this.nav=u=i.g().attr({zIndex:1}).add(this.group),this.up=i.symbol("triangle",0,0,h,h).on("click",function(){e.scroll(-1,p)}).add(u),this.pager=i.text("",15,10).addClass("highcharts-legend-navigation").css(c.style).add(u),this.down=i.symbol("triangle-down",0,0,h,h).on("click",function(){e.scroll(1,p)}).add(u)),e.scroll(0),t=l):u&&(g(),this.nav=u.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,a=i.length;t=this.currentPage+t;var n=this.clipHeight,r=this.options.navigation,o=this.pager,s=this.padding;a<t&&(t=a),0<t&&(void 0!==e&&Ti(e,this.chart),this.nav.attr({translateX:s,translateY:n+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),o.attr({text:t+"/"+a}),this.down.attr({x:18+this.pager.getBBox().width,class:t===a?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?r.inactiveColor:r.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===a?r.inactiveColor:r.activeColor}).css({cursor:t===a?"default":"pointer"}),this.scrollOffset=-i[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=t,this.positionCheckboxes())}},ui.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.symbolHeight,a=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(a?(t.symbolWidth-i)/2:0,t.baseline-i+1,a?i:t.symbolWidth,i,Mi(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i=this.options,a=i.marker,n=t.symbolWidth,r=t.symbolHeight,o=r/2,s=this.chart.renderer,l=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b),e={"stroke-width":i.lineWidth||0},i.dashStyle&&(e.dashstyle=i.dashStyle),this.legendLine=s.path(["M",0,t,"L",n,t]).addClass("highcharts-graph").attr(e).add(l),a&&!1!==a.enabled&&n&&(i=Math.min(Mi(a.radius,o),o),0===this.symbol.indexOf("url")&&(a=ki(a,{width:r,height:r}),i=0),this.legendSymbol=a=s.symbol(this.symbol,n/2-i,t-i,2*i,2*i,a).addClass("highcharts-point").add(l),a.isMarker=!0)}},(/Trident\/7\.0/.test(Ci.navigator.userAgent)||yi)&&Ai(ui.Legend.prototype,"positionItem",function(t,e){var i=this,a=function(){e._legendItemPos&&t.call(i,e)};a(),setTimeout(a)}),Ei=(Li=It).addEvent,zi=Li.animate,Pi=Li.animObject,Oi=Li.attr,Ii=Li.doc,Ni=Li.Axis,Di=Li.createElement,Bi=Li.defaultOptions,Hi=Li.discardElement,Fi=Li.charts,Ri=Li.css,Wi=Li.defined,Xi=Li.each,Gi=Li.extend,ji=Li.find,Yi=Li.fireEvent,_i=Li.grep,qi=Li.isNumber,Vi=Li.isObject,Ui=Li.isString,Ki=Li.Legend,$i=Li.marginNames,Zi=Li.merge,Qi=Li.objectEach,Ji=Li.Pointer,ta=Li.pick,ea=Li.pInt,ia=Li.removeEvent,aa=Li.seriesTypes,na=Li.splat,ra=Li.syncTimeout,oa=Li.win,sa=Li.Chart=function(){this.getArgs.apply(this,arguments)},Li.chart=function(t,e,i){return new sa(t,e,i)},Gi(sa.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(Ui(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(a,n){var r,o,s=a.series,l=a.plotOptions||{};Yi(this,"init",{args:arguments},function(){for(o in a.series=null,(r=Zi(Bi,a)).plotOptions)r.plotOptions[o].tooltip=l[o]&&Zi(l[o].tooltip)||void 0;r.tooltip.userOptions=a.chart&&a.chart.forExport&&a.tooltip.userOptions||a.tooltip,r.series=a.series=s,this.userOptions=a;var t=r.chart,e=t.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=n,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.time=a.time&&Li.keys(a.time).length?new Li.Time(a.time):Li.time,this.hasCartesianSeries=t.showAxes;var i=this;i.index=Fi.length,Fi.push(i),Li.chartCount++,e&&Qi(e,function(t,e){Ei(i,e,t)}),i.xAxis=[],i.yAxis=[],i.pointCount=i.colorCounter=i.symbolCounter=0,Yi(i,"afterInit"),i.firstRender()})},initSeries:function(t){var e=this.options.chart;return(e=aa[t.type||e.type||e.defaultSeriesType])||Li.error(17,!0),(e=new e).init(this,t),e},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,i){var a=i?e:t;return t=i?t:e,0<=a&&a<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(t){Yi(this,"beforeRedraw");var i,e,a,n=this.axes,r=this.series,o=this.pointer,s=this.legend,l=this.userOptions.legend,d=this.isDirtyLegend,c=this.hasCartesianSeries,p=this.isDirtyBox,h=this.renderer,u=h.isHidden(),m=[];for(this.setResponsive&&this.setResponsive(!1),Li.setAnimation(t,this),u&&this.temporaryDisplay(),this.layOutTitles(),t=r.length;t--;)if((a=r[t]).options.stacking&&(i=!0,a.isDirty)){e=!0;break}if(e)for(t=r.length;t--;)(a=r[t]).options.stacking&&(a.isDirty=!0);Xi(r,function(t){t.isDirty&&("point"===t.options.legendType?(t.updateTotals&&t.updateTotals(),d=!0):l&&(l.labelFormatter||l.labelFormat)&&(d=!0)),t.isDirtyData&&Yi(t,"updatedData")}),d&&s&&s.options.enabled&&(s.render(),this.isDirtyLegend=!1),i&&this.getStacks(),c&&Xi(n,function(t){t.updateNames(),t.setScale()}),this.getMargins(),c&&(Xi(n,function(t){t.isDirty&&(p=!0)}),Xi(n,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,m.push(function(){Yi(t,"afterSetExtremes",Gi(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(p||i)&&t.redraw()})),p&&this.drawChartBox(),Yi(this,"predraw"),Xi(r,function(t){(p||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),o&&o.reset(!0),h.draw(),Yi(this,"redraw"),Yi(this,"render"),u&&this.temporaryDisplay(!0),Xi(m,function(t){t.call()})},get:function(e){function t(t){return t.id===e||t.options&&t.options.id===e}var i,a,n=this.series;for(i=ji(this.axes,t)||ji(this.series,t),a=0;!i&&a<n.length;a++)i=ji(n[a].points||[],t);return i},getAxes:function(){var e=this,t=(i=this.options).xAxis=na(i.xAxis||{}),i=i.yAxis=na(i.yAxis||{});Yi(this,"getAxes"),Xi(t,function(t,e){t.index=e,t.isX=!0}),Xi(i,function(t,e){t.index=e}),t=t.concat(i),Xi(t,function(t){new Ni(e,t)}),Yi(this,"afterGetAxes")},getSelectedPoints:function(){var e=[];return Xi(this.series,function(t){e=e.concat(_i(t.data||[],function(t){return t.selected}))}),e},getSelectedSeries:function(){return _i(this.series,function(t){return t.selected})},setTitle:function(t,e,i){var a,r=this,n=r.options;a=n.title=Zi({style:{color:"#333333",fontSize:n.isStock?"16px":"18px"}},n.title,t),n=n.subtitle=Zi({style:{color:"#666666"}},n.subtitle,e),Xi([["title",t,a],["subtitle",e,n]],function(t,e){var i=t[0],a=r[i],n=t[1];t=t[2],a&&n&&(r[i]=a=a.destroy()),t&&!a&&(r[i]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+i,zIndex:t.zIndex||4}).add(),r[i].update=function(t){r.setTitle(!e&&t,e&&t)},r[i].css(t.style))}),r.layOutTitles(i)},layOutTitles:function(t){var e,n=0,r=this.renderer,o=this.spacingBox;Xi(["title","subtitle"],function(t){var e,i=this[t],a=this.options[t];t="title"===t?-3:a.verticalAlign?0:n+2,i&&(e=a.style.fontSize,e=r.fontMetrics(e,i).b,i.css({width:(a.width||o.width+a.widthAdjust)+"px"}).align(Gi({y:t+e},a),!1,"spacingBox"),a.floating||a.verticalAlign||(n=Math.ceil(n+i.getBBox(a.useHTML).height)))},this),e=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&e&&(this.isDirtyBox=this.isDirtyLegend=e,this.hasRendered&&ta(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=(e=this.options.chart).width,e=e.height,i=this.renderTo;Wi(t)||(this.containerWidth=Li.getStyle(i,"width")),Wi(e)||(this.containerHeight=Li.getStyle(i,"height")),this.chartWidth=Math.max(0,t||this.containerWidth||600),this.chartHeight=Math.max(0,Li.relativeLength(e,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(t){var e=this.renderTo;if(t)for(;e&&e.style;)e.hcOrigStyle&&(Li.css(e,e.hcOrigStyle),delete e.hcOrigStyle),e.hcOrigDetached&&(Ii.body.removeChild(e),e.hcOrigDetached=!1),e=e.parentNode;else for(;e&&e.style&&(Ii.body.contains(e)||e.parentNode||(e.hcOrigDetached=!0,Ii.body.appendChild(e)),("none"===Li.getStyle(e,"display",!1)||e.hcOricDetached)&&(e.hcOrigStyle={display:e.style.display,height:e.style.height,overflow:e.style.overflow},t={display:"block",overflow:"hidden"},e!==this.renderTo&&(t.height=0),Li.css(e,t),e.offsetWidth||e.style.setProperty("display","block","important")),(e=e.parentNode)!==Ii.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var t,e,i,a=this.options,n=a.chart;t=this.renderTo;var r,o=Li.uniqueKey();t||(this.renderTo=t=n.renderTo),Ui(t)&&(this.renderTo=t=Ii.getElementById(t)),t||Li.error(13,!0),e=ea(Oi(t,"data-highcharts-chart")),qi(e)&&Fi[e]&&Fi[e].hasRendered&&Fi[e].destroy(),Oi(t,"data-highcharts-chart",this.index),t.innerHTML="",n.skipClone||t.offsetWidth||this.temporaryDisplay(),this.getChartSize(),e=this.chartWidth,i=this.chartHeight,r=Gi({position:"relative",overflow:"hidden",width:e+"px",height:i+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},n.style),this.container=t=Di("div",{id:o},r,t),this._cursor=t.style.cursor,this.renderer=new(Li[n.renderer]||Li.Renderer)(t,e,i,null,n.forExport,a.exporting&&a.exporting.allowHTML),this.setClassName(n.className),this.renderer.setStyle(n.style),this.renderer.chartIndex=this.index,Yi(this,"afterGetContainer")},getMargins:function(t){var e=this.spacing,i=this.margin,a=this.titleOffset;this.resetMargins(),a&&!Wi(i[0])&&(this.plotTop=Math.max(this.plotTop,a+this.options.title.margin+e[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,e),Yi(this,"getMargins"),t||this.getAxisMargins()},getAxisMargins:function(){var i=this,a=i.axisOffset=[0,0,0,0],n=i.margin;i.hasCartesianSeries&&Xi(i.axes,function(t){t.visible&&t.getOffset()}),Xi($i,function(t,e){Wi(n[e])||(i[t]+=a[e])}),i.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,a=e.renderTo,n=Wi(i.width)&&Wi(i.height),r=i.width||Li.getStyle(a,"width");i=i.height||Li.getStyle(a,"height"),a=t?t.target:oa,n||e.isPrinting||!r||!i||a!==oa&&a!==Ii||(r===e.containerWidth&&i===e.containerHeight||(Li.clearTimeout(e.reflowTimeout),e.reflowTimeout=ra(function(){e.container&&e.setSize(void 0,void 0,!1)},t?100:0)),e.containerWidth=r,e.containerHeight=i)},setReflow:function(t){var e=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=Ei(oa,"resize",function(t){e.reflow(t)}),Ei(this,"destroy",this.unbindReflow))},setSize:function(t,e,i){var a=this,n=a.renderer;a.isResizing+=1,Li.setAnimation(i,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,void 0!==t&&(a.options.chart.width=t),void 0!==e&&(a.options.chart.height=e),a.getChartSize(),((t=n.globalAnimation)?zi:Ri)(a.container,{width:a.chartWidth+"px",height:a.chartHeight+"px"},t),a.setChartSize(!0),n.setSize(a.chartWidth,a.chartHeight,i),Xi(a.axes,function(t){t.isDirty=!0,t.setScale()}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(i),a.oldChartHeight=null,Yi(a,"resize"),ra(function(){a&&Yi(a,"endResize",null,function(){--a.isResizing})},Pi(t).duration)},setChartSize:function(t){var e,i,a,n,r=this.inverted,o=this.renderer,s=this.chartWidth,l=this.chartHeight,d=this.options.chart,c=this.spacing,p=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=a=Math.max(0,Math.round(s-e-this.marginRight)),this.plotHeight=n=Math.max(0,Math.round(l-i-this.marginBottom)),this.plotSizeX=r?n:a,this.plotSizeY=r?a:n,this.plotBorderWidth=d.plotBorderWidth||0,this.spacingBox=o.spacingBox={x:c[3],y:c[0],width:s-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=o.plotBox={x:e,y:i,width:a,height:n},s=2*Math.floor(this.plotBorderWidth/2),r=Math.ceil(Math.max(s,p[3])/2),o=Math.ceil(Math.max(s,p[0])/2),this.clipBox={x:r,y:o,width:Math.floor(this.plotSizeX-Math.max(s,p[1])/2-r),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(s,p[2])/2-o))},t||Xi(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()}),Yi(this,"afterSetChartSize",{skipAxes:t})},resetMargins:function(){var n=this,r=n.options.chart;Xi(["margin","spacing"],function(i){var t=r[i],a=Vi(t)?t:[t,t,t,t];Xi(["Top","Right","Bottom","Left"],function(t,e){n[i][e]=ta(r[i+t],a[e])})}),Xi($i,function(t,e){n[t]=ta(n.margin[e],n.spacing[e])}),n.axisOffset=[0,0,0,0],n.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this.options.chart,a=this.renderer,n=this.chartWidth,r=this.chartHeight,o=this.chartBackground,s=this.plotBackground,l=this.plotBorder,d=this.plotBGImage,c=i.backgroundColor,p=i.plotBackgroundColor,h=i.plotBackgroundImage,u=this.plotLeft,m=this.plotTop,f=this.plotWidth,g=this.plotHeight,v=this.plotBox,b=this.clipRect,x=this.clipBox,y="animate";o||(this.chartBackground=o=a.rect().addClass("highcharts-background").add(),y="attr"),e=(t=i.borderWidth||0)+(i.shadow?8:0),c={fill:c||"none"},(t||o["stroke-width"])&&(c.stroke=i.borderColor,c["stroke-width"]=t),o.attr(c).shadow(i.shadow),o[y]({x:e/2,y:e/2,width:n-e-t%2,height:r-e-t%2,r:i.borderRadius}),y="animate",s||(y="attr",this.plotBackground=s=a.rect().addClass("highcharts-plot-background").add()),s[y](v),s.attr({fill:p||"none"}).shadow(i.plotShadow),h&&(d?d.animate(v):this.plotBGImage=a.image(h,u,m,f,g).add()),b?b.animate({width:x.width,height:x.height}):this.clipRect=a.clipRect(x),y="animate",l||(y="attr",this.plotBorder=l=a.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),l[y](l.crisp({x:u,y:m,width:f,height:g},-l.strokeWidth())),this.isDirtyBox=!1,Yi(this,"afterDrawChartBox")},propFromSeries:function(){var e,i,a,n=this,r=n.options.chart,o=n.options.series;Xi(["inverted","angular","polar"],function(t){for(e=aa[r.type||r.defaultSeriesType],a=r[t]||e&&e.prototype[t],i=o&&o.length;!a&&i--;)(e=aa[o[i].type])&&e.prototype[t]&&(a=!0);n[t]=a})},linkSeries:function(){var i=this,t=i.series;Xi(t,function(t){t.linkedSeries.length=0}),Xi(t,function(t){var e=t.options.linkedTo;Ui(e)&&(e=":previous"===e?i.series[t.index-1]:i.get(e))&&e.linkedParent!==t&&(e.linkedSeries.push(t),t.linkedParent=e,t.visible=ta(t.options.visible,e.options.visible,t.visible))}),Yi(this,"afterLinkSeries")},renderSeries:function(){Xi(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var n=this,r=n.options.labels;r.items&&Xi(r.items,function(t){var e=Gi(r.style,t.style),i=ea(e.left)+n.plotLeft,a=ea(e.top)+n.plotTop+12;delete e.left,delete e.top,n.renderer.text(t.html,i,a).attr({zIndex:2}).css(e).add()})},render:function(){var t,e,i,a=this.axes,n=this.renderer,r=this.options;this.setTitle(),this.legend=new Ki(this,r.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),r=this.plotWidth,t=this.plotHeight=Math.max(this.plotHeight-21,0),Xi(a,function(t){t.setScale()}),this.getAxisMargins(),e=1.1<r/this.plotWidth,i=1.05<t/this.plotHeight,(e||i)&&(Xi(a,function(t){(t.horiz&&e||!t.horiz&&i)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&Xi(a,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=n.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;(t=Zi(!0,this.options.credits,t)).enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(oa.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var t,i=this,e=i.axes,a=i.series,n=i.container,r=n&&n.parentNode;for(Yi(i,"destroy"),i.renderer.forExport?Li.erase(Fi,i):Fi[i.index]=void 0,Li.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),ia(i),t=e.length;t--;)e[t]=e[t].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),t=a.length;t--;)a[t]=a[t].destroy();Xi("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var e=i[t];e&&e.destroy&&(i[t]=e.destroy())}),n&&(n.innerHTML="",ia(n),r&&Hi(n)),Qi(i,function(t,e){delete i[e]})},firstRender:function(){var e=this,t=e.options;e.isReadyToRender&&!e.isReadyToRender()||(e.getContainer(),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),Xi(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),Yi(e,"beforeRender"),Ji&&(e.pointer=new Ji(e,t)),e.render(),!e.renderer.imgCount&&e.onload&&e.onload(),e.temporaryDisplay(!0))},onload:function(){Xi([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),Yi(this,"load"),Yi(this,"render"),Wi(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}}),da=(la=It).addEvent,ca=la.Chart,pa=la.each,da(ca,"afterSetChartSize",function(t){var e=this.options.chart.scrollablePlotArea;(e=e&&e.minWidth)&&!this.renderer.forExport&&(this.scrollablePixels=e=Math.max(0,e-this.chartWidth))&&(this.plotWidth+=e,this.clipBox.width+=e,t.skipAxes||pa(this.axes,function(i){1===i.side?i.getPlotLinePath=function(){var t,e=this.right;return this.right=e-i.chart.scrollablePixels,t=la.Axis.prototype.getPlotLinePath.apply(this,arguments),this.right=e,t}:(i.setAxisSize(),i.setAxisTranslation())}))}),da(ca,"render",function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),ca.prototype.setUpScrolling=function(){this.scrollingContainer=la.createElement("div",{className:"highcharts-scrolling"},{overflowX:"auto",WebkitOverflowScrolling:"touch"},this.renderTo),this.innerContainer=la.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},ca.prototype.applyFixed=function(){var e,t,i=this.container;(a=!this.fixedDiv)&&(this.fixedDiv=la.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.fixedRenderer=e=new la.Renderer(this.fixedDiv,0,0),this.scrollableMask=e.path().attr({fill:la.color(this.options.chart.backgroundColor||"#fff").setOpacity(.85).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),la.each([this.inverted?".highcharts-xaxis":".highcharts-yaxis",this.inverted?".highcharts-xaxis-labels":".highcharts-yaxis-labels",".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-subtitle",".highcharts-title",".highcharts-legend-checkbox"],function(t){la.each(i.querySelectorAll(t),function(t){(t.namespaceURI===e.SVG_NS?e.box:e.box.parentNode).appendChild(t),t.style.pointerEvents="auto"})})),this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),t=this.chartWidth+this.scrollablePixels,la.stop(this.container),this.container.style.width=t+"px",this.renderer.boxWrapper.attr({width:t,height:this.chartHeight,viewBox:[0,0,t,this.chartHeight].join(" ")}),this.chartBackground.attr({width:t}),a&&(t=this.options.chart.scrollablePlotArea).scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*t.scrollPositionX),a=this.axisOffset,t=this.plotTop-a[0]-1;var a=this.plotTop+this.plotHeight+a[2],n=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?["M",0,t,"L",this.plotLeft-1,t,"L",this.plotLeft-1,a,"L",0,a,"Z","M",n,t,"L",this.chartWidth,t,"L",this.chartWidth,a,"L",n,a,"Z"]:["M",0,0]})},ma=(ha=It).each,fa=ha.extend,ga=ha.erase,va=ha.fireEvent,ba=ha.format,xa=ha.isArray,ya=ha.isNumber,wa=ha.pick,ka=ha.removeEvent,ha.Point=ua=function(){},ha.Point.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,i=t.colorCounter,t.colorCounter++,t.colorCounter===e&&(t.colorCounter=0)):i=t.colorIndex,this.colorIndex=wa(this.colorIndex,i),t.chart.pointCount++,va(this,"afterInit"),this},applyOptions:function(t,e){var i=this.series,a=i.options.pointValKey||i.pointValKey;return t=ua.prototype.optionsToObject.call(this,t),fa(this,t),this.options=this.options?fa(this.options,t):t,t.group&&delete this.group,a&&(this.y=this[a]),this.isNull=wa(this.isValid&&!this.isValid(),null===this.x||!ya(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===e&&i.xAxis&&i.xAxis.hasNames&&(this.x=i.xAxis.nameToX(this)),void 0===this.x&&i&&(this.x=void 0===e?i.autoIncrement(this):e),this},setNestedProperty:function(t,n,e){return e=e.split("."),ha.reduce(e,function(t,e,i,a){return t[e]=a.length-1===i?n:ha.isObject(t[e],!0)?t[e]:{},t[e]},t),t},optionsToObject:function(t){var e={},i=this.series,a=i.options.keys,n=a||i.pointArrayMap||["y"],r=n.length,o=0,s=0;if(ya(t)||null===t)e[n[0]]=t;else if(xa(t))for(!a&&t.length>r&&("string"==(i=typeof t[0])?e.name=t[0]:"number"===i&&(e.x=t[0]),o++);s<r;)a&&void 0===t[o]||(0<n[s].indexOf(".")?ha.Point.prototype.setNestedProperty(e,t[o],n[s]):e[n[s]]=t[o]),o++,s++;else"object"==typeof t&&((e=t).dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=(i=this.series).zones,i=i.zoneAxis||"y",a=0;for(t=e[a];this[i]>=t.value;)t=e[++a];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=t&&t.color&&!this.options.color?t.color:this.nonZonedColor,t},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;for(t in e.pointCount--,i&&(this.setState(),ga(i,this),i.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(ka(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)this[t=e[i]]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,i=t.tooltipOptions,a=wa(i.valueDecimals,""),n=i.valuePrefix||"",r=i.valueSuffix||"";return ma(t.pointArrayMap||["y"],function(t){t="{point."+t,(n||r)&&(e=e.replace(RegExp(t+"}","g"),n+t+"}"+r)),e=e.replace(RegExp(t+"}","g"),t+":,."+a+"f}")}),ba(e,{point:this,series:this.series},t.chart.time)},firePointEvent:function(t,e,i){var a=this,n=this.series.options;(n.point.events[t]||a.options&&a.options.events&&a.options.events[t])&&this.importEvents(),"click"===t&&n.allowPointSelect&&(i=function(t){a.select&&a.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),va(this,t,e,i)},visible:!0},Ta=(Ma=It).addEvent,Sa=Ma.animObject,Ca=Ma.arrayMax,Aa=Ma.arrayMin,La=Ma.correctFloat,Ea=Ma.defaultOptions,za=Ma.defaultPlotOptions,Pa=Ma.defined,Oa=Ma.each,Ia=Ma.erase,Na=Ma.extend,Da=Ma.fireEvent,Ba=Ma.grep,Ha=Ma.isArray,Fa=Ma.isNumber,Ra=Ma.isString,Wa=Ma.merge,Xa=Ma.objectEach,Ga=Ma.pick,ja=Ma.removeEvent,Ya=Ma.splat,_a=Ma.SVGElement,qa=Ma.syncTimeout,Va=Ma.win,Ma.Series=Ma.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":Ma.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:Ma.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,e){var i,a,n=this,r=t.series;n.chart=t,n.options=e=n.setOptions(e),n.linkedSeries=[],n.bindAxes(),Na(n,{name:e.name,state:"",visible:!1!==e.visible,selected:!0===e.selected}),i=e.events,Xa(i,function(t,e){Ta(n,e,t)}),(i&&i.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),n.getColor(),n.getSymbol(),Oa(n.parallelArrays,function(t){n[t+"Data"]=[]}),n.setData(e.data,!1),n.isCartesian&&(t.hasCartesianSeries=!0),r.length&&(a=r[r.length-1]),n._i=Ga(a&&a._i,-1)+1,t.orderSeries(this.insert(r)),Da(this,"afterInit")},insert:function(t){var e,i=this.options.index;if(Fa(i)){for(e=t.length;e--;)if(i>=Ga(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return Ga(e,t.length-1)},bindAxes:function(){var i,a=this,n=a.options,t=a.chart;Oa(a.axisTypes||[],function(e){Oa(t[e],function(t){i=t.options,(n[e]===i.index||void 0!==n[e]&&n[e]===i.id||void 0===n[e]&&0===i.index)&&(a.insert(t.series),(a[e]=t).isDirty=!0)}),a[e]||a.optionalAxis===e||Ma.error(18,!0)})},updateParallelArrays:function(i,a){var n=i.series,e=arguments,t=Fa(a)?function(t){var e="y"===t&&n.toYData?n.toYData(i):i[t];n[t+"Data"][a]=e}:function(t){Array.prototype[a].apply(n[t+"Data"],Array.prototype.slice.call(e,2))};Oa(n.parallelArrays,t)},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,a=e.pointIntervalUnit,n=this.chart.time;return i=Ga(i,e.pointStart,0),this.pointInterval=t=Ga(this.pointInterval,e.pointInterval,1),a&&(e=new n.Date(i),"day"===a?n.set("Date",e,n.get("Date",e)+t):"month"===a?n.set("Month",e,n.get("Month",e)+t):"year"===a&&n.set("FullYear",e,n.get("FullYear",e)+t),t=e.getTime()-i),this.xIncrement=i+t,i},setOptions:function(t){var e=this.chart,i=e.options,a=i.plotOptions,n=(e.userOptions||{}).plotOptions||{},r=a[this.type];return this.userOptions=t,e=Wa(r,a.series,t),this.tooltipOptions=Wa(Ea.tooltip,Ea.plotOptions.series&&Ea.plotOptions.series.tooltip,Ea.plotOptions[this.type].tooltip,i.tooltip.userOptions,a.series&&a.series.tooltip,a[this.type].tooltip,t.tooltip),this.stickyTracking=Ga(t.stickyTracking,n[this.type]&&n[this.type].stickyTracking,n.series&&n.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===r.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,t=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||t.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),t.length&&Pa(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),Da(this,"afterSetOptions",{options:e}),e},getName:function(){return this.name||"Series "+(this.index+1)},getCyclic:function(t,e,i){var a,n=this.chart,r=this.userOptions,o=t+"Index",s=t+"Counter",l=i?i.length:Ga(n.options.chart[t+"Count"],n[t+"Count"]);e||(a=Ga(r[o],r["_"+o]),Pa(a)||(n.series.length||(n[s]=0),r["_"+o]=a=n[s]%l,n[s]+=1),i&&(e=i[a])),void 0!==a&&(this[o]=a),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||za[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:Ma.LegendSymbolMixin.drawLineMarker,updateData:function(t){var i,e,a,n=this.options,r=this.points,o=[],s=this.requireSorting;if(Oa(t,function(t){var e;e=Ma.defined(t)&&this.pointClass.prototype.optionsToObject.call({series:this},t).x,Fa(e)&&(-1===(e=Ma.inArray(e,this.xData,a))||r[e].touched?o.push(t):t!==n.data[e]?(r[e].update(t,!1,null,!1),r[e].touched=!0,s&&(a=e+1)):r[e]&&(r[e].touched=!0),i=!0)},this),i)for(t=r.length;t--;)(e=r[t]).touched||e.remove(!1),e.touched=!1;else{if(t.length!==r.length)return!1;Oa(t,function(t,e){r[e].update&&t!==n.data[e]&&r[e].update(t,!1,null,!1)})}return Oa(o,function(t){this.addPoint(t,!1)},this),!0},setData:function(t,e,i,a){var n,r,o=this,s=o.points,l=s&&s.length||0,d=o.options,c=o.chart,p=null,h=o.xAxis,u=d.turboThreshold,m=this.xData,f=this.yData,g=(n=o.pointArrayMap)&&n.length;if(n=(t=t||[]).length,e=Ga(e,!0),!1!==a&&n&&l&&!o.cropped&&!o.hasGroupedData&&o.visible&&!o.isSeriesBoosting&&(r=this.updateData(t)),!r){if(o.xIncrement=null,o.colorCounter=0,Oa(this.parallelArrays,function(t){o[t+"Data"].length=0}),u&&u<n){for(i=0;null===p&&i<n;)p=t[i],i++;if(Fa(p))for(i=0;i<n;i++)m[i]=this.autoIncrement(),f[i]=t[i];else if(Ha(p))if(g)for(i=0;i<n;i++)p=t[i],m[i]=p[0],f[i]=p.slice(1,g+1);else for(i=0;i<n;i++)p=t[i],m[i]=p[0],f[i]=p[1];else Ma.error(12)}else for(i=0;i<n;i++)void 0!==t[i]&&(p={series:o},o.pointClass.prototype.applyOptions.apply(p,[t[i]]),o.updateParallelArrays(p,i));for(f&&Ra(f[0])&&Ma.error(14,!0),o.data=[],o.options.data=o.userOptions.data=t,i=l;i--;)s[i]&&s[i].destroy&&s[i].destroy();h&&(h.minRange=h.userMinRange),o.isDirty=c.isDirtyBox=!0,o.isDirtyData=!!s,i=!1}"point"===d.legendType&&(this.processData(),this.generatePoints()),e&&c.redraw(i)},processData:function(t){var e,i=this.xData,a=this.yData,n=i.length;e=0;var r,o,s,l=this.xAxis;s=(u=this.options).cropThreshold;var d,c,p=this.getExtremesFromAll||u.getExtremesFromAll,h=this.isCartesian,u=l&&l.val2lin,m=l&&l.isLog,f=this.requireSorting;if(h&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(l&&(d=(t=l.getExtremes()).min,c=t.max),h&&this.sorted&&!p&&(!s||s<n||this.forceCrop)&&(i[n-1]<d||i[0]>c?(i=[],a=[]):this.yData&&(i[0]<d||i[n-1]>c)&&(i=(e=this.cropData(this.xData,this.yData,d,c)).xData,a=e.yData,e=e.start,r=!0)),s=i.length||1;--s;)0<(n=m?u(i[s])-u(i[s-1]):i[s]-i[s-1])&&(void 0===o||n<o)?o=n:n<0&&f&&(Ma.error(15),f=!1);this.cropped=r,this.cropStart=e,this.processedXData=i,this.processedYData=a,this.closestPointRange=o},cropData:function(t,e,i,a,n){var r,o=t.length,s=0,l=o;for(n=Ga(n,this.cropShoulder,1),r=0;r<o;r++)if(t[r]>=i){s=Math.max(0,r-n);break}for(i=r;i<o;i++)if(t[i]>a){l=i+n;break}return{xData:t.slice(s,l),yData:e.slice(s,l),start:s,end:l}},generatePoints:function(){var t,e,i,a,n=(h=this.options).data,r=this.data,o=this.processedXData,s=this.processedYData,l=this.pointClass,d=o.length,c=this.cropStart||0,p=this.hasGroupedData,h=h.keys,u=[];for(r||p||((r=[]).length=n.length,r=this.data=r),h&&p&&(this.options.keys=!1),a=0;a<d;a++)e=c+a,p?((i=(new l).init(this,[o[a]].concat(Ya(s[a])))).dataGroup=this.groupMap[a],i.dataGroup.options&&(i.options=i.dataGroup.options,Na(i,i.dataGroup.options))):(i=r[e])||void 0===n[e]||(r[e]=i=(new l).init(this,n[e],o[a])),i&&(i.index=e,u[a]=i);if(this.options.keys=h,r&&(d!==(t=r.length)||p))for(a=0;a<t;a++)a!==c||p||(a+=d),r[a]&&(r[a].destroyElements(),r[a].plotX=void 0);this.data=r,this.points=u},getExtremes:function(t){var e,i,a,n,r,o=this.yAxis,s=this.processedXData,l=[],d=0,c=(e=this.xAxis.getExtremes()).min,p=e.max,h=this.requireSorting?1:0;for(e=(t=t||this.stackedYData||this.processedYData||[]).length,r=0;r<e;r++)if(a=s[r],n=t[r],i=(Fa(n,!0)||Ha(n))&&(!o.positiveValuesOnly||n.length||0<n),a=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(s[r+h]||a)>=c&&(s[r-h]||a)<=p,i&&a)if(i=n.length)for(;i--;)"number"==typeof n[i]&&(l[d++]=n[i]);else l[d++]=n;this.dataMin=Aa(l),this.dataMax=Ca(l)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i,a,n=this.options,r=n.stacking,o=this.xAxis,s=o.categories,l=this.yAxis,d=this.points,c=d.length,p=!!this.modifyValue,h=n.pointPlacement,u="between"===h||Fa(h),m=n.threshold,f=n.startFromThreshold?m:0,g=Number.MAX_VALUE;for("between"===h&&(h=.5),Fa(h)&&(h*=Ga(n.pointRange||o.pointRange)),n=0;n<c;n++){var v=d[n],b=v.x,x=v.y;e=v.low;var y,w=r&&l.stacks[(this.negStacks&&x<(f?0:m)?"-":"")+this.stackKey];l.positiveValuesOnly&&null!==x&&x<=0&&(v.isNull=!0),v.plotX=t=La(Math.min(Math.max(-1e5,o.translate(b,0,0,0,1,h,"flags"===this.type)),1e5)),r&&this.visible&&!v.isNull&&w&&w[b]&&(a=this.getStackIndicator(a,b,this.index),e=(x=(y=w[b]).points[a.key])[0],x=x[1],e===f&&a.key===w[b].base&&(e=Ga(Fa(m)&&m,l.min)),l.positiveValuesOnly&&e<=0&&(e=null),v.total=v.stackTotal=y.total,v.percentage=y.total&&v.y/y.total*100,v.stackY=x,y.setOffset(this.pointXOffset||0,this.barW||0)),v.yBottom=Pa(e)?Math.min(Math.max(-1e5,l.translate(e,0,1,0,1)),1e5):null,p&&(x=this.modifyValue(x,v)),v.plotY=e="number"==typeof x&&1/0!==x?Math.min(Math.max(-1e5,l.translate(x,0,1,0,1)),1e5):void 0,v.isInside=void 0!==e&&0<=e&&e<=l.len&&0<=t&&t<=o.len,v.clientX=u?La(o.translate(b,0,0,0,1,h)):t,v.negative=v.y<(m||0),v.category=s&&void 0!==s[v.x]?s[v.x]:v.x,v.isNull||(void 0!==i&&(g=Math.min(g,Math.abs(t-i))),i=t),v.zone=this.zones.length&&v.getZone()}this.closestPointRangePx=g,Da(this,"afterTranslate")},getValidPoints:function(t,e){var i=this.chart;return Ba(t||this.points||[],function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted)||t.isNull)})},setClip:function(t){var e=this.chart,i=this.options,a=e.renderer,n=e.inverted,r=this.clipBox,o=r||e.clipBox,s=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,o.height,i.xAxis,i.yAxis].join(),l=e[s],d=e[s+"m"];l||(t&&(o.width=0,n&&(o.x=e.plotSizeX),e[s+"m"]=d=a.clipRect(n?e.plotSizeX+99:-99,n?-e.plotLeft:-e.plotTop,99,n?e.chartWidth:e.chartHeight)),e[s]=l=a.clipRect(o),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==i.clip&&(this.group.clip(t||r?l:e.clipRect),this.markerGroup.clip(d),this.sharedClipKey=s),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&s&&e[s]&&(r||(e[s]=e[s].destroy()),e[s+"m"]&&(e[s+"m"]=e[s+"m"].destroy())))},animate:function(t){var e,i=this.chart,a=Sa(this.options.animation);t?this.setClip(a):((t=i[e=this.sharedClipKey])&&t.animate({width:i.plotSizeX,x:0},a),i[e+"m"]&&i[e+"m"].animate({width:i.plotSizeX+99,x:0},a),this.animate=null)},afterAnimate:function(){this.setClip(),Da(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,i,a,n,r,o,s,l=this.points,d=this.chart,c=this.options.marker,p=this[this.specialGroup]||this.markerGroup,h=Ga(c.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=c.enabledThreshold*c.radius);if(!1!==c.enabled||this._hasPointMarkers)for(t=0;t<l.length;t++)a=(e=l[t]).graphic,n=e.marker||{},r=!!e.marker,i=h&&void 0===n.enabled||n.enabled,o=e.isInside,i&&!e.isNull?(i=Ga(n.symbol,this.symbol),s=this.markerAttribs(e,e.selected&&"select"),a?a[o?"show":"hide"](!0).animate(s):o&&(0<s.width||e.hasImage)&&(e.graphic=a=d.renderer.symbol(i,s.x,s.y,s.width,s.height,r?n:c).add(p)),a&&a.attr(this.pointAttribs(e,e.selected&&"select")),a&&a.addClass(e.getClassName(),!0)):a&&(e.graphic=a.destroy())},markerAttribs:function(t,e){var i=this.options.marker,a=t.marker||{},n=a.symbol||i.symbol,r=Ga(a.radius,i.radius);return e&&(i=i.states[e],e=a.states&&a.states[e],r=Ga(e&&e.radius,i&&i.radius,r+(i&&i.radiusPlus||0))),t.hasImage=n&&0===n.indexOf("url"),t.hasImage&&(r=0),t={x:Math.floor(t.plotX)-r,y:t.plotY-r},r&&(t.width=t.height=2*r),t},pointAttribs:function(t,e){var i=this.options.marker,a=(s=t&&t.options)&&s.marker||{},n=this.color,r=s&&s.color,o=t&&t.color,s=Ga(a.lineWidth,i.lineWidth);return t=t&&t.zone&&t.zone.color,n=r||t||o||n,t=a.fillColor||i.fillColor||n,n=a.lineColor||i.lineColor||n,e&&(i=i.states[e],e=a.states&&a.states[e]||{},s=Ga(e.lineWidth,i.lineWidth,s+Ga(e.lineWidthPlus,i.lineWidthPlus,0)),t=e.fillColor||i.fillColor||t,n=e.lineColor||i.lineColor||n),{stroke:n,"stroke-width":s,fill:t}},destroy:function(){var t,e,i,a=this,n=a.chart,r=/AppleWebKit\/533/.test(Va.navigator.userAgent),o=a.data||[];for(Da(a,"destroy"),ja(a),Oa(a.axisTypes||[],function(t){(i=a[t])&&i.series&&(Ia(i.series,a),i.isDirty=i.forceRedraw=!0)}),a.legendItem&&a.chart.legend.destroyItem(a),t=o.length;t--;)(e=o[t])&&e.destroy&&e.destroy();a.points=null,Ma.clearTimeout(a.animationTimeout),Xa(a,function(t,e){t instanceof _a&&!t.survive&&t[r&&"group"===e?"hide":"destroy"]()}),n.hoverSeries===a&&(n.hoverSeries=null),Ia(n.series,a),n.orderSeries(),Xa(a,function(t,e){delete a[e]})},getGraphPath:function(r,o,s){var t,l,d=this,c=d.options,p=c.step,h=[],u=[];return(t=(r=r||d.points).reversed)&&r.reverse(),(p={right:1,center:2}[p]||p&&3)&&t&&(p=4-p),!c.connectNulls||o||s||(r=this.getValidPoints(r)),Oa(r,function(t,e){var i=t.plotX,a=t.plotY,n=r[e-1];(t.leftCliff||n&&n.rightCliff)&&!s&&(l=!0),l=t.isNull&&!Pa(o)&&0<e?!c.connectNulls:!(!t.isNull||o)||(0===e||l?e=["M",t.plotX,t.plotY]:d.getPointSpline?e=d.getPointSpline(r,t,e):p?(e=1===p?["L",n.plotX,a]:2===p?["L",(n.plotX+i)/2,n.plotY,"L",(n.plotX+i)/2,a]:["L",i,n.plotY]).push("L",i,a):e=["L",i,a],u.push(t.x),p&&(u.push(t.x),2===p&&u.push(t.x)),h.push.apply(h,e),!1)}),h.xMap=u,d.graphPath=h},drawGraph:function(){var n=this,r=this.options,o=(this.gappedPath||this.getGraphPath).call(this),t=[["graph","highcharts-graph",r.lineColor||this.color,r.dashStyle]];t=n.getZonesGraphs(t),Oa(t,function(t,e){var i=t[0],a=n[i];a?(a.endX=n.preventGraphAnimation?null:o.xMap,a.animate({d:o})):o.length&&(n[i]=n.chart.renderer.path(o).addClass(t[1]).attr({zIndex:1}).add(n.group),a={stroke:t[2],"stroke-width":r.lineWidth,fill:n.fillGraph&&n.color||"none"},t[3]?a.dashstyle=t[3]:"square"!==r.linecap&&(a["stroke-linecap"]=a["stroke-linejoin"]="round"),a=n[i].attr(a).shadow(e<2&&r.shadow)),a&&(a.startX=o.xMap,a.isArea=o.isArea)})},getZonesGraphs:function(i){return Oa(this.zones,function(t,e){i.push(["zone-graph-"+e,"highcharts-graph highcharts-zone-graph-"+e+" "+(t.className||""),t.color||this.color,t.dashStyle||this.options.dashStyle])},this),i},applyZones:function(){var i,a,n,r,o,s,l,d,c,p=this,h=this.chart,u=h.renderer,t=this.zones,m=this.clips||[],f=this.graph,g=this.area,v=Math.max(h.chartWidth,h.chartHeight),b=this[(this.zoneAxis||"y")+"Axis"],x=h.inverted,y=!1;t.length&&(f||g)&&b&&void 0!==b.min&&(o=b.reversed,s=b.horiz,f&&!this.showLine&&f.hide(),g&&g.hide(),r=b.getExtremes(),Oa(t,function(t,e){i=o?s?h.plotWidth:0:s?0:b.toPixels(r.min),i=Math.min(Math.max(Ga(a,i),0),v),a=Math.min(Math.max(Math.round(b.toPixels(Ga(t.value,r.max),!0)),0),v),y&&(i=a=b.toPixels(r.max)),l=Math.abs(i-a),d=Math.min(i,a),c=Math.max(i,a),b.isXAxis?(n={x:x?c:d,y:0,width:l,height:v},s||(n.x=h.plotHeight-n.x)):(n={x:0,y:x?c:d,width:v,height:l},s&&(n.y=h.plotWidth-n.y)),x&&u.isVML&&(n=b.isXAxis?{x:0,y:o?d:c,height:n.width,width:h.chartWidth}:{x:n.y-h.plotLeft-h.spacingBox.x,y:0,width:n.height,height:h.chartHeight}),m[e]?m[e].animate(n):(m[e]=u.clipRect(n),f&&p["zone-graph-"+e].clip(m[e]),g&&p["zone-area-"+e].clip(m[e])),y=t.value>r.max,p.resetZones&&0===a&&(a=void 0)}),this.clips=m)},invertGroups:function(e){function t(){Oa(["group","markerGroup"],function(t){a[t]&&(n.renderer.isVML&&a[t].attr({width:a.yAxis.len,height:a.xAxis.len}),a[t].width=a.yAxis.len,a[t].height=a.xAxis.len,a[t].invert(e))})}var i,a=this,n=a.chart;a.xAxis&&(i=Ta(n,"resize",t),Ta(a,"destroy",i),t(),a.invertGroups=t)},plotGroup:function(t,e,i,a,n){var r=this[t],o=!r;return o&&(this[t]=r=this.chart.renderer.g().attr({zIndex:a||.1}).add(n)),r.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(Pa(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(r.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),r.attr({visibility:i})[o?"attr":"animate"](this.getPlotBox()),r},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,i=e.chart,a=e.options,n=!!e.animate&&i.renderer.isSVG&&Sa(a.animation).duration,r=e.visible?"inherit":"hidden",o=a.zIndex,s=e.hasRendered,l=i.seriesGroup,d=i.inverted;t=e.plotGroup("group","series",r,o,l),e.markerGroup=e.plotGroup("markerGroup","markers",r,o,l),n&&e.animate(!0),t.inverted=!!e.isCartesian&&d,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(d),!1===a.clip||e.sharedClipKey||s||t.clip(i.clipRect),n&&e.animate(),s||(e.animationTimeout=qa(function(){e.afterAnimate()},n)),e.isDirty=!1,e.hasRendered=!0,Da(e,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,i=this.group,a=this.xAxis,n=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:Ga(a&&a.left,t.plotLeft),translateY:Ga(n&&n.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,a=this.yAxis,n=this.chart.inverted;return this.searchKDTree({clientX:n?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:n?a.len-t.chartX+a.pos:t.chartY-a.pos},e)},buildKDTree:function(){this.buildingKdTree=!0;var o=this,t=-1<o.options.findNearestPointBy.indexOf("y")?2:1;delete o.kdTree,qa(function(){o.kdTree=function t(e,i,a){var n,r;if(r=e&&e.length)return n=o.kdAxisArray[i%a],e.sort(function(t,e){return t[n]-e[n]}),{point:e[r=Math.floor(r/2)],left:t(e.slice(0,r),i+1,a),right:t(e.slice(r+1),i+1,a)}}(o.getValidPoints(null,!o.directTouch),t,t),o.buildingKdTree=!1},o.options.kdNow?0:1)},searchKDTree:function(t,e){var c=this,p=this.kdAxisArray[0],h=this.kdAxisArray[1],u=e?"distX":"dist";if(e=-1<c.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return function t(e,i,a,n){var r,o,s=i.point,l=c.kdAxisArray[a%n],d=s;return r=((o=Pa(e[p])&&Pa(s[p])?Math.pow(e[p]-s[p],2):null)||0)+((r=Pa(e[h])&&Pa(s[h])?Math.pow(e[h]-s[h],2):null)||0),s.dist=Pa(r)?Math.sqrt(r):Number.MAX_VALUE,s.distX=Pa(o)?Math.sqrt(o):Number.MAX_VALUE,o=(l=e[l]-s[l])<0?"right":"left",i[r=l<0?"left":"right"]&&(d=(r=t(e,i[r],a+1,n))[u]<d[u]?r:s),i[o]&&Math.sqrt(l*l)<d[u]&&(d=(e=t(e,i[o],a+1,n))[u]<d[u]?e:d),d}(t,this.kdTree,e,e)}}),Ka=(Ua=It).Axis,$a=Ua.Chart,Za=Ua.correctFloat,Qa=Ua.defined,Ja=Ua.destroyObjectProperties,tn=Ua.each,en=Ua.format,an=Ua.objectEach,nn=Ua.pick,rn=Ua.Series,Ua.StackItem=function(t,e,i,a,n){var r=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=a,this.total=null,this.points={},this.stack=n,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(r?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(r?"middle":i?"bottom":"top"),y:nn(e.y,r?4:i?14:-6),x:nn(e.x,r?i?-6:6:0)},this.textAlign=e.textAlign||(r?i?"right":"left":"center")},Ua.StackItem.prototype={destroy:function(){Ja(this,this.axis)},render:function(t){var e=this.axis.chart,i=this.options,a=(a=i.format)?en(a,this,e.time):i.formatter.call(this);this.label?this.label.attr({text:a,visibility:"hidden"}):this.label=e.renderer.text(a,null,null,i.useHTML).css(i.style).attr({align:this.textAlign,rotation:i.rotation,visibility:"hidden"}).add(t),this.label.labelrank=e.plotHeight},setOffset:function(t,e){var i=this.axis,a=i.chart,n=i.translate(i.usePercentage?100:this.total,0,0,0,1),r=i.translate(0);r=Qa(n)&&Math.abs(n-r),t=a.xAxis[0].translate(this.x)+t,i=Qa(n)&&this.getStackBox(a,this,t,n,e,r,i),(e=this.label)&&i&&(e.align(this.alignOptions,null,i),i=e.alignAttr,e[!1===this.options.crop||a.isInsidePlot(i.x,i.y)?"show":"hide"](!0))},getStackBox:function(t,e,i,a,n,r,o){var s=e.axis.reversed,l=t.inverted;return t=o.height+o.pos-(l?t.plotLeft:t.plotTop),e=e.isNegative&&!s||!e.isNegative&&s,{x:l?e?a:a-r:i,y:l?t-i-n:e?t-a-r:t-a,width:l?r:n,height:l?n:r}}},$a.prototype.getStacks=function(){var e=this;tn(e.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),tn(e.series,function(t){!t.options.stacking||!0!==t.visible&&!1!==e.options.chart.ignoreHiddenSeries||(t.stackKey=t.type+nn(t.options.stack,""))})},Ka.prototype.buildStacks=function(){var t,e=this.series,i=nn(this.options.reversedStacks,!0),a=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=a;t--;)e[i?t:a-t-1].setStackedPoints();for(t=0;t<a;t++)e[t].modifyStacks()}},Ka.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,i=this.stacks,a=this.stackTotalGroup;a||(this.stackTotalGroup=a=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),a.translate(t.plotLeft,t.plotTop),an(i,function(t){an(t,function(t){t.render(a)})})},Ka.prototype.resetStacks=function(){var a=this,t=a.stacks;a.isXAxis||an(t,function(i){an(i,function(t,e){t.touched<a.stacksTouched?(t.destroy(),delete i[e]):(t.total=null,t.cumulative=null)})})},Ka.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),an(t,function(t){an(t,function(t){t.cumulative=t.total})}))},rn.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,e,i,a,n,r,o,s=this.processedXData,l=this.processedYData,d=[],c=l.length,p=(m=this.options).threshold,h=nn(m.startFromThreshold&&p,0),u=m.stack,m=m.stacking,f=this.stackKey,g="-"+f,v=this.negStacks,b=this.yAxis,x=b.stacks,y=b.oldStacks;for(b.stacksTouched+=1,n=0;n<c;n++)r=s[n],o=l[n],a=(t=this.getStackIndicator(t,r,this.index)).key,x[i=(e=v&&o<(h?0:p))?g:f]||(x[i]={}),x[i][r]||(y[i]&&y[i][r]?(x[i][r]=y[i][r],x[i][r].total=null):x[i][r]=new Ua.StackItem(b,b.options.stackLabels,e,r,u)),i=x[i][r],null!==o?(i.points[a]=i.points[this.index]=[nn(i.cumulative,h)],Qa(i.cumulative)||(i.base=a),i.touched=b.stacksTouched,0<t.index&&!1===this.singleStacks&&(i.points[a][0]=i.points[this.index+","+r+",0"][0])):i.points[a]=i.points[this.index]=null,"percent"===m?(e=e?f:g,v&&x[e]&&x[e][r]?(e=x[e][r],i.total=e.total=Math.max(e.total,i.total)+Math.abs(o)||0):i.total=Za(i.total+(Math.abs(o)||0))):i.total=Za(i.total+(o||0)),i.cumulative=nn(i.cumulative,h)+(o||0),null!==o&&(i.points[a].push(i.cumulative),d[n]=i.cumulative);"percent"===m&&(b.usePercentage=!0),this.stackedYData=d,b.oldStacks={}}},rn.prototype.modifyStacks=function(){var n,r=this,t=r.stackKey,o=r.yAxis.stacks,s=r.processedXData,l=r.options.stacking;r[l+"Stacker"]&&tn([t,"-"+t],function(t){for(var e,i,a=s.length;a--;)e=s[a],n=r.getStackIndicator(n,e,r.index,t),(i=(e=o[t]&&o[t][e])&&e.points[n.key])&&r[l+"Stacker"](i,e,a)})},rn.prototype.percentStacker=function(t,e,i){e=e.total?100/e.total:0,t[0]=Za(t[0]*e),t[1]=Za(t[1]*e),this.stackedYData[i]=t[1]},rn.prototype.getStackIndicator=function(t,e,i,a){return!Qa(t)||t.x!==e||a&&t.key!==a?t={x:e,index:0,key:a}:t.index++,t.key=[i,e,t.index].join(),t},sn=(on=It).addEvent,ln=on.animate,dn=on.Axis,cn=on.createElement,pn=on.css,hn=on.defined,un=on.each,mn=on.erase,fn=on.extend,gn=on.fireEvent,vn=on.inArray,bn=on.isNumber,xn=on.isObject,yn=on.isArray,wn=on.merge,kn=on.objectEach,Mn=on.pick,Tn=on.Point,Sn=on.Series,Cn=on.seriesTypes,An=on.setAnimation,Ln=on.splat,fn(on.Chart.prototype,{addSeries:function(t,e,i){var a,n=this;return t&&(e=Mn(e,!0),gn(n,"addSeries",{options:t},function(){a=n.initSeries(t),n.isDirtyLegend=!0,n.linkSeries(),gn(n,"afterAddSeries"),e&&n.redraw(i)})),a},addAxis:function(t,e,i,a){var n=e?"xAxis":"yAxis",r=this.options;return t=wn(t,{index:this[n].length,isX:e}),e=new dn(this,t),r[n]=Ln(r[n]||{}),r[n].push(t),Mn(i,!0)&&this.redraw(a),e},showLoading:function(t){var e=this,i=e.options,a=e.loadingDiv,n=i.loading,r=function(){a&&pn(a,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};a||(e.loadingDiv=a=cn("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container),e.loadingSpan=cn("span",{className:"highcharts-loading-inner"},null,a),sn(e,"redraw",r)),a.className="highcharts-loading",e.loadingSpan.innerHTML=t||i.lang.loading,pn(a,fn(n.style,{zIndex:10})),pn(e.loadingSpan,n.labelStyle),e.loadingShown||(pn(a,{opacity:0,display:""}),ln(a,{opacity:n.style.opacity||.5},{duration:n.showDuration||0})),e.loadingShown=!0,r()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",ln(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){pn(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),update:function(t,e,n,i){var a,r,o=this,s={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},l=t.chart,d=[];gn(o,"update",{options:t}),l&&(wn(!0,o.options.chart,l),"className"in l&&o.setClassName(l.className),"reflow"in l&&o.setReflow(l.reflow),("inverted"in l||"polar"in l||"type"in l)&&(o.propFromSeries(),a=!0),"alignTicks"in l&&(a=!0),kn(l,function(t,e){-1!==vn("chart."+e,o.propsRequireUpdateSeries)&&(r=!0),-1!==vn(e,o.propsRequireDirtyBox)&&(o.isDirtyBox=!0)}),"style"in l&&o.renderer.setStyle(l.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&wn(!0,this.options.plotOptions,t.plotOptions),kn(t,function(t,e){o[e]&&"function"==typeof o[e].update?o[e].update(t,!1):"function"==typeof o[s[e]]&&o[s[e]](t),"chart"!==e&&-1!==vn(e,o.propsRequireUpdateSeries)&&(r=!0)}),un("xAxis yAxis zAxis series colorAxis pane".split(" "),function(i){var a;t[i]&&("series"===i&&(a=[],un(o[i],function(t,e){t.options.isInternal||a.push(e)})),un(Ln(t[i]),function(t,e){(e=hn(t.id)&&o.get(t.id)||o[i][a?a[e]:e])&&e.coll===i&&(e.update(t,!1),n&&(e.touched=!0)),!e&&n&&("series"===i?o.addSeries(t,!1).touched=!0:"xAxis"!==i&&"yAxis"!==i||(o.addAxis(t,"xAxis"===i,!1).touched=!0))}),n&&un(o[i],function(t){t.touched||t.options.isInternal?delete t.touched:d.push(t)}))}),un(d,function(t){t.remove(!1)}),a&&un(o.axes,function(t){t.update({},!1)}),r&&un(o.series,function(t){t.update({},!1)}),t.loading&&wn(!0,o.options.loading,t.loading),a=l&&l.width,l=l&&l.height,bn(a)&&a!==o.chartWidth||bn(l)&&l!==o.chartHeight?o.setSize(a,l,i):Mn(e,!0)&&o.redraw(i),gn(o,"afterUpdate",{options:t})},setSubtitle:function(t){this.setTitle(void 0,t)}}),fn(Tn.prototype,{update:function(t,e,i,a){function n(){o.applyOptions(t),null===o.y&&l&&(o.graphic=l.destroy()),xn(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(o.graphic=l.destroy()),t&&t.dataLabels&&o.dataLabel&&(o.dataLabel=o.dataLabel.destroy()),o.connector&&(o.connector=o.connector.destroy())),r=o.index,s.updateParallelArrays(o,r),c.data[r]=xn(c.data[r],!0)||xn(t,!0)?o.options:Mn(t,c.data[r]),s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(d.isDirtyBox=!0),"point"===c.legendType&&(d.isDirtyLegend=!0),e&&d.redraw(i)}var r,o=this,s=o.series,l=o.graphic,d=s.chart,c=s.options;e=Mn(e,!0),!1===a?n():o.firePointEvent("update",{options:t},n)},remove:function(t,e){this.series.removePoint(vn(this,this.series.data),t,e)}}),fn(Sn.prototype,{addPoint:function(t,e,i,a){var n,r,o,s,l=this.options,d=this.data,c=this.chart,p=(p=this.xAxis)&&p.hasNames&&p.names,h=l.data,u=this.xData;if(e=Mn(e,!0),n={series:this},this.pointClass.prototype.applyOptions.apply(n,[t]),s=n.x,o=u.length,this.requireSorting&&s<u[o-1])for(r=!0;o&&u[o-1]>s;)o--;this.updateParallelArrays(n,"splice",o,0,0),this.updateParallelArrays(n,o),p&&n.name&&(p[s]=n.name),h.splice(o,0,t),r&&(this.data.splice(o,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),i&&(d[0]&&d[0].remove?d[0].remove(!1):(d.shift(),this.updateParallelArrays(n,"shift"),h.shift())),this.isDirtyData=this.isDirty=!0,e&&c.redraw(a)},removePoint:function(t,e,i){var a=this,n=a.data,r=n[t],o=a.points,s=a.chart,l=function(){o&&o.length===n.length&&o.splice(t,1),n.splice(t,1),a.options.data.splice(t,1),a.updateParallelArrays(r||{series:a},"splice",t,1),r&&r.destroy(),a.isDirty=!0,a.isDirtyData=!0,e&&s.redraw()};An(i,s),e=Mn(e,!0),r?r.firePointEvent("remove",null,l):l()},remove:function(t,e,i){function a(){n.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(),Mn(t,!0)&&r.redraw(e)}var n=this,r=n.chart;!1!==i?gn(n,"remove",null,a):a()},update:function(e,t){var i,a=this,n=a.chart,r=a.userOptions,o=a.oldType||a.type,s=e.type||r.type||n.options.chart.type,l=Cn[o].prototype,d=["group","markerGroup","dataLabelsGroup"],c=["navigatorSeries","baseSeries"],p=a.finishedAnimating&&{animation:!1},h=["data","name","turboThreshold"],u=on.keys(e),m=0<u.length;if(un(u,function(t){-1===vn(t,h)&&(m=!1)}),m)e.data&&this.setData(e.data,!1),e.name&&this.setName(e.name,!1);else{for(i in c=d.concat(c),un(c,function(t){c[t]=a[t],delete a[t]}),e=wn(r,p,{index:a.index,pointStart:Mn(r.pointStart,a.xData[0])},{data:a.options.data},e),a.remove(!1,null,!1),l)a[i]=void 0;Cn[s||o]?fn(a,Cn[s||o].prototype):on.error(17,!0),un(c,function(t){a[t]=c[t]}),a.init(n,e),e.zIndex!==r.zIndex&&un(d,function(t){a[t]&&a[t].attr({zIndex:e.zIndex})}),a.oldType=o,n.linkSeries()}gn(this,"afterUpdate"),Mn(t,!0)&&n.redraw(!!m&&void 0)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),fn(dn.prototype,{update:function(t,e){var i=this.chart,a=t&&t.events||{};t=wn(this.userOptions,t),i.options[this.coll].indexOf&&(i.options[this.coll][i.options[this.coll].indexOf(this.userOptions)]=t),kn(i.options[this.coll].events,function(t,e){void 0===a[e]&&(a[e]=void 0)}),this.destroy(!0),this.init(i,fn(t,{events:a})),i.isDirtyBox=!0,Mn(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,a=this.series,n=a.length;n--;)a[n]&&a[n].remove(!1);mn(e.axes,this),mn(e[i],this),yn(e.options[i])?e.options[i].splice(this.options.index,1):delete e.options[i],un(e[i],function(t,e){t.options.index=t.userOptions.index=e}),this.destroy(),e.isDirtyBox=!0,Mn(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}}),zn=(En=It).color,Pn=En.each,On=En.map,In=En.pick,Nn=En.Series,(0,En.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(t){var l,d,e=[],c=[],i=this.xAxis,a=this.yAxis,p=a.stacks[this.stackKey],h={},u=this.index,n=a.series,m=n.length,f=In(a.options.reversedStacks,!0)?1:-1;if(t=t||this.points,this.options.stacking){for(d=0;d<t.length;d++)t[d].leftNull=t[d].rightNull=null,h[t[d].x]=t[d];En.objectEach(p,function(t,e){null!==t.total&&c.push(e)}),c.sort(function(t,e){return t-e}),l=On(n,function(){return this.visible}),Pn(c,function(n,r){var o,s,t=0;if(h[n]&&!h[n].isNull)e.push(h[n]),Pn([-1,1],function(t){var e=1===t?"rightNull":"leftNull",i=0,a=p[c[r+t]];if(a)for(d=u;0<=d&&d<m;)(o=a.points[d])||(d===u?h[n][e]=!0:l[d]&&(s=p[n].points[d])&&(i-=s[1]-s[0])),d+=f;h[n][1===t?"rightCliff":"leftCliff"]=i});else{for(d=u;0<=d&&d<m;){if(o=p[n].points[d]){t=o[1];break}d+=f}t=a.translate(t,0,1,0,1),e.push({isNull:!0,plotX:i.translate(n,0,0,0,1),x:n,plotY:t,yBottom:t})}})}return e},getGraphPath:function(s){var t,e,l,i,a=Nn.prototype.getGraphPath,d=(n=this.options).stacking,c=this.yAxis,p=[],h=[],u=this.index,m=c.stacks[this.stackKey],f=n.threshold,g=c.getThreshold(n.threshold),n=n.connectNulls||"percent"===d,r=function(t,e,i){var a=s[t];t=d&&m[a.x].points[u];var n,r,o=a[i+"Null"]||0;i=a[i+"Cliff"]||0,a=!0,i||o?(n=(o?t[0]:t[1])+i,r=t[0]+i,a=!!o):!d&&s[e]&&s[e].isNull&&(n=r=f),void 0!==n&&(h.push({plotX:l,plotY:null===n?g:c.getThreshold(n),isNull:a,isCliff:!0}),p.push({plotX:l,plotY:null===r?g:c.getThreshold(r),doCurve:!1}))};for(s=s||this.points,d&&(s=this.getStackPoints(s)),t=0;t<s.length;t++)e=s[t].isNull,l=In(s[t].rectPlotX,s[t].plotX),i=In(s[t].yBottom,g),(!e||n)&&(n||r(t,t-1,"left"),e&&!d&&n||(h.push(s[t]),p.push({x:t,plotX:l,plotY:i})),n||r(t,t+1,"right"));return t=a.call(this,h,!0,!0),p.reversed=!0,(e=a.call(this,p,!0,!0)).length&&(e[0]="L"),e=t.concat(e),a=a.call(this,h,!1,n),e.xMap=t.xMap,this.areaPath=e,a},drawGraph:function(){this.areaPath=[],Nn.prototype.drawGraph.apply(this);var a=this,n=this.areaPath,r=this.options,i=[["area","highcharts-area",this.color,r.fillColor]];Pn(this.zones,function(t,e){i.push(["zone-area-"+e,"highcharts-area highcharts-zone-area-"+e+" "+t.className,t.color||a.color,t.fillColor||r.fillColor])}),Pn(i,function(t){var e=t[0],i=a[e];i?(i.endX=a.preventGraphAnimation?null:n.xMap,i.animate({d:n})):(i=a[e]=a.chart.renderer.path(n).addClass(t[1]).attr({fill:In(t[3],zn(t[2]).setOpacity(In(r.fillOpacity,.75)).get()),zIndex:0}).add(a.group)).isArea=!0,i.startX=n.xMap,i.shiftUnit=r.step?2:1})},drawLegendSymbol:En.LegendSymbolMixin.drawRectangle}),Bn=(Dn=It).pick,(Dn=Dn.seriesType)("spline","line",{},{getPointSpline:function(t,e,i){var a,n,r,o,s=e.plotX,l=e.plotY,d=t[i-1];if(i=t[i+1],d&&!d.isNull&&!1!==d.doCurve&&!e.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!e.isCliff){t=d.plotY,r=i.plotX;var c=0;n=(1.5*l+t)/2.5,o=(1.5*l+(i=i.plotY))/2.5,(r=(1.5*s+r)/2.5)!=(a=(1.5*s+d.plotX)/2.5)&&(c=(o-n)*(r-s)/(r-a)+l-o),o+=c,t<(n+=c)&&l<n?o=2*l-(n=Math.max(t,l)):n<t&&n<l&&(o=2*l-(n=Math.min(t,l))),i<o&&l<o?n=2*l-(o=Math.max(i,l)):o<i&&o<l&&(n=2*l-(o=Math.min(i,l))),e.rightContX=r,e.rightContY=o}return e=["C",Bn(d.rightContX,d.plotX),Bn(d.rightContY,d.plotY),Bn(a,s),Bn(n,l),s,l],d.rightContX=d.rightContY=null,e}}),Fn=(Hn=It).seriesTypes.area.prototype,(0,Hn.seriesType)("areaspline","spline",Hn.defaultPlotOptions.area,{getStackPoints:Fn.getStackPoints,getGraphPath:Fn.getGraphPath,drawGraph:Fn.drawGraph,drawLegendSymbol:Hn.LegendSymbolMixin.drawRectangle}),Wn=(Rn=It).animObject,Xn=Rn.color,Gn=Rn.each,jn=Rn.extend,Yn=Rn.isNumber,_n=Rn.merge,qn=Rn.pick,Vn=Rn.Series,Un=Rn.seriesType,Kn=Rn.svg,Un("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Vn.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&Gn(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var n,r=this,t=r.options,e=r.xAxis,o=r.yAxis,i=e.options.reversedStacks,s=(i=e.reversed&&!i||!e.reversed&&i,{}),l=0;!1===t.grouping?l=1:Gn(r.chart.series,function(t){var e,i=t.options,a=t.yAxis;t.type!==r.type||!t.visible&&r.chart.options.chart.ignoreHiddenSeries||o.len!==a.len||o.pos!==a.pos||(i.stacking?(n=t.stackKey,void 0===s[n]&&(s[n]=l++),e=s[n]):!1!==i.grouping&&(e=l++),t.columnIndex=e)});var a=Math.min(Math.abs(e.transA)*(e.ordinalSlope||t.pointRange||e.closestPointRange||e.tickInterval||1),e.len),d=a*t.groupPadding,c=(a-2*d)/(l||1);return t=Math.min(t.maxPointWidth||e.len,qn(t.pointWidth,c*(1-2*t.pointPadding))),r.columnMetrics={width:t,offset:(c-t)/2+(d+((r.columnIndex||0)+(i?1:0))*c-a/2)*(i?-1:1)},r.columnMetrics},crispCol:function(t,e,i,a){var n=this.chart,r=-((o=this.borderWidth)%2?.5:0),o=o%2?.5:1;return n.inverted&&n.renderer.isVML&&(o+=1),this.options.crisp&&(i=Math.round(t+i)+r,i-=t=Math.round(t)+r),a=Math.round(e+a)+o,r=Math.abs(e)<=.5&&.5<a,a-=e=Math.round(e)+o,r&&a&&(--e,a+=1),{x:t,y:e,width:i,height:a}},translate:function(){var l=this,d=l.chart,t=l.options,e=l.dense=l.closestPointRange*l.xAxis.transA<2,c=(e=l.borderWidth=qn(t.borderWidth,e?0:1),l.yAxis),p=t.threshold,h=l.translatedThreshold=c.getThreshold(p),u=qn(t.minPointLength,5),i=l.getColumnMetrics(),m=i.width,f=l.barW=Math.max(m,1+2*e),g=l.pointXOffset=i.offset;d.inverted&&(h-=.5),t.pointPadding&&(f=Math.ceil(f)),Vn.prototype.translate.apply(l),Gn(l.points,function(t){var e,i=qn(t.yBottom,h),a=999+Math.abs(i),n=(a=Math.min(Math.max(-a,t.plotY),c.len+a),t.plotX+g),r=f,o=Math.min(a,i),s=Math.max(a,i)-o;u&&Math.abs(s)<u&&(s=u,e=!c.reversed&&!t.negative||c.reversed&&t.negative,t.y===p&&l.dataMax<=p&&c.min<p&&(e=!e),o=Math.abs(o-h)>u?i-u:h-(e?u:0)),t.barX=n,t.pointWidth=m,t.tooltipPos=d.inverted?[c.len+c.pos-d.plotLeft-a,l.xAxis.len-n-r/2,s]:[n+r/2,a+c.pos-d.plotTop,s],t.shapeType="rect",t.shapeArgs=l.crispCol.apply(l,t.isNull?[n,h,r,0]:[n,o,r,s])})},getSymbol:Rn.noop,drawLegendSymbol:Rn.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var i,a=this.options;i=(l=this.pointAttrToOptions||{}).stroke||"borderColor";var n=l["stroke-width"]||"borderWidth",r=t&&t.color||this.color,o=t&&t[i]||a[i]||this.color||r,s=t&&t[n]||a[n]||this[n]||0,l=a.dashStyle;return t&&this.zones.length&&(r=t.getZone(),r=t.options.color||r&&r.color||this.color),e&&(e=(t=_n(a.states[e],t.options.states&&t.options.states[e]||{})).brightness,r=t.color||void 0!==e&&Xn(r).brighten(t.brightness).get()||r,o=t[i]||o,s=t[n]||s,l=t.dashStyle||l),i={fill:r,stroke:o,"stroke-width":s},l&&(i.dashstyle=l),i},drawPoints:function(){var a,n=this,r=this.chart,o=n.options,s=r.renderer,l=o.animationLimit||250;Gn(n.points,function(t){var e=t.graphic,i=e&&r.pointCount<l?"animate":"attr";Yn(t.plotY)&&null!==t.y?(a=t.shapeArgs,e?e[i](_n(a)):t.graphic=e=s[t.shapeType](a).add(t.group||n.group),o.borderRadius&&e.attr({r:o.borderRadius}),e[i](n.pointAttribs(t,t.selected&&"select")).shadow(o.shadow,null,o.stacking&&!o.borderRadius),e.addClass(t.getClassName(),!0)):e&&(t.graphic=e.destroy())})},animate:function(t){var i,a=this,n=this.yAxis,e=a.options,r=this.chart.inverted,o={},s=r?"translateX":"translateY";Kn&&(t?(o.scaleY=.001,t=Math.min(n.pos+n.len,Math.max(n.pos,n.toPixels(e.threshold))),r?o.translateX=t-n.len:o.translateY=t,a.group.attr(o)):(i=a.group.attr(s),a.group.animate({scaleY:1},jn(Wn(a.options.animation),{step:function(t,e){o[s]=i+e.pos*(n.pos-i),a.group.attr(o)}})),a.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&Gn(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),Vn.prototype.remove.apply(e,arguments)}}),(0,It.seriesType)("bar","column",null,{inverted:!0}),Zn=($n=It).Series,($n=$n.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&Zn.prototype.drawGraph.call(this)}}),Jn=(Qn=It).deg2rad,tr=Qn.isNumber,er=Qn.pick,ir=Qn.relativeLength,Qn.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,a=this.chart,n=2*(i.slicedOffset||0),r=a.plotWidth-2*n,o=(a=a.plotHeight-2*n,i.center),s=(o=[er(o[0],"50%"),er(o[1],"50%"),i.size||"100%",i.innerSize||0],Math.min(r,a));for(t=0;t<4;++t)e=o[t],i=t<2||2===t&&/%$/.test(e),o[t]=ir(e,[r,a,s,o[2]][t])+(i?n:0);return o[3]>o[2]&&(o[3]=o[2]),o},getStartAndEndRadians:function(t,e){return t=tr(t)?t:0,e=tr(e)&&t<e&&e-t<360?e:t+360,{start:Jn*(t+-90),end:Jn*(e+-90)}}},nr=(ar=It).addEvent,rr=ar.CenteredSeriesMixin,or=ar.defined,sr=ar.each,lr=ar.extend,dr=rr.getStartAndEndRadians,cr=ar.inArray,pr=ar.noop,hr=ar.pick,ur=ar.Point,mr=ar.Series,fr=ar.seriesType,gr=ar.setAnimation,fr("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:ar.seriesTypes.column.prototype.pointAttribs,animate:function(t){var a=this,e=a.points,n=a.startAngleRad;t||(sr(e,function(t){var e=t.graphic,i=t.shapeArgs;e&&(e.attr({r:t.startR||a.center[3]/2,start:n,end:n}),e.animate({r:i.r,start:i.start,end:i.end},a.options.animation))}),a.animate=null)},updateTotals:function(){var t,e,i=0,a=this.points,n=a.length,r=this.options.ignoreHiddenPoint;for(t=0;t<n;t++)e=a[t],i+=r&&!e.visible?0:e.isNull?0:e.y;for(this.total=i,t=0;t<n;t++)(e=a[t]).percentage=0<i&&(e.visible||!r)?e.y/i*100:0,e.total=i},generatePoints:function(){mr.prototype.generatePoints.call(this),this.updateTotals()},translate:function(a){this.generatePoints();var t,e,n,i,r,o,s=0,l=(m=this.options).slicedOffset,d=l+(m.borderWidth||0),c=dr(m.startAngle,m.endAngle),p=this.startAngleRad=c.start,h=(c=(this.endAngleRad=c.end)-p,this.points),u=m.dataLabels.distance,m=m.ignoreHiddenPoint,f=h.length;for(a||(this.center=a=this.getCenter()),this.getX=function(t,e,i){return n=Math.asin(Math.min((t-a[1])/(a[2]/2+i.labelDistance),1)),a[0]+(e?-1:1)*Math.cos(n)*(a[2]/2+i.labelDistance)},r=0;r<f;r++)(o=h[r]).labelDistance=hr(o.options.dataLabels&&o.options.dataLabels.distance,u),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,o.labelDistance),t=p+s*c,m&&!o.visible||(s+=o.percentage/100),e=p+s*c,o.shapeType="arc",o.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:Math.round(1e3*t)/1e3,end:Math.round(1e3*e)/1e3},(n=(e+t)/2)>1.5*Math.PI?n-=2*Math.PI:n<-Math.PI/2&&(n+=2*Math.PI),o.slicedTranslation={translateX:Math.round(Math.cos(n)*l),translateY:Math.round(Math.sin(n)*l)},e=Math.cos(n)*a[2]/2,i=Math.sin(n)*a[2]/2,o.tooltipPos=[a[0]+.7*e,a[1]+.7*i],o.half=n<-Math.PI/2||n>Math.PI/2?1:0,o.angle=n,t=Math.min(d,o.labelDistance/5),o.labelPos=[a[0]+e+Math.cos(n)*o.labelDistance,a[1]+i+Math.sin(n)*o.labelDistance,a[0]+e+Math.cos(n)*t,a[1]+i+Math.sin(n)*t,a[0]+e,a[1]+i,o.labelDistance<0?"center":o.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var i,a,n,r,o=this,s=o.chart.renderer,l=o.options.shadow;l&&!o.shadowGroup&&(o.shadowGroup=s.g("shadow").add(o.group)),sr(o.points,function(t){if(a=t.graphic,t.isNull)a&&(t.graphic=a.destroy());else{r=t.shapeArgs,i=t.getTranslate();var e=t.shadowGroup;l&&!e&&(e=t.shadowGroup=s.g("shadow").add(o.shadowGroup)),e&&e.attr(i),n=o.pointAttribs(t,t.selected&&"select"),a?a.setRadialReference(o.center).attr(n).animate(lr(r,i)):(t.graphic=a=s[t.shapeType](r).setRadialReference(o.center).attr(i).add(o.group),a.attr(n).attr({"stroke-linejoin":"round"}).shadow(l,e)),a.attr({visibility:t.visible?"inherit":"hidden"}),a.addClass(t.getClassName())}})},searchPoint:pr,sortByAngle:function(t,i){t.sort(function(t,e){return void 0!==t.angle&&(e.angle-t.angle)*i})},drawLegendSymbol:ar.LegendSymbolMixin.drawRectangle,getCenter:rr.getCenter,getSymbol:pr},{init:function(){ur.prototype.init.apply(this,arguments);var t,e=this;return e.name=hr(e.name,"Slice"),nr(e,"select",t=function(t){e.slice("select"===t.type)}),nr(e,"unselect",t),e},isValid:function(){return ar.isNumber(this.y,!0)&&0<=this.y},setVisible:function(e,t){var i=this,a=i.series,n=a.chart,r=a.options.ignoreHiddenPoint;t=hr(t,r),e!==i.visible&&(i.visible=i.options.visible=e=void 0===e?!i.visible:e,a.options.data[cr(i,a.data)]=i.options,sr(["graphic","dataLabel","connector","shadowGroup"],function(t){i[t]&&i[t][e?"show":"hide"](!0)}),i.legendItem&&n.legend.colorizeItem(i,e),e||"hover"!==i.state||i.setState(""),r&&(a.isDirty=!0),t&&n.redraw())},slice:function(t,e,i){var a=this.series;gr(i,a.chart),hr(e,!0),this.sliced=this.options.sliced=or(t)?t:!this.sliced,a.options.data[cr(this,a.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r-1,start:e.start,end:e.end})}}),br=(vr=It).addEvent,xr=vr.arrayMax,yr=vr.defined,wr=vr.each,kr=vr.extend,Mr=vr.format,Tr=vr.map,Sr=vr.merge,Cr=vr.noop,Ar=vr.pick,Lr=vr.relativeLength,Er=vr.Series,zr=vr.seriesTypes,Pr=vr.some,Or=vr.stableSort,vr.distribute=function(t,i,a){function e(t,e){return t.target-e.target}var n,r,o=!0,s=t,l=[];r=0;var d=s.reducedLen||i;for(n=t.length;n--;)r+=t[n].size;if(d<r){for(Or(t,function(t,e){return(e.rank||0)-(t.rank||0)}),r=n=0;r<=d;)r+=t[n].size,n++;l=t.splice(n-1,t.length)}for(Or(t,e),t=Tr(t,function(t){return{size:t.size,targets:[t.target],align:Ar(t.align,.5)}});o;){for(n=t.length;n--;)o=t[n],r=(Math.min.apply(0,o.targets)+Math.max.apply(0,o.targets))/2,o.pos=Math.min(Math.max(0,r-o.size*o.align),i-o.size);for(n=t.length,o=!1;n--;)0<n&&t[n-1].pos+t[n-1].size>t[n].pos&&(t[n-1].size+=t[n].size,t[n-1].targets=t[n-1].targets.concat(t[n].targets),t[n-1].align=.5,t[n-1].pos+t[n-1].size>i&&(t[n-1].pos=i-t[n-1].size),t.splice(n,1),o=!0)}s.push.apply(s,l),n=0,Pr(t,function(t){var e=0;if(Pr(t.targets,function(){if(s[n].pos=t.pos+e,Math.abs(s[n].pos-s[n].target)>a)return wr(s.slice(0,n+1),function(t){delete t.pos}),s.reducedLen=(s.reducedLen||i)-.1*i,s.reducedLen>.1*i&&vr.distribute(s,i,a),!0;e+=s[n].size,n++}))return!0}),Or(s,e)},Er.prototype.drawDataLabels=function(){var p,h,u,m,f=this,g=f.chart,v=f.options,b=v.dataLabels,t=f.points,e=f.hasRendered||0,i=Ar(b.defer,!!v.animation),x=g.renderer;(b.enabled||f._hasPointLabels)&&(f.dlProcessOptions&&f.dlProcessOptions(b),m=f.plotGroup("dataLabelsGroup","data-labels",i&&!e?"hidden":"visible",b.zIndex||6),i&&(m.attr({opacity:+e}),e||br(f,"afterAnimate",function(){f.visible&&m.show(!0),m[v.animation?"animate":"attr"]({opacity:1},{duration:200})})),h=b,wr(t,function(t){var e,i,a,n,r,o,s,l=t.dataLabel,d=t.connector,c=!l;p=t.dlOptions||t.options&&t.options.dataLabels,(e=Ar(p&&p.enabled,h.enabled)&&!t.isNull)&&(e=1==(r=t,!(s=(o=p||b).filter)||(o=s.operator,r=r[s.property],s=s.value,">"===o&&s<r||"<"===o&&r<s||">="===o&&s<=r||"<="===o&&r<=s||"=="===o&&r==s||"==="===o&&r===s))),e&&(b=Sr(h,p),i=t.getLabelConfig(),n=b[t.formatPrefix+"Format"]||b.format,u=yr(n)?Mr(n,i,g.time):(b[t.formatPrefix+"Formatter"]||b.formatter).call(i,b),n=b.style,i=b.rotation,n.color=Ar(b.color,n.color,f.color,"#000000"),"contrast"===n.color&&(t.contrastColor=x.getContrast(t.color||f.color),n.color=b.inside||Ar(t.labelDistance,b.distance)<0||v.stacking?t.contrastColor:"#000000"),v.cursor&&(n.cursor=v.cursor),a={fill:b.backgroundColor,stroke:b.borderColor,"stroke-width":b.borderWidth,r:b.borderRadius||0,rotation:i,padding:b.padding,zIndex:1},vr.objectEach(a,function(t,e){void 0===t&&delete a[e]})),!l||e&&yr(u)?e&&yr(u)&&(l?a.text=u:(l=t.dataLabel=i?x.text(u,0,-9999,b.useHTML).addClass("highcharts-data-label"):x.label(u,0,-9999,b.shape,null,null,b.useHTML,null,"data-label")).addClass(" highcharts-data-label-color-"+t.colorIndex+" "+(b.className||"")+(b.useHTML?" highcharts-tracker":"")),l.attr(a),l.css(n).shadow(b.shadow),l.added||l.add(m),f.alignDataLabel(t,l,b,null,c)):(t.dataLabel=l=l.destroy(),d&&(t.connector=d.destroy()))})),vr.fireEvent(this,"afterDrawDataLabels")},Er.prototype.alignDataLabel=function(t,e,i,a,n){var r,o=this.chart,s=o.inverted,l=Ar(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),d=Ar(t.plotY,-9999),c=e.getBBox(),p=i.rotation,h=i.align,u=this.visible&&(t.series.forceDL||o.isInsidePlot(l,Math.round(d),s)||a&&o.isInsidePlot(l,s?a.x+1:a.y+a.height-1,s)),m="justify"===Ar(i.overflow,"justify");u&&(r=i.style.fontSize,r=o.renderer.fontMetrics(r,e).b,a=kr({x:s?this.yAxis.len-d:l,y:Math.round(s?this.xAxis.len-l:d),width:0,height:0},a),kr(i,{width:c.width,height:c.height}),p?(m=!1,l=o.renderer.rotCorr(r,p),l={x:a.x+i.x+a.width/2+l.x,y:a.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*a.height},e[n?"attr":"animate"](l).attr({align:h}),d=180<(d=(p+720)%360)&&d<360,"left"===h?l.y-=d?c.height:0:"center"===h?(l.x-=c.width/2,l.y-=c.height/2):"right"===h&&(l.x-=c.width,l.y-=d?0:c.height),e.placed=!0,e.alignAttr=l):(e.align(i,null,a),l=e.alignAttr),m&&0<=a.height?t.isLabelJustified=this.justifyDataLabel(e,i,l,c,a,n):Ar(i.crop,!0)&&(u=o.isInsidePlot(l.x,l.y)&&o.isInsidePlot(l.x+c.width,l.y+c.height)),i.shape&&!p)&&e[n?"attr":"animate"]({anchorX:s?o.plotWidth-t.plotY:t.plotX,anchorY:s?o.plotHeight-t.plotX:t.plotY}),u||(e.attr({y:-9999}),e.placed=!1)},Er.prototype.justifyDataLabel=function(t,e,i,a,n,r){var o,s,l=this.chart,d=e.align,c=e.verticalAlign,p=t.box?0:t.padding||0;return(o=i.x+p)<0&&("right"===d?e.align="left":e.x=-o,s=!0),(o=i.x+a.width-p)>l.plotWidth&&("left"===d?e.align="right":e.x=l.plotWidth-o,s=!0),(o=i.y+p)<0&&("bottom"===c?e.verticalAlign="top":e.y=-o,s=!0),(o=i.y+a.height-p)>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-o,s=!0),s&&(t.placed=!r,t.align(e,null,n)),s},zr.pie&&(zr.pie.prototype.drawDataLabels=function(){var s,i,l,d,c,p,h,u,m,f,g=this,t=g.data,v=g.chart,b=g.options.dataLabels,x=Ar(b.connectorPadding,10),a=Ar(b.connectorWidth,1),y=v.plotWidth,w=v.plotHeight,e=Math.round(v.chartWidth/3),k=g.center,M=k[2]/2,T=k[1],n=[[],[]],S=[0,0,0,0];g.visible&&(b.enabled||g._hasPointLabels)&&(wr(t,function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)}),Er.prototype.drawDataLabels.apply(g),wr(t,function(t){t.dataLabel&&(t.visible?(n[t.half].push(t),t.dataLabel._pos=null,!yr(b.style.width)&&!yr(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>e&&(t.dataLabel.css({width:.7*e}),t.dataLabel.shortened=!0)):t.dataLabel=t.dataLabel.destroy())}),wr(n,function(t,e){var i,a,n,r=t.length,o=[];if(r)for(g.sortByAngle(t,e-.5),0<g.maxLabelDistance&&(i=Math.max(0,T-M-g.maxLabelDistance),a=Math.min(T+M+g.maxLabelDistance,v.plotHeight),wr(t,function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,T-M-t.labelDistance),t.bottom=Math.min(T+M+t.labelDistance,v.plotHeight),n=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPos[1]-t.top+n/2,size:n,rank:t.y},o.push(t.distributeBox))}),i=a+n-i,vr.distribute(o,i,i/5)),f=0;f<r;f++)s=t[f],c=s.labelPos,l=s.dataLabel,m=!1===s.visible?"hidden":"inherit",u=i=c[1],o&&yr(s.distributeBox)&&(void 0===s.distributeBox.pos?m="hidden":(p=s.distributeBox.size,u=s.top+s.distributeBox.pos)),delete s.positionIndex,h=b.justify?k[0]+(e?-1:1)*(M+s.labelDistance):g.getX(u<s.top+2||u>s.bottom-2?i:u,e,s),l._attr={visibility:m,align:c[6]},l._pos={x:h+b.x+({left:x,right:-x}[c[6]]||0),y:u+b.y-10},c.x=h,c.y=u,Ar(b.crop,!0)&&(d=l.getBBox().width,i=null,h-d<x&&1===e?(i=Math.round(d-h+x),S[3]=Math.max(i,S[3])):y-x<h+d&&0===e&&(i=Math.round(h+d-y+x),S[1]=Math.max(i,S[1])),u-p/2<0?S[0]=Math.max(Math.round(p/2-u),S[0]):w<u+p/2&&(S[2]=Math.max(Math.round(u+p/2-w),S[2])),l.sideOverflow=i)}),0===xr(S)||this.verifyDataLabelOverflow(S))&&(this.placeDataLabels(),a&&wr(this.points,function(t){var e;i=t.connector,(l=t.dataLabel)&&l._pos&&t.visible&&0<t.labelDistance?(m=l._attr.visibility,(e=!i)&&(t.connector=i=v.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(g.dataLabelsGroup),i.attr({"stroke-width":a,stroke:b.connectorColor||t.color||"#666666"})),i[e?"attr":"animate"]({d:g.connectorPath(t.labelPos)}),i.attr("visibility",m)):i&&(t.connector=i.destroy())}))},zr.pie.prototype.connectorPath=function(t){var e=t.x,i=t.y;return Ar(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),i,"C",e,i,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),i,"L",t[2],t[3],"L",t[4],t[5]]},zr.pie.prototype.placeDataLabels=function(){wr(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),e.shortened=!0),e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))},this)},zr.pie.prototype.alignDataLabel=Cr,zr.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,a=this.options,n=a.center,r=a.minSize||80,o=null!==a.size;return o||(null!==n[0]?e=Math.max(i[2]-Math.max(t[1],t[3]),r):(e=Math.max(i[2]-t[1]-t[3],r),i[0]+=(t[3]-t[1])/2),null!==n[1]?e=Math.max(Math.min(e,i[2]-Math.max(t[0],t[2])),r):(e=Math.max(Math.min(e,i[2]-t[0]-t[2]),r),i[1]+=(t[0]-t[2])/2),e<i[2]?(i[2]=e,i[3]=Math.min(Lr(a.innerSize||0,e),e),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):o=!0),o}),zr.column&&(zr.column.prototype.alignDataLabel=function(t,e,i,a,n){var r=this.chart.inverted,o=t.series,s=t.dlBox||t.shapeArgs,l=Ar(t.below,t.plotY>Ar(this.translatedThreshold,o.yAxis.len)),d=Ar(i.inside,!!this.options.stacking);s&&((a=Sr(s)).y<0&&(a.height+=a.y,a.y=0),0<(s=a.y+a.height-o.yAxis.len)&&(a.height-=s),r&&(a={x:o.yAxis.len-a.y-a.height,y:o.xAxis.len-a.x-a.width,width:a.height,height:a.width}),d||(r?(a.x+=l?0:a.width,a.width=0):(a.y+=l?a.height:0,a.height=0))),i.align=Ar(i.align,!r||d?"center":l?"right":"left"),i.verticalAlign=Ar(i.verticalAlign,r||d?"middle":l?"top":"bottom"),Er.prototype.alignDataLabel.call(this,t,e,i,a,n),t.isLabelJustified&&t.contrastColor&&t.dataLabel.css({color:t.contrastColor})}),Nr=(Ir=It).Chart,Dr=Ir.each,Br=Ir.objectEach,Hr=Ir.pick,(Ir=Ir.addEvent)(Nr,"render",function(){var a=[];Dr(this.labelCollectors||[],function(t){a=a.concat(t())}),Dr(this.yAxis||[],function(t){t.options.stackLabels&&!t.options.stackLabels.allowOverlap&&Br(t.stacks,function(t){Br(t,function(t){a.push(t.label)})})}),Dr(this.series||[],function(t){var e=t.options.dataLabels,i=t.dataLabelCollections||["dataLabel"];(e.enabled||t._hasPointLabels)&&!e.allowOverlap&&t.visible&&Dr(i,function(e){Dr(t.points,function(t){t[e]&&t.visible&&(t[e].labelrank=Hr(t.labelrank,t.shapeArgs&&t.shapeArgs.height),a.push(t[e]))})})}),this.hideOverlappingLabels(a)}),Nr.prototype.hideOverlappingLabels=function(t){var e,i,a,n,r,o,s,l,d,c,p,h,u,m,f=t.length,g=this.renderer;for(a=function(t){var e,i,a,n=2*(t.box?0:t.padding||0);if(a=0,t&&(!t.alignAttr||t.placed))return e=t.alignAttr||{x:t.attr("x"),y:t.attr("y")},i=t.parentGroup,t.width||(a=t.getBBox(),t.width=a.width,t.height=a.height,a=g.fontMetrics(null,t.element).h),{x:e.x+(i.translateX||0),y:e.y+(i.translateY||0)-a,width:t.width-n,height:t.height-n}},i=0;i<f;i++)(e=t[i])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=a(e));for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),i=0;i<f;i++)for(o=(a=t[i])&&a.absoluteBox,e=i+1;e<f;++e)r=(n=t[e])&&n.absoluteBox,o&&r&&a!==n&&0!==a.newOpacity&&0!==n.newOpacity&&(s=o.x,l=o.y,d=o.width,c=o.height,p=r.x,h=r.y,u=r.width,m=r.height,r=!(s+d<p||p+u<s||l+c<h||h+m<l))&&((a.labelrank<n.labelrank?a:n).newOpacity=0);Dr(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&(t.alignAttr&&t.placed?(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)):t.attr({opacity:i})),t.isOld=!0)})},Wr=(Fr=It).addEvent,Xr=Fr.Chart,Gr=Fr.createElement,jr=Fr.css,Yr=Fr.defaultOptions,_r=Fr.defaultPlotOptions,qr=Fr.each,Vr=Fr.extend,Ur=Fr.fireEvent,Kr=Fr.hasTouch,$r=Fr.inArray,Zr=Fr.isObject,Qr=Fr.Legend,Jr=Fr.merge,to=Fr.pick,eo=Fr.Point,io=Fr.Series,ao=Fr.seriesTypes,no=Fr.svg,Rr=Fr.TrackerMixin={drawTrackerPoint:function(){var e=this,i=e.chart.pointer,a=function(t){var e=i.getPointFromEvent(t);void 0!==e&&(i.isDirectTouch=!0,e.onMouseOver(t))};qr(e.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)}),e._hasTracking||(qr(e.trackerGroups,function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",a).on("mouseout",function(t){i.onTrackerMouseOut(t)}),Kr&&e[t].on("touchstart",a),e.options.cursor&&e[t].css(jr).css({cursor:e.options.cursor}))}),e._hasTracking=!0),Ur(this,"afterDrawTracker")},drawTrackerGraph:function(){var t,e=this,i=e.options,a=i.trackByArea,n=[].concat(a?e.areaPath:e.graphPath),r=n.length,o=e.chart,s=o.pointer,l=o.renderer,d=o.options.tooltip.snap,c=e.tracker,p=function(){o.hoverSeries!==e&&e.onMouseOver()},h="rgba(192,192,192,"+(no?1e-4:.002)+")";if(r&&!a)for(t=r+1;t--;)"M"===n[t]&&n.splice(t+1,0,n[t+1]-d,n[t+2],"L"),(t&&"M"===n[t]||t===r)&&n.splice(t,0,"L",n[t-2]+d,n[t-1]);c?c.attr({d:n}):e.graph&&(e.tracker=l.path(n).attr({"stroke-linejoin":"round",stroke:h,fill:a?h:"none","stroke-width":e.graph.strokeWidth()+(a?0:2*d),visibility:e.visible?"visible":"hidden",zIndex:2}).addClass(a?"highcharts-tracker-area":"highcharts-tracker-line").add(e.group),qr([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(t){s.onTrackerMouseOut(t)}),i.cursor&&t.css({cursor:i.cursor}),Kr&&t.on("touchstart",p)})),Ur(this,"afterDrawTracker")}},ao.column&&(ao.column.prototype.drawTracker=Rr.drawTrackerPoint),ao.pie&&(ao.pie.prototype.drawTracker=Rr.drawTrackerPoint),ao.scatter&&(ao.scatter.prototype.drawTracker=Rr.drawTrackerPoint),Vr(Qr.prototype,{setItemEvents:function(i,t,e){var a=this,n=a.chart.renderer.boxWrapper,r="highcharts-legend-"+(i instanceof eo?"point":"series")+"-active";(e?t:i.legendGroup).on("mouseover",function(){i.setState("hover"),n.addClass(r),t.css(a.options.itemHoverStyle)}).on("mouseout",function(){t.css(Jr(i.visible?a.itemStyle:a.itemHiddenStyle)),n.removeClass(r),i.setState()}).on("click",function(t){var e=function(){i.setVisible&&i.setVisible()};n.removeClass(r),t={browserEvent:t},i.firePointEvent?i.firePointEvent("legendItemClick",t,e):Ur(i,"legendItemClick",t,e)})},createCheckboxForItem:function(e){e.checkbox=Gr("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),Wr(e.checkbox,"click",function(t){Ur(e.series||e,"checkboxClick",{checked:t.target.checked,item:e},function(){e.select()})})}}),Yr.legend.itemStyle.cursor="pointer",Vr(Xr.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,i=Yr.lang,a=e.options.chart.resetZoomButton,n=a.theme,r=n.states,o="chart"===a.relativeTo?null:"plotBox";Ur(this,"beforeShowResetZoom",null,function(){e.resetZoomButton=e.renderer.button(i.resetZoom,null,null,t,n,r&&r.hover).attr({align:a.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(a.position,!1,o)})},zoomOut:function(){Ur(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(t){var i,e,a=this.pointer,n=!1;!t||t.resetSelection?(qr(this.axes,function(t){i=t.zoom()}),a.initiated=!1):qr(t.xAxis.concat(t.yAxis),function(t){var e=t.axis;a[e.isXAxis?"zoomX":"zoomY"]&&(i=e.zoom(t.min,t.max),e.displayBtn&&(n=!0))}),e=this.resetZoomButton,n&&!e?this.showResetZoom():!n&&Zr(e)&&(this.resetZoomButton=e.destroy()),i&&this.redraw(to(this.options.chart.animation,t&&t.animation,this.pointCount<100))},pan:function(d,t){var c,p=this,e=p.hoverPoints;e&&qr(e,function(t){t.setState()}),qr("xy"===t?[1,0]:[1],function(t){var e,i=(t=p[t?"xAxis":"yAxis"][0]).horiz,a=d[i?"chartX":"chartY"],n=p[i=i?"mouseDownX":"mouseDownY"],r=(t.pointRange||0)/2,o=t.reversed&&!p.inverted||!t.reversed&&p.inverted?-1:1,s=t.getExtremes(),l=t.toValue(n-a,!0)+r*o;n=(e=(o=t.toValue(n+t.len-a,!0)-r*o)<l)?o:l,l=e?l:o,0<(e=(o=Math.min(s.dataMin,r?s.min:t.toValue(t.toPixels(s.min)-t.minPixelPadding)))-n)&&(l+=e,n=o),0<(e=l-(r=Math.max(s.dataMax,r?s.max:t.toValue(t.toPixels(s.max)+t.minPixelPadding))))&&(l=r,n-=e),t.series.length&&n!==s.min&&l!==s.max&&(t.setExtremes(n,l,!1,!1,{trigger:"pan"}),c=!0),p[i]=a}),c&&p.redraw(!1),jr(p.container,{cursor:"move"})}}),Vr(eo.prototype,{select:function(t,e){var i=this,a=i.series,n=a.chart;t=to(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,a.options.data[$r(i,a.data)]=i.options,i.setState(t&&"select"),e||qr(n.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,a.options.data[$r(t,a.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series.chart,i=e.pointer;t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e.inverted),i.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),qr(t.hoverPoints||[],function(t){t.setState()}),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var i=this,t=Jr(i.series.options.point,i.options).events;i.events=t,Fr.objectEach(t,function(t,e){Wr(i,e,t)}),this.hasImportedEvents=!0}},setState:function(t,e){var i,a=Math.floor(this.plotX),n=this.plotY,r=this.series,o=r.options.states[t||"normal"]||{},s=_r[r.type].marker&&r.options.marker,l=s&&!1===s.enabled,d=s&&s.states&&s.states[t||"normal"]||{},c=!1===d.enabled,p=r.stateMarkerGraphic,h=this.marker||{},u=r.chart,m=r.halo,f=s&&r.markerAttribs;(t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===o.enabled||t&&(c||l&&!1===d.enabled)||t&&h.states&&h.states[t]&&!1===h.states[t].enabled||(f&&(i=r.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),this.graphic.animate(r.pointAttribs(this,t),to(u.options.chart.animation,o.animation)),i&&this.graphic.animate(i,to(u.options.chart.animation,d.animation,s.animation)),p&&p.hide()):(t&&d&&(s=h.symbol||r.symbol,p&&p.currentSymbol!==s&&(p=p.destroy()),p?p[e?"animate":"attr"]({x:i.x,y:i.y}):s&&(r.stateMarkerGraphic=p=u.renderer.symbol(s,i.x,i.y,i.width,i.height).add(r.markerGroup),p.currentSymbol=s),p&&p.attr(r.pointAttribs(this,t))),p&&(p[t&&u.isInsidePlot(a,n,u.inverted)?"show":"hide"](),p.element.point=this)),(a=o.halo)&&a.size?(m||(r.halo=m=u.renderer.path().add((this.graphic||p).parentGroup)),m.show()[e?"animate":"attr"]({d:this.haloPath(a.size)}),m.attr({class:"highcharts-halo highcharts-color-"+to(this.colorIndex,r.colorIndex)+(this.className?" "+this.className:""),zIndex:-1}),m.point=this,m.attr(Vr({fill:this.color||r.color,"fill-opacity":a.opacity},a.attributes))):m&&m.point&&m.point.haloPath&&m.animate({d:m.point.haloPath(0)},null,m.hide),this.state=t,Ur(this,"afterSetState"))},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),Vr(io.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&Ur(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,a=e.hoverPoint;e.hoverSeries=null,a&&a.onMouseOut(),this&&t.events.mouseOut&&Ur(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),this.setState()},setState:function(e){var i=this,t=i.options,a=i.graph,n=t.states,r=t.lineWidth;if(t=0,e=e||"",i.state!==e&&(qr([i.group,i.markerGroup,i.dataLabelsGroup],function(t){t&&(i.state&&t.removeClass("highcharts-series-"+i.state),e&&t.addClass("highcharts-series-"+e))}),!n[i.state=e]||!1!==n[e].enabled)&&(e&&(r=n[e].lineWidth||r+(n[e].lineWidthPlus||0)),a&&!a.dashstyle))for(r={"stroke-width":r},a.animate(r,to(n[e||"normal"]&&n[e||"normal"].animation,i.chart.options.chart.animation));i["zone-graph-"+t];)i["zone-graph-"+t].attr(r),t+=1},setVisible:function(e,t){var i,a=this,n=a.chart,r=a.legendItem,o=n.options.chart.ignoreHiddenSeries,s=a.visible;i=(a.visible=e=a.options.visible=a.userOptions.visible=void 0===e?!s:e)?"show":"hide",qr(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){a[t]&&a[t][i]()}),n.hoverSeries!==a&&(n.hoverPoint&&n.hoverPoint.series)!==a||a.onMouseOut(),r&&n.legend.colorizeItem(a,e),a.isDirty=!0,a.options.stacking&&qr(n.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),qr(a.linkedSeries,function(t){t.setVisible(e,!1)}),o&&(n.isDirtyBox=!0),Ur(a,i),!1!==t&&n.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),Ur(this,t?"select":"unselect")},drawTracker:Rr.drawTrackerGraph}),oo=(ro=It).Chart,so=ro.each,lo=ro.inArray,co=ro.isArray,po=ro.isObject,ho=ro.pick,uo=ro.splat,oo.prototype.setResponsive=function(e){var t=this.options.responsive,i=[],a=this.currentResponsive;t&&t.rules&&so(t.rules,function(t){void 0===t._id&&(t._id=ro.uniqueKey()),this.matchResponsiveRule(t,i,e)},this);var n=ro.merge.apply(0,ro.map(i,function(e){return ro.find(t.rules,function(t){return t._id===e}).chartOptions}));(i=i.toString()||void 0)!==(a&&a.ruleIds)&&(a&&this.update(a.undoOptions,e),i?(this.currentResponsive={ruleIds:i,mergedOptions:n,undoOptions:this.currentOptions(n)},this.update(n,e)):this.currentResponsive=void 0)},oo.prototype.matchResponsiveRule=function(t,e){var i=t.condition;(i.callback||function(){return this.chartWidth<=ho(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=ho(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=ho(i.minWidth,0)&&this.chartHeight>=ho(i.minHeight,0)}).call(this)&&e.push(t._id)},oo.prototype.currentOptions=function(t){var e={};return function i(t,a,n,r){var o;ro.objectEach(t,function(t,e){if(!r&&-1<lo(e,["series","xAxis","yAxis"]))for(t=uo(t),n[e]=[],o=0;o<t.length;o++)a[e][o]&&(n[e][o]={},i(t[o],a[e][o],n[e][o],r+1));else po(t)?(n[e]=co(t)?[]:{},i(t,a[e]||{},n[e],r+1)):n[e]=a[e]||null})}(t,this.options,e,0),e},It}),function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(m){var f,d=m.win,x=d.document,t=m.Chart,y=m.addEvent,w=m.removeEvent,c=m.fireEvent,k=m.createElement,p=m.discardElement,M=m.css,g=m.merge,T=m.each,S=m.extend,h=m.splat,C=Math.max,e=m.isTouchDevice,i=m.Renderer.prototype.symbols,a=m.getOptions();S(a.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),a.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:e?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},a.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},m.post=function(t,e,i){var a;t=k("form",g({method:"post",action:t,enctype:"multipart/form-data"},i),{display:"none"},x.body);for(a in e)k("input",{type:"hidden",name:a,value:e[a]},null,t);t.submit(),p(t)},S(t.prototype,{sanitizeSVG:function(t){return t.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(t){return t.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(t){var o,e,i,a,n,s=this,r=g(s.options,t),l=r.exporting.allowHTML;return x.createElementNS||(x.createElementNS=function(t,e){return x.createElement(e)}),e=k("div",null,{position:"absolute",top:"-9999em",width:s.chartWidth+"px",height:s.chartHeight+"px"},x.body),i=s.renderTo.style.width,n=s.renderTo.style.height,i=r.exporting.sourceWidth||r.chart.width||/px$/.test(i)&&parseInt(i,10)||600,n=r.exporting.sourceHeight||r.chart.height||/px$/.test(n)&&parseInt(n,10)||400,S(r.chart,{animation:!1,renderTo:e,forExport:!0,renderer:"SVGRenderer",width:i,height:n}),r.exporting.enabled=!1,delete r.data,r.series=[],T(s.series,function(t){(a=g(t.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:t.visible})).isInternal||r.series.push(a)}),t&&T(["xAxis","yAxis"],function(i){T(h(t[i]),function(t,e){r[i][e]=g(r[i][e],t)})}),o=new m.Chart(r,s.callback),T(["xAxis","yAxis"],function(r){T(s[r],function(t,e){var i=o[r][e],a=(n=t.getExtremes()).userMin,n=n.userMax;i&&(void 0!==a||void 0!==n)&&i.setExtremes(a,n,!0,!1)})}),i=o.getChartHTML(),r=null,o.destroy(),p(e),l&&(e=i.match(/<\/svg>(.*?$)/))&&(e='<foreignObject x="0" y="0" width="200" height="200"><body xmlns="http://www.w3.org/1999/xhtml">'+e[1]+"</body></foreignObject>",i=i.replace("</svg>",e+"</svg>")),(i=this.sanitizeSVG(i)).replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},getSVGForExport:function(t,e){var i=this.options.exporting;return this.getSVG(g({chart:{borderRadius:0}},i.chartOptions,e,{exporting:{sourceWidth:t&&t.sourceWidth||i.sourceWidth,sourceHeight:t&&t.sourceHeight||i.sourceHeight}}))},exportChart:function(t,e){var i=this.getSVGForExport(t,e);t=g(this.options.exporting,t);m.post(t.url,{filename:t.filename||"chart",type:t.type,width:t.width||0,scale:t.scale,svg:i},t.formAttributes)},print:function(){var t,e,i=this,a=i.container,n=[],r=a.parentNode,o=x.body,s=o.childNodes,l=i.options.exporting.printMaxWidth;i.isPrinting||(i.isPrinting=!0,i.pointer.reset(null,0),c(i,"beforePrint"),(e=l&&i.chartWidth>l)&&(t=[i.options.chart.width,void 0,!1],i.setSize(l,void 0,!1)),T(s,function(t,e){1===t.nodeType&&(n[e]=t.style.display,t.style.display="none")}),o.appendChild(a),d.focus(),d.print(),setTimeout(function(){r.appendChild(a),T(s,function(t,e){1===t.nodeType&&(t.style.display=n[e])}),i.isPrinting=!1,e&&i.setSize.apply(i,t),c(i,"afterPrint")},1e3))},contextMenu:function(e,t,i,a,n,r,o){var s,l,d,c=this,p=c.options.navigation,h=p.menuItemStyle,u=c.chartWidth,m=c.chartHeight,f="cache-"+e,g=c[f],v=C(n,r),b=function(t){c.pointer.inClass(t.target,e)||l()};g||(c[f]=g=k("div",{className:e},{position:"absolute",zIndex:1e3,padding:v+"px"},c.container),s=k("div",null,S({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},p.menuStyle),g),l=function(){M(g,{display:"none"}),o&&o.setState(0),c.openMenu=!1},y(g,"mouseleave",function(){d=setTimeout(l,500)}),y(g,"mouseenter",function(){clearTimeout(d)}),y(x,"mouseup",b),y(c,"destroy",function(){w(x,"mouseup",b)}),T(t,function(e){if(e){var t=e.separator?k("hr",null,null,s):k("div",{onmouseover:function(){M(this,p.menuItemHoverStyle)},onmouseout:function(){M(this,h)},onclick:function(t){t&&t.stopPropagation(),l(),e.onclick&&e.onclick.apply(c,arguments)},innerHTML:e.text||c.options.lang[e.textKey]},S({cursor:"pointer"},h),s);c.exportDivElements.push(t)}}),c.exportDivElements.push(s,g),c.exportMenuWidth=g.offsetWidth,c.exportMenuHeight=g.offsetHeight),t={display:"block"},i+c.exportMenuWidth>u?t.right=u-i-n-v+"px":t.left=i-v+"px",a+r+c.exportMenuHeight>m&&"top"!==o.alignOptions.verticalAlign?t.bottom=m-a-v+"px":t.top=a+r-v+"px",M(g,t),c.openMenu=!0},addButton:function(t){var e,i,a=this,n=a.renderer,r=g(a.options.navigation.buttonOptions,t),o=r.onclick,s=r.menuItems,l={stroke:r.symbolStroke,fill:r.symbolFill},d=r.symbolSize||12;if(a.btnCount||(a.btnCount=0),a.exportDivElements||(a.exportDivElements=[],a.exportSVGElements=[]),!1!==r.enabled){var c,p=r.theme,h=(u=p.states)&&u.hover,u=u&&u.select;delete p.states,o?c=function(t){t.stopPropagation(),o.call(a,t)}:s&&(c=function(){a.contextMenu(i.menuClassName,s,i.translateX,i.translateY,i.width,i.height,i),i.setState(2)}),r.text&&r.symbol?p.paddingLeft=m.pick(p.paddingLeft,25):r.text||S(p,{width:r.width,height:r.height,padding:0}),(i=n.button(r.text,0,0,c,p,h,u).attr({title:a.options.lang[r._titleKey],"stroke-linecap":"round",zIndex:3})).menuClassName=t.menuClassName||"highcharts-menu-"+a.btnCount++,r.symbol&&(e=n.symbol(r.symbol,r.symbolX-d/2,r.symbolY-d/2,d,d).attr(S(l,{"stroke-width":r.symbolStrokeWidth||1,zIndex:1})).add(i)),i.add().align(S(r,{width:i.width,x:m.pick(r.x,f)}),!0,"spacingBox"),f+=(i.width+r.buttonSpacing)*("right"===r.align?-1:1),a.exportSVGElements.push(i,e)}},destroyExport:function(t){var e,i;t=t.target;for(e=0;e<t.exportSVGElements.length;e++)(i=t.exportSVGElements[e])&&(i.onclick=i.ontouchstart=null,t.exportSVGElements[e]=i.destroy());for(e=0;e<t.exportDivElements.length;e++)i=t.exportDivElements[e],w(i,"mouseleave"),t.exportDivElements[e]=i.onmouseout=i.onmouseover=i.ontouchstart=i.onclick=null,p(i)}}),i.menu=function(t,e,i,a){return["M",t,e+2.5,"L",t+i,e+2.5,"M",t,e+a/2+.5,"L",t+i,e+a/2+.5,"M",t,e+a-1.5,"L",t+i,e+a-1.5]},t.prototype.callbacks.push(function(t){var e,i=t.options.exporting,a=i.buttons;if(f=0,!1!==i.enabled){for(e in a)t.addButton(a[e]);y(t,"destroy",t.destroyExport)}})}),function(Q,J,t){function f(t){return void 0!==t}function tt(t){return"object"==typeof t}function a(t){return Object.keys(t).length}function et(t,e,i){return t<e?e:i<t?i:t}function e(t,e){return parseInt(t,e||10)}function h(t){return Math.round(t)}function it(t){var e,i,a,n,r,o,s,l,d=+t[0],c=+t[1],p=+t[2];switch(o=p*(1-c),s=(s=p*(1-(r=6*d-(n=Math.floor(6*d)))*c))||0,l=(l=p*(1-(1-r)*c))||0,(n=n||0)%6){case 0:e=p,i=l,a=o;break;case 1:e=s,i=p,a=o;break;case 2:e=o,i=p,a=l;break;case 3:e=o,i=s,a=p;break;case 4:e=l,i=o,a=p;break;case 5:e=p,i=o,a=s}return[h(255*e),h(255*i),h(255*a)]}function at(t){return i(it(t))}function n(t){var e,i=+t[0],a=+t[1],n=+t[2],r=Math.max(i,a,n),o=Math.min(i,a,n),s=r-o,l=0===r?0:s/r,d=r/255;switch(r){case o:e=0;break;case i:e=a-n+s*(a<n?6:0),e/=6*s;break;case a:e=n-i+2*s,e/=6*s;break;case n:e=i-a+4*s,e/=6*s}return[e,l,d]}function i(t){var e=+t[2]|+t[1]<<8|+t[0]<<16;return(e="000000"+e.toString(16)).slice(-6)}function r(t){return n(o(t))}function o(t){return 3===t.length&&(t=t.replace(/./g,"$&$&")),[e(t[0]+t[1],16),e(t[2]+t[3],16),e(t[4]+t[5],16)]}function s(t){return[+t[0]/360,+t[1]/100,+t[2]/100]}function l(t){return[h(360*+t[0]),h(100*+t[1]),h(100*+t[2])]}function d(t){if(tt(t))return t;var e=/\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i.exec(t),i=/\s*hsv\s*\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)\s*$/i.exec(t);return"#"===t[0]&&t.match(/^#([\da-f]{3}|[\da-f]{6})$/i)?r(t.slice(1)):i?s([+i[1],+i[2],+i[3]]):e?n([+e[1],+e[2],+e[3]]):[0,1,1]}var c,nt="__instance__",rt="firstChild",ot=setTimeout;(c=Q.CP=function(g,v,b){function x(t,e,i){for(var a=0,n=(t=t.split(/\s+/)).length;a<n;++a)e.addEventListener(t[a],i,!1)}function y(t,e,i){for(var a=0,n=(t=t.split(/\s+/)).length;a<n;++a)e.removeEventListener(t[a],i)}function w(t,e){var i="touches",a=e[i]?e[i][0].clientX:e.clientX,n=e[i]?e[i][0].clientY:e.clientY,r=p(t);return{x:a-r.l,y:n-r.t}}function p(t){var e,i,a;return i=t===Q?(e=Q.pageXOffset||h.scrollLeft,Q.pageYOffset||h.scrollTop):(e=(a=t.getBoundingClientRect()).left,a.top),{l:e,t:i}}function k(t,e){for(;(t=t.parentElement)&&t!==e;);return t}function M(t){t&&t.preventDefault()}function T(t){return t===Q?{w:Q.innerWidth,h:Q.innerHeight}:{w:t.offsetWidth,h:t.offsetHeight}}function S(t){return i||!!f(t)&&t}function C(t){i=t}function A(t,e,i){if(!f(n[t]))return I;if(f(i))f(n[t][i])&&n[t][i].apply(I,e);else for(var a in n[t])n[t][a].apply(I,e);return I}function L(t,e){t&&"h"!==t||A("change:h",e),t&&"sv"!==t||A("change:sv",e),A("change",e)}function E(){return N.parentNode}function z(t,e){function i(t){var e=t.target,i=e===g||k(e,g)===g;i?z():I.exit(),A(i?"enter":"exit",[I])}function s(t){var e=(it(W),it([W[0],1,1]));G.style.backgroundColor="rgb("+e.join(",")+")",C(W),M(t)}function a(t){var e,i,a,n,r,o;V&&(o=et(w(X,r=t).y,0,c),W[0]=(c-o)/c,j.style.top=o-u/2+"px",s(r),Z=at(W),_||(A("drag:h",[Z,I]),A("drag",[Z,I]),L("h",[Z,I]))),U&&(i=w(G,e=t),a=et(i.x,0,p),n=et(i.y,0,h),W[1]=1-(p-a)/p,W[2]=(h-n)/h,Y.style.right=p-a-m/2+"px",Y.style.top=n-f/2+"px",s(e),Z=at(W),q||(A("drag:sv",[Z,I]),A("drag",[Z,I]),L("sv",[Z,I]))),q=_=0}function n(t){var e=t.target,i=V?"h":"sv",a=[at(W),I],n=e===g||k(e,g)===g,r=e===N||k(e,N)===N;n||r?r&&(A("stop:"+i,a),A("stop",a),L(i,a)):E()&&!1!==v&&(I.exit(),A("exit",[I]),L(0,a)),U=V=0}function r(t){V=_=1,a(t),M(t),A("start:h",[Z,I]),A("start",[Z,I]),L("h",[Z,I])}function o(t){U=q=1,a(t),M(t),A("start:sv",[Z,I]),A("start",[Z,I]),L("sv",[Z,I])}t||((b||e||O).appendChild(N),I.visible=!0),K=T(N).w,$=T(N).h;var l=T(G),d=T(Y),c=T(X).h,p=l.w,h=l.h,u=T(j).h,m=d.w,f=d.h;t?(N.style.left=N.style.top="-9999px",!1!==v&&x(v,g,i),I.create=function(){return z(1),A("create",[I]),I},I.destroy=function(){return!1!==v&&y(v,g,i),I.exit(),C(!1),A("destroy",[I]),I}):P(),R=function(){W=S(W),s(),j.style.top=c-u/2-c*+W[0]+"px",Y.style.right=p-m/2-p*+W[1]+"px",Y.style.top=h-f/2-h*+W[2]+"px"},I.exit=function(){return E()&&(E().removeChild(N),I.visible=!1),y(D,X,r),y(D,G,o),y(B,J,a),y(H,J,n),y(F,Q,P),I},R(),t||(x(D,X,r),x(D,G,o),x(B,J,a),x(H,J,n),x(F,Q,P))}function P(){return I.fit()}var O=J.body,h=J.documentElement,I=this,e=Q.CP,i=!1,n={},N=J.createElement("div"),D="touchstart mousedown",B="touchmove mousemove",H="touchend mouseup",F="orientationchange resize";if(!(I instanceof e))return new e(g,v);e[nt][g.id||g.name||a(e[nt])]=I,f(v)&&!0!==v||(v=D),C(e.parse(g.getAttribute("data-color")||g.value||[0,1,1])),N.className="color-picker",N.innerHTML='<div class="color-picker-control"><span class="color-picker-h"><i></i></span><span class="color-picker-sv"><i></i></span></div>';var R,t=N[rt].children,W=S([0,1,1]),X=t[0],G=t[1],j=X[rt],Y=G[rt],_=0,q=0,V=0,U=0,u=0,m=0,K=0,$=0,Z=at(W);return z(1),ot(function(){var t=[at(W),I];A("create",t),L(0,t)},0),I.fit=function(t){var e=T(Q),i=T(h),a=e.w-i.w,n=e.h-h.clientHeight,r=p(Q),o=p(g);if(u=o.l+r.l,m=o.t+r.t+T(g).h,tt(t))f(t[0])&&(u=t[0]),f(t[1])&&(m=t[1]);else{var s=r.l,l=r.t,d=r.l+e.w-K-a,c=r.t+e.h-$-n;u=et(u,s,d)>>0,m=et(m,l,c)>>0}return N.style.left=u+"px",N.style.top=m+"px",A("fit",[I]),I},I.set=function(t){return f(t)?("string"==typeof t&&(t=e.parse(t)),C(t),R(),I):S()},I.get=function(t){return S(t)},I.target=g,I.picker=N,I.visible=!1,I.on=function(t,e,i){return f(t)?f(e)?(f(n[t])||(n[t]={}),f(i)||(i=a(n[t])),n[t][i]=e,I):n[t]:n},I.off=function(t,e){return f(t)?f(e)?delete n[t][e]:n[t]={}:n={},I},I.fire=A,I.hooks=n,I.enter=function(t){return z(0,t)},I}).version="1.3.9",c[nt]={},c.each=function(i,t){return ot(function(){var t,e=c[nt];for(t in e)i(e[t],t,e)},0===t?0:t||1),c},c.parse=d,c._HSV2RGB=it,c._HSV2HEX=at,c._RGB2HSV=n,c._HEX2HSV=r,c._HEX2RGB=function(t){return[+(e=o(t))[0]/255,+e[1]/255,+e[2]/255];var e},c.HSV2RGB=function(t){return it(s(t))},c.HSV2HEX=function(t){return at(s(t))},c.RGB2HSV=function(t){return l(n(t))},c.RGB2HEX=i,c.HEX2HSV=function(t){return l(r(t))},c.HEX2RGB=o}(window,document),mw=window.mw||{},mw.support={xhrf:null,ajax:function(o){function encode(t,e,i){e=e||[];var a=/%20/g;for(var n in t)if(t.hasOwnProperty(n)){var r=encodeURIComponent(n).replace(a,"+");if(i&&(r=i+"["+r+"]"),t[n]instanceof Array)for(var o=0;o<t[n].length;o++)e.push(r+"[]="+encodeURIComponent(t[n][o]));else"object"==typeof t[n]?e=encode(t[n],e,r):void 0!==t[n]&&e.push(r+"="+encodeURIComponent(t[n].toString()).replace(a,"+"))}return i?e:e.join("&")}function xhrObject(){if(null!=mw.support.xhrf)return mw.support.xhrf();for(var t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")}],e=0,i=t.length;e<i;e++)try{var a=t[e],n=a();if(null!=n)return _xhrf=a,n}catch(t){continue}return function(){}}function xhrResponse(xhr){var ct=xhr.getResponseHeader("Content-Type");if(null!=ct)switch(xhr.getResponseHeader("Content-Type").split(";")[0]){case"text/xml":return xhr.responseXML;case"text/json":case"application/json":case"text/javascript":case"application/javascript":case"application/x-javascript":return window.JSON?JSON.parse(xhr.responseText):eval(xhr.responseText);default:return xhr.responseText}}var xhr=xhrObject(),timer,n=0;o.type=o.type||"GET",o.data=o.data||null,o.async=!o.hasOwnProperty("async")||o.async,o.timeout&&(timer=setTimeout(function(){xhr.abort(),o.timeoutFn&&o.timeoutFn(o.url)},o.timeout)),xhr.onreadystatechange=function(){if(4==xhr.readyState){timer&&clearTimeout(timer);var t=xhrResponse(xhr);xhr.status<300&&o.success?o.success(t,xhr):o.error?o.error(t,xhr):o.complete&&o.complete(t,xhr)}else o.progress&&o.progress(++n)};var url=o.url,data=null,isPost="POST"==o.type||"PUT"==o.type;if(!isPost&&o.data){var ed=encode(o.data);""!=ed&&(url+=(-1==url.indexOf("?")?"?":"&")+ed)}if(xhr.url=url,xhr.open(o.type,url,o.async),isPost)if(o.data instanceof FormData)data=o.data;else{var isJson=o.dataType&&0<=o.dataType.indexOf("json");data=isJson?JSON.stringify(o.data):encode(o.data),xhr.setRequestHeader("Content-Type",isJson?"application/json":"application/x-www-form-urlencoded")}try{xhr.send(data)}catch(t){o.error&&o.error(t,xhr)}return o.async?xhr:xhrResponse(xhr)},extend:function(t,e){if(null==t||"object"!=typeof t)return t;if(t.constructor!=Object&&t.constructor!=Array)return t;if(t.constructor==Array&&e)return t.slice();if(t.constructor==Date||t.constructor==RegExp||t.constructor==Function||t.constructor==String||t.constructor==Number||t.constructor==Boolean)return new t.constructor(t);for(var i in e=e||new t.constructor,t)e[i]=mw.support.extend(t[i],e[i]);return e},format:function(){var u=/(\d+)(\d{3})/,m=arguments,f=1==m.length?0:1,t=1==m.length?"%."+mw.support.PRECISION+"f":m[0];return String(t).replace(/%([+-])?('.|0|\x20)?([+-])?(\d+)?(\.(\d+))?(%|b|c|d|e|E|u|f|F|o|s|x|X|w|W)/g,function(t,e,i,a,n,r,o,s){if("%"==s)return"%";var l=m[f++];if(void 0===l)return"";var d="";switch(s){case"b":l=parseInt(l).toString(2);break;case"c":l=String.fromCharCode(parseInt(l));break;case"d":l=parseInt(l)?parseInt(l):0;break;case"e":case"E":l=parseFloat(l).toExponential(o||7),"E"==s&&(l=l.toUpperCase());break;case"u":l=parseInt(l)?Math.abs(parseInt(l)):0;break;case"w":case"W":for(var c=mw.support.WORDIFY.length;0<=c;c--)if(mw.support.WORDIFY[c]&&""!=mw.support.WORDIFY[c]){var p=Math.pow(10,3*(c+1));if(Math.abs(l)>=p){l/=p,d=(d=mw.support.WORDIFY[c].split("|"))[l<2||1==d.length?0:1];break}}case"f":case"F":if(o){var h=Math.pow(10,o);l=Math.round(+l*h)/h}l=String(+l),i&&o&&(h=-1==(h=l.indexOf("."))?0:l.length-h-1)<o&&(l+=(0==h?".":"")+Array(o-h+1).join("0")),"w"!=s&&"f"!=s||(l=l.replace(".",mw.support.DECSEP).replace(/^\d+/,function(t){for(;u.test(t);)t=t.replace(u,"$1"+mw.support.THOUSSEP+"$2");return t}));break;case"o":l=parseInt(l).toString(8);break;case"x":case"X":l=parseInt(l).toString(16),"X"==s&&(l=l.toUpperCase())}if(l=String(l),"+"==e&&0<l&&("c"==s||"s"==s)&&(l="+"+l),l.length<n){void 0===a&&e&&(a=e),void 0===i?i=" ":"'"==i[0]&&(i=i.substr(1));h=Array(parseInt(n)+1-l.length).join(i);"-"===a?l+=h:l=l<0&&"0"==i?"-"+h+Math.abs(l):h+l}return l+d})},prettify:function(t,e,i){if(i<=1&&(i=2),t<0&&e<=0){var a=mw.support.prettify(-e,-t,i);return[-a[1],-a[0],a[2]]}if(t<0){var n=mw.support.prettify(0,-t,Math.ceil(i*t/(t-e))),r=mw.support.prettify(0,e,Math.ceil(i*e/(e-t))),o=Math.max(n[2],r[2]);return[Math.floor(t/o)*o,Math.ceil(e/o)*o,o]}var s=e<=1;s&&(t*=100,e*=100);var l=[2,2.5,2],d=0,c=1;do{var p=Math.floor(t/c)*c,h=Math.ceil(e/c)*c,u=(h-p)/c;c*=l[d++%3]}while(i<u);return s&&(p/=100,h/=100),[p,h,(h-p)/u]},prettify_log:function(t,e,i){for(var a,n,r,o=[[1,2,5],[1,3],[1]],s=0;s<o.length;s++){var l=o[s];t:for(var d=0;;d++)for(var c=0;c<l.length;c++)if((a=Math.round(Math.exp(d*Math.LN10+Math.log(l[c]))))<=t)n=[a];else if(n?n.push(a):n=[a],e<=a)break t;if(n.length<=i)return n}if(n.length<=2*i)a=n[0],r=100;else{for(a=1;1e3<=t;a*=1e3,t/=1e3);r=1e3}for(n=[a];a*=r,n.push(a),a<e;);return n},filterOutliers:function(t){var e=t.concat();e.sort(function(t,e){return t-e});var i=e[Math.floor(e.length/4)],a=e[Math.ceil(.75*e.length)],n=a-i,r=a+1.5*n,o=i-1.5*n;return e.filter(function(t){return t<r&&o<t})},hasPointerEvents:function(){var t,e=document.createElement("x"),i=document.documentElement,a=window.getComputedStyle;return"pointerEvents"in e.style&&(e.style.pointerEvents="auto",e.style.pointerEvents="x",i.appendChild(e),t=a&&"auto"===a(e,"").pointerEvents,i.removeChild(e),!!t)},offset:function(t){if(t.getBoundingClientRect)return t.getBoundingClientRect();var e=curtop=0;if(t.offsetParent)for(;-1==t.className.indexOf("map-tooltip")&&(e+=t.offsetLeft,curtop+=t.offsetTop),t=t.offsetParent;);return{left:e,top:curtop}},mousepos:function(t){var e=0,i=0,a=t.target||t.srcElement,n=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,r=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;if(t.touches){for(var o=t.touches.length?t.touches:t.changedTouches,s=o.length,l=0;l<s;l++)e+=o[l].pageX-n,i+=o[l].pageY-r;e/=s,i/=s}else t.pageX||t.pageY?(e=t.pageX,i=t.pageY,a.getBoundingClientRect&&(e-=n,i-=r)):(t.clientX||t.clientY)&&(e=t.clientX+n,i=t.clientY+r);var d=mw.support.offset(a);return{x:e-d.left,y:i-d.top}},legendHTML:function(t){var e="";if(t){t.legend_header&&(e+='<div class="map-legend-header">'+t.legend_header+"</div>");var i=t.legendlabel||t.legend||t;for(var a in i){var n=t.legendlabel?i[a]:i[a].label,r=i[a].color||i[a].cssColour||(t.legendcolor?t.legendcolor[a]:null);n&&""!=n&&(e+='<div class="map-legend-item"><div title="'+n.replace('"',"'")+'" class="map-legend-swatch"',e+=' style="background-color: '+(r||"#000")+'"></div>',e+=n,e+="</div>")}}return e},legendColor:function(t,e){for(var i,a=0,n=t.length;a<n;a++){var r=t[a],o=+r.min||+r.from||0,s=+r.max||+r.to||0;if(0===o&&0===s&&(i=r.color||r.cssColour),null!=e&&o<=e&&e<s)return r.color||r.cssColour}return i},css2rgb:function(t){var e,i,a,n,r=1;return(e=t.match(/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([01]?\.\d+)\s*\)/i))?(i=e[1],a=e[2],n=e[3],r=e[4]):(e=t.match(/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i))?(i=e[1],a=e[2],n=e[3]):(e=t.match(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i))?(i=parseInt(e[1],16),a=parseInt(e[2],16),n=parseInt(e[3],16)):(e=t.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])/i))&&(i=parseInt(e[1]+e[1],16),a=parseInt(e[2]+e[2],16),n=parseInt(e[3]+e[3],16)),[i,a,n,r]},rgb2css:function(t){return 1==t[3]||null==t[3]?"rgb("+t[0]+","+t[1]+","+t[2]+")":"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},hsl2rgb:function(t){var e,i,a,n=t[0],r=t[1],o=t[2],s=t[3];if(0==r)e=i=a=o;else{function l(t,e,i){return i<0&&(i+=1),1<i&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}var d=o<.5?o*(1+r):o+r-o*r,c=2*o-d;e=l(c,d,n+1/3),i=l(c,d,n),a=l(c,d,n-1/3)}return[Math.round(255*e),Math.round(255*i),Math.round(255*a),s]},rgb2hsl:function(t){var e,i,a=t[0]/255,n=t[1]/255,r=t[2]/255,o=t[3],s=Math.max(a,n,r),l=Math.min(a,n,r),d=(s+l)/2;if(s==l)e=i=0;else{var c=s-l;switch(i=.5<d?c/(2-s-l):c/(s+l),s){case a:e=(n-r)/c+(n<r?6:0);break;case n:e=(r-a)/c+2;break;case r:e=(a-n)/c+4}e/=6}return[e,i,d,o]},addAlpha:function(t,e){return e=e||"0.6","rgba("+parseInt(t.substr(1,2),16)+","+parseInt(t.substr(3,2),16)+","+parseInt(t.substr(5,2),16)+","+e+")"},stripAlpha:function(t){if("rgba("!=t.substr(0,5))return{color:t,opacity:0};var e=t.substr(5,t.length-1).split(",");return{color:"rgb("+e[0]+","+e[1]+","+e[2]+")",opacity:parseFloat(e[3])}},validateYear:function(t,e){var i=String(t),a=(new Date).getMonth();return 1==e&&4!=i.length?i=i.substr(0,4):4!=e&&"Q"!=e||5==i.length?12!=e&&"M"!=e||6==i.length||(i=i.substr(0,4)+mw.support.format("%02d",a+1)):i=i.substr(0,4)+String(Math.floor(a/3)+1),+i},preventDefault:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1},captureCSS:function(t){for(var e="",i=document.styleSheets,a=0;a<i.length;a++){var n=i[a].rules||i[a].cssRules;if(i[a].media.length){if(!window.matchMedia(i[a].media.mediaText).matches)continue;e+="@media "+i[a].media.mediaText+" {\n"}if(n)for(var r=0;r<n.length;r++)if(t&&n[r].selectorText)for(var o=n[r].selectorText.split(/\s*,\s*/),s=0;s<o.length;s++)t.querySelector(o[s])&&(e+=n[r].cssText+"\n");else e+=n[r].cssText+"\n";i[a].media.length&&(e+="}\n")}return e},sendToServer:function(t,e,i,a){var n,r=20;if(!0!==t){var o={url:e,type:"POST",data:i,async:!1,dataType:i.mimetype||"image/png"};return mw.support.ajax(o)}var s=document.createElement("form");for(var l in s.method="POST",s.action=e,document.body.appendChild(s),i["mw-export-monitor"]=(new Date).getTime(),i)if(i.hasOwnProperty(l)&&void 0!==i[l]){var d=document.createElement("textarea");d.name=l,d.value=i[l]instanceof Object?JSON.stringify(i[l]):i[l],s.appendChild(d)}s.submit(),document.body.removeChild(s),a&&(n=setInterval(function(){document.cookie.split("mw-export-monitor=").pop().split(";").shift()!=i["mw-export-monitor"]&&0!=r||(clearInterval(n),document.cookie="mw-export-monitor=deleted; expires="+new Date(0).toUTCString(),a(0<r)),r--},500))},latest:function(t,e,i){if(!0!==i&&null!=i||(i=10),t){if(t.hasOwnProperty(e)||!i)return{year:e,value:t[e]};var a=Object.keys(t);if(!a.length)return{year:e,value:void 0};null==e&&(e=+a[a.length-1]+1);for(var n=e-1;e-i<=n;n--)if(null!=t[n])return{year:n,value:t[n]};return{year:e,value:void 0}}return{year:e,value:void 0}}},mw.Dispatcher=function(){this.handlers={}},mw.Dispatcher.prototype.register=function(t,e){this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push(e)},mw.Dispatcher.prototype.remove=function(t,e){if(this.handlers[t])for(var i=this.handlers[t].length-1;0<=i;i--)this.handlers[t][i]===e&&this.handlers[t].splice(i,1)},mw.Dispatcher.prototype.dispatch=function(t,e,i){if(this.handlers[e])for(var a=this.handlers[e],n=0,r=a.length;n<r;n++)a[n].call(t,i)},mw.Dispatcher.prototype.destroy=function(){this.handlers={}},window.addEventListener?(mw.support.attachEvent=function(t,e,i){t.addEventListener(e,i,{capture:!1,passive:!1})},mw.support.removeEvent=function(t,e,i){t.removeEventListener(e,i,{capture:!1,passive:!1})}):(mw.support.attachEvent=function(t,e,i){t.attachEvent("on"+e,i)},mw.support.removeEvent=function(t,e,i){t.detachEvent("on"+e,i)}),document.createEvent?mw.support.fireEvent=function(t,e){if(t){var i=document.createEvent("MouseEvents");i.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),t.dispatchEvent(i)}}:mw.support.fireEvent=function(t,e){if(t){var i=document.createEventObject(e);t.fireEvent("on"+event.type,i)}},Array.prototype.filter||(Array.prototype.filter=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var a=[],n=2<=arguments.length?arguments[1]:void 0,r=0;r<i;r++)if(r in e){var o=e[r];t.call(n,o,r,e)&&a.push(o)}return a}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var i=this.length>>>0;for(e=+e||0,Math.abs(e)===1/0&&(e=0),e<0&&(e+=i)<0&&(e=0);e<i;e++)if(this[e]===t)return e;return-1}),window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(t){if(t instanceof Object){var e="";if(t.constructor===Array){for(var i=0;i<t.length;e+=this.stringify(t[i])+",",i++);return"["+e.substr(0,e.length-1)+"]"}if(t.toString!==Object.prototype.toString)return'"'+t.toString().replace(/"/g,"\\$&")+'"';for(var a in t)e+='"'+a.replace(/"/g,"\\$&")+'":'+this.stringify(t[a])+",";return"{"+e.substr(0,e.length-1)+"}"}return"string"==typeof t?'"'+t.replace(/"/g,"\\$&")+'"':String(t)}}),Object.keys||(Object.keys=function(){"use strict";var n=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=o.length;return function(t){if("object"!=typeof t&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");var e,i,a=[];for(e in t)n.call(t,e)&&a.push(e);if(r)for(i=0;i<s;i++)n.call(t,o[i])&&a.push(o[i]);return a}}()),function(){var t=document.createElement("canvas");t.getContext&&t.getContext("2d")&&(CanvasRenderingContext2D.prototype.dashedLineTo=function(t,e,i,a,n){var r=function(t,e){return t<=e},o=function(t,e){return e<=t},s=function(t,e){return Math.min(t,e)},l=function(t,e){return Math.max(t,e)},d={thereYet:o,cap:s},c={thereYet:o,cap:s};0<e-a&&(c.thereYet=r,c.cap=l),0<t-i&&(d.thereYet=r,d.cap=l),this.moveTo(t,e);for(var p=t,h=e,u=0,m=!0;!d.thereYet(p,i)||!c.thereYet(h,a);){var f=Math.atan2(a-e,i-t),g=n[u];p=d.cap(i,p+Math.cos(f)*g),h=c.cap(a,h+Math.sin(f)*g),m?this.lineTo(p,h):this.moveTo(p,h),u=(u+1)%n.length,m=!m}})}(),setTimeout(function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var t=[],e=0;e<4096;e++)t.push(String.fromCharCode(25*Math.random()+97));t=t.join(""),t+=t,t+=t,t+=t,t+=t;var i=(new Date).getTime();!function(t){var e,i="",a=t.length;for(e=0;e<a-2;e+=3)i+=n[t.charCodeAt(e)>>2],i+=n[((3&t.charCodeAt(e))<<4)+(t.charCodeAt(e+1)>>4)],i+=n[((15&t.charCodeAt(e+1))<<2)+(t.charCodeAt(e+2)>>6)],i+=n[63&t.charCodeAt(e+2)];a%3&&(e=a-a%3,i+=n[t.charCodeAt(e)>>2],a%3==2?(i+=n[((3&t.charCodeAt(e))<<4)+(t.chartCodeAt(e+1)>>4)],i+=n[(15&t.charCodeAt(e+1))<<2],i+="="):(i+=n[(3&t.charCodeAt(e))<<4],i+="=="))}(t),mw.performance=(new Date).getTime()-i},1e3),mw.support.PRECISION=2,mw.support.THOUSSEP=",",mw.support.DECSEP=".",mw.support.WORDIFY=[" thousand"," million"," billion"," trillion"],mw=window.mw||{},mw.DataManager=function(t){var E=mw.support.extend(t||{},{language:"EN",sdmx:{ga:["REF_AREA"],ta:["TIME_PERIOD"],ma:["UNIT_MULT"],va:["OBS_VALUE"]},tellmaps:{getgeoitems:{cmd:"getgeoitems"},getdatasets:{cmd:"getdatasets"},getdatavalues:{cmd:"getdatavalues"},getrankdata:{cmd:"getrankdata"},getgeodatavalues:{cmd:"getgeodatavalues"}},preload:!1,cache:!1}),z=this,A=!1,L=new mw.Dispatcher,P={url:null},w={},O={url:null,edition:null,legend:{}},I={},N=!1,S={},D=[];z.meta={},z.groups={indicators:{},geoitems:{}};var C=E.cache&&window.amplify&&window.amplify.store?window.amplify.store:null;function d(t,e,i,a){if(null==t)return a;i&&(t=t[i]);var n=e.numberformat;return n||(n=e.hasOwnProperty("decimalrounding")&&!isNaN(e.decimalrounding)?"%."+parseInt(e.decimalrounding)+"w":mw.support.NUMBERFORMAT||"%."+mw.support.PRECISION+"w"),n?mw.support.format(n,t):t}function B(){for(var t in z.indicators)if(z.indicators[t].datasource&&!z.indicators[t].values){this.load(t),setTimeout(B,E.preload.delay||1e4);break}}function H(t,e){if(e&&"complete"!=document.readyState)setTimeout(function(){H(t,e)},100);else{"string"==typeof t&&"{"==t.substr(0,1)&&(t=JSON.parse(t));var i,a,n=!1;if("string"==typeof t||"object"==typeof t&&t.documentElement){if("string"==typeof t){if(void 0!==window.DOMParser)var r=(new window.DOMParser).parseFromString(t,"text/xml");else if(void 0!==window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")){(r=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",r.loadXML(t)}}else r=t;switch(r.documentElement.localName||r.documentElement.baseName){case"b":!function(t){for(var e=t.getElementsByTagName("s"),i=0,a=e.length;i<a;i++){var n=e[i],r=n.getAttribute("n").toUpperCase(),o=n.getElementsByTagName("r"),s=o[0].getElementsByTagName("c");if("GENERAL"==r)for(var l=R(o[0],E.language),d=1,c=o.length;d<c;d++){var p=o[d],h=p.getElementsByTagName("c");h.length&&(z.meta[F(h[0]).toLowerCase()]=F(h[l]))}else if("MENU"==r||"INDICATORS"==r);else if("COUNTRIES"==r||"COUNTRYINFO"==r){var u="COUNTRIES"==r?"label":"description";z.geoitems||(I.geoitems=!1,z.geoitems={});for(var d=1,c=o.length;d<c;d++){var p=o[d],h=p.getElementsByTagName("c"),m=h.length;if(m){var f=F(h[0]).toUpperCase();z.geoitems[f]||(z.geoitems[f]={code:f});for(var g=1;g<m;g++){var v=F(s[g]),b=F(h[g]);v==E.language?z.geoitems[f][u]=b:2!=v.length&&(z.geoitems[f][v.toLowerCase()]=b)}}}}else if("_DATA"==r.substr(r.length-5,5)){var f=r.substr(0,r.length-5);z.indicators||(I.indicators=!1,z.indicators={}),z.indicators[f]||(z.indicators[f]={});var x=z.indicators[f].values;x||(x=z.indicators[f].values={});var y=R(o[0],E.language);0<y&&(z.indicators[f].geoitems={});for(var d=1,c=o.length;d<c;d++){var p=o[d],h=p.getElementsByTagName("c"),w=F(h[0]);x[w]||(x[w]={});for(var g=1,m=h.length;g<m;g++){var k=parseInt(F(s[g]));isNaN(k)||(x[w][k]=parseFloat(F(h[g])))}0<y&&(z.indicators[f].geoitems[w]||(z.indicators[f].geoitems[w]={}),z.indicators[f].geoitems[w].description=F(h[y]))}}else{var M,T,S,C=!1,y=R(o[0],E.language),A=F(s[0]).toUpperCase();if("INDICATOR"==A){z.indicators||(I.indicators=!1,z.indicators={}),z.indicators[r]||(z.indicators[r]={code:r});for(var d=1,c=o.length;d<c;d++){var p=o[d],h=p.getElementsByTagName("c");if(h.length){var L=F(h[0]).toLowerCase();"legend"==L?(C=!0,y=R(p,E.language),M=R(p,"MIN"),T=R(p,"MAX"),S=R(p,"COLOR"),z.indicators[r].legendlabel=new Array,z.indicators[r].legendcolor=new Array,z.indicators[r].legendminimum=new Array,z.indicators[r].legendmaximum=new Array):C?5<=h.length&&(z.indicators[r].legendlabel.push(F(h[y])),z.indicators[r].legendcolor.push(F(h[S])),z.indicators[r].legendminimum.push(parseFloat(F(h[M]))),z.indicators[r].legendmaximum.push(parseFloat(F(h[T])))):z.indicators[r][L]=F(h[y])}}}}}}(r);break;case"offline":for(var o=r.getElementsByTagName("script"),s=0,l=o.length;s<l;s++)for(var d=o[s].getElementsByTagName("step"),c=0,p=d.length;c<p;c++){var h=d[c].getAttribute("cmd");"indicator"!=h&&"year"!=h&&"speed"!=h||(z.meta["default_"+h]=F(d[c]))}case"app":var u=r.getElementsByTagName("d");for(s=0,l=u.length;s<l;s++)W(u[s]);for(var m in z.geoitems)"string"==typeof z.geoitems[m]&&delete z.geoitems[m];for(var m in z.indicators)"string"==typeof z.indicators[m]&&delete z.indicators[m];break;case"d":n="cube",W(r);break;case"CompactData":case"MessageGroup":!function(t,e){var i=mw.support.extend({},E.sdmx),a={};if(!z.aliases)for(var n in z.aliases={},z.geoitems){var r=z.geoitems[n];if(r.aliases)for(var o=0;o<r.aliases.length;o++)z.aliases[r.aliases[o]]=n;else r.imf&&(z.aliases[r.imf]=n)}for(var s=e.getElementsByTagName("DataSet"),l=0,d=s.length;l<d;l++)for(var c=s[l].getElementsByTagName("Series"),p=0,h=c.length;p<h;p++){var u=c[p],m=u.getElementsByTagName("SeriesKey");if(m.length)for(var f=m[0].getElementsByTagName("Value"),g=0,v=f.length;g<v;g++)a[f[g].getAttribute("concept")]=f[g].getAttribute("value");else{for(var g=0,v=u.attributes.length;g<v;g++)a[u.attributes[g].name]=u.attributes[g].value;var b=u.getElementsByTagName("Obs");if(b.length)for(var g=0,v=b[0].attributes.length;g<v;g++)a[b[0].attributes[g].name]=b[0].attributes[g].name}var i={};for(var g in E.sdmx)for(var x=0;x<E.sdmx[g].length;x++){var y=E.sdmx[g][x];a.hasOwnProperty(y)&&(i[g]=a[y])}z.aliases&&z.aliases[i.ga]&&(i.ga=z.aliases[i.ga]);var w=z.indicators[t].values;w||(w=z.indicators[t].values={}),w[i.ga]||(w[i.ga]={});for(var b=u.getElementsByTagName("Obs"),k=i.ma?Math.pow(10,i.ma):1,M=0,T=b.length;M<T;M++){if(m.length)var S=b[M].getElementsByTagName("Time")[0].textContent,C=b[M].getElementsByTagName("ObsValue")[0].getAttribute("value");else var S=b[M].getAttribute(i.ta),C=b[M].getAttribute(i.va);S=S.replace(/-Q?/,""),w[i.ga][S]=+C*k}}}(e.indicator,r)}}else{for(var f in t)if(t.hasOwnProperty(f)&&t[f]instanceof Function){var g=function(i){return function(t){var e={};e[i]=t,I[i]=!1,H(e)}}(f);t[f](g),delete t[f]}if(t&&t.meta)n="cube";else if(t&&t.edition&&!t.values){for(var v in n="tellmaps",t.edition.tags)t.edition[v]=t.edition.tags[v];if(t.dataPresentations)for(var v in t.dataPresentations)if(t.dataPresentations[v].legend){O.legend=t.dataPresentations[v].legend;break}delete t.edition.tags;var b={};t.labels&&mw.support.extend(t.labels,b),mw.support.extend(t.edition,b),t={meta:b}}else if(t&&(t.datasets||t.values)){var x={};function y(t){var e={},i={},a={};for(var n in t){var r=t[n];for(var o in r){var s=r[o];r[o].geo2?(e[o]||(e[o]={}),e[o][n]||(e[o][n]={}),e[o][n]=r[o].geo2):s.value&&(e[o]||(e[o]={}),e[o][n]||(e[o][n]={}),e[o][n]=s.value),s.scale&&(a[o]||(a[o]={}),a[o][n]||(a[o][n]={}),a[o][n].scale=s.scale,a[o][n].dx=s.dx,a[o][n].dy=s.dy),s.note&&(i[o]||(i[o]={}),i[o][n]||(i[o][n]={}),i[o][n]=s.note)}}return{values:e,notes:i,scale:a}}for(var m in t.datasets){var w=t.datasets[m];w.code?w.values?x[m]=y(w.values):x[m]=w:x[m]={values:w},w.code&&!w.legend&&(x[m].legend=O.legend)}if(t.values)x[m=z.indicators[e.url]?e.url:t.topic+":"+t.index]=y(t.values),z.indicators[m]&&z.indicators[m].legend||(x[m].legend=O.legend);t={indicators:x}}else if(t.indicators&&e)for(var m in t.indicators)if(!z.indicators[m]&&z.indicators[e.url]){(x={})[e.url]=t.indicators[m],t={indicators:x};break}for(var v in t)z[v]||(z[v]={}),I[v]=!1,z[v]=mw.support.extend(t[v],z[v])}if(z.geoitems&&z.indicators){if(!I.geoitems&&!I.indicators){if(!N&&z.geoitems){for(var m in z.geoitems){var k=z.geoitems[m];if(k.region){var M=k.region;"string"==typeof M&&(M=k.region=M.split(","));for(v=0;v<M.length;v++){(t=z.geoitems[M[v]])&&(t.geoitems?t.geoitems.push(m):t.geoitems=[m])}}}N=!0}if(!A){for(var m in A=!0,z.meta.thoussep&&(mw.support.THOUSSEP=z.meta.thoussep),z.meta.decsep&&(mw.support.DECSEP=z.meta.decsep),z.meta.decimalrounding&&(mw.support.PRECISION=parseInt(z.meta.decimalrounding)),(z.meta.thousand||z.meta.million||z.meta.billion||z.meta.trillion)&&(mw.support.WORDIFY=[z.meta.thousand,z.meta.million,z.meta.billion,z.meta.trillion]),z.indicators)z.indicators[m].values&&z.load(m);L.dispatch(this,"ready",z),E.preload&&setTimeout(B,E.preload.delay||1e4);for(var T=0;T<D.length;T++)z.load(D[T].id,D[T].callback)}}}else for(var S in"cube"==n?(z.meta.cubeurl?P.url=z.meta.cubeurl:P&&E.data?(P.url=E.data.replace(/cube\[.*\]=.+(&|$)/,""),P.url=P.url.replace(/json=.+(&|$)/,""),P.url=P.url.replace(/\?$/,"")):P.url=window.location.href,i=P.url,a={geoitems:"geoitem",indicators:"goal"}):"tellmaps"==n&&(O.url=E.data.replace(/cmd=[^&]+(&|$)/,""),O.url=O.url.replace(/\?$/,""),i=O.url,a={geoitems:"getgeoitems",indicators:"getdatasets"}),a)if(!I[S]){if("cube"==n){var C={json:1,cube:{}};z[S]||(C.cube[a[S]]="+")}else if("tellmaps"==n)C=mw.support.extend(E.tellmaps[a[S]],{});I[S]=!0,z[S]={},P&&z.meta.database&&(C.cube.db=z.meta.database),E.language&&(C.lang=E.language),mw.support.ajax({url:i,data:C,success:H})}}}function F(t){return t.textContent||t.innerText||t.text}function R(t,e){for(var i=t.getElementsByTagName("c"),a=0,n=i.length;a<n;a++){if(F(i[a])==e)return a}}function W(t){for(var e=t.getElementsByTagName("i"),i={},a=0,n=e.length;a<n;a++){for(var r=e[a],o=r.getAttribute("geoitem"),s=r.getAttribute("goal"),l=r.getAttribute("group"),d={},c=0,p=r.childNodes.length;c<p;c++){var h=r.childNodes[c];d[h.nodeName]=F(h)}if(o&&s){var u=z.indicators[s],m=z.geoitems[o],f=z.indicators[u].values;if(f||(f=z.indicators[u].values={}),f[m]||(f[m]={}),r.getAttribute("geo2")){var g=z.geoitems[r.getAttribute("geo2")];f[m][r.getAttribute("seq")]||(f[m][r.getAttribute("seq")]={}),f[m][r.getAttribute("seq")][g]=parseFloat(d.value)}else f[m][r.getAttribute("seq")]=parseFloat(d.value);if(d.scale){var v=z.indicators[u].scale;v||(v=z.indicators[u].scale={}),v[m]||(v[m]={}),v[m][r.getAttribute("seq")]={scale:parseFloat(d.scale),dx:parseFloat(d.dx),dy:parseFloat(d.dy)}}}else if(l)if(r.getAttribute("seq")){var b=i[l];d.geoitem?(z.groups.geoitems[b.code]||(z.groups.geoitems[b.code]=b),b.geoitem||(b.geoitem=[]),b.geoitem[r.getAttribute("seq")]=w[d.geoitem]):d.goal&&(z.groups.indicators[b.code]||(z.groups.indicators[b.code]=b),b.goal||(b.goal=[]),b.goal[r.getAttribute("seq")]=w[d.goal])}else d.geoitem?(d.geoitem=[w[d.geoitem]],z.groups.geoitems[d.code]=i[l]=d):d.goal?(d.goal=[w[d.goal]],z.groups.indicators[d.code]=i[l]=d):i[l]=d;else if(o)if(z.geoitems||(I.geoitems=!1,z.geoitems={}),w[o]=d.code,z.geoitems[d.code])for(var x in d)d.hasOwnProperty(x)&&(z.geoitems[d.code][x]=d[x]);else z.geoitems[d.code]=d,z.geoitems[o]=d.code,d.imf&&(z.imf2geo||(z.imf2geo={}),z.imf2geo[d.imf]=d.code);else if(s)if(z.indicators||(I.indicators=!1,z.indicators={}),w[s]=d.code,r.getAttribute("seq")){var y=z.indicators[s];for(var x in d)z.indicators[y][x]||(z.indicators[y][x]=[]),z.indicators[y][x][r.getAttribute("seq")]=d[x]}else if(d.code)d.id=s,z.indicators[d.code]=d,z.indicators[s]=d.code;else{y=z.indicators[s];for(var x in d)z.indicators[y][x]=d[x]}else for(var x in d)z.meta[x]=d[x]}}this.load=function(k,M){if(A){if(z.indicators)if(k){var t,T=z.indicators[k];if(T||(T=z.indicators[k]={}),T.values)n();else if(C&&(t=C("indic-"+k)),t)T.values=t,n();else if(window.navigator.onLine){if(k.match(/https?:\/\//))var e=k,i={};else if(T.datasource instanceof Function)T.datasource(k,function(t){H(t),T.values||(T.values={}),n()});else if(P.url&&null==T.datasource||"cube:"==T.datasource){e=P.url||window.location.href,i={json:1,cube:{geoitem:"+",goal:T.id}};z.meta.database&&(i.cube.db=z.meta.database)}else if(O.url&&null==T.datasource||"tellmaps:"==T.datasource){e=O.url||z.meta.tellmapsurl;var a=k.split(":");if(1==a.length)i=mw.support.extend(E.tellmaps.getdatavalues,{datasets:k});else i=mw.support.extend(E.tellmaps.getrankdata,{topic:a[0],datapresentation:a[1]})}else e=T.datasource,i={};if(e){if(I[k])return S[k]||(S[k]=[]),void S[k].push(M);I[k]=!0,mw.support.ajax({url:e,data:i,success:function(t,e){e.indicator=k,H(t,e),T.values||(T.values={}),I[k]=!1,n()}})}else E.ondata&&E.ondata(k,function(t){H(t),n()})}else alert(this.meta.offline)}else M instanceof Function&&M()}else D.push({id:k,callback:M});function n(){if(C&&C("indic-"+k,T.values),z.meta[k]){var t=z.meta[k].split(",");""!=t[0]&&(T.minvalue=parseFloat(t[0])),1<t.length&&""!=t[1]&&(T.maxvalue=parseFloat(t[1]))}if(!T.statistics||!T.statistics.frequency){T.statistics={};var e=1;for(var i in T.values){for(var a in T.values[i]){6==a.length&&(e=12),5==a.length&&(e=4);break}break}if(!n||!r){var n=null,r=null;for(var i in T.values)for(var a in T.values[i])(a<n||null==n)&&(n=a),(r<a||null==r)&&(r=a)}1==e&&0<T.minyear&&(n=T.minyear),1==e&&0<T.maxyear&&(r=T.maxyear);var o=n,s=r;4==e&&(o=Math.floor(o/10),s=Math.floor(s/10)),12==e&&(o=Math.floor(o/100),s=Math.floor(s/100));for(var l=1/0,d=-1/0,c=o;c<=s;c++)for(var p=1;p<=e;p++){var h=1/0,u=-1/0,m=0,f=0,g=String(c);if(4==e?g+=p:12==e&&(g+=(p<10?"0":"")+p),g<=r)for(var i in T.values)if(T.values[i]&&T.values[i][g]){var v=T.values[i][g];for(var b in v instanceof Object||(f++,m+=v,v={dummy:v}),v){var x=v[b];x<h&&(h=x),u<x&&(u=x)}}h!=1/0&&(T.statistics[g]={min:h,max:u},f&&(T.statistics[g].avg=m/f),h<l&&(l=h),d<u&&(d=u))}T.hasOwnProperty("minvalue")&&(l=+T.minvalue),T.hasOwnProperty("maxvalue")&&(d=+T.maxvalue),T.statistics.frequency=e,T.statistics.range={from:+n,to:+r,min:l,max:d}}if(!T.legend&&T.legendlabel&&(T.legend=z.parseLegend(k)),M instanceof Function&&M(),S[k]){var y=S[k].slice(0);S[k]=[];for(var w=0;w<y.length;w++)y[w]()}}},this.tag=function(t,e,i,a){if(this.indicators[e]){var n=this.indicators[e][t];if(n&&(n=n[i]))return a?n[a]:n}},this.latest=function(t,e,i,a,n,r){this.geoitems[i]||null!=r||(r=n,n=a,a=i,i=void 0),n=n||this.meta.nodata,!0!==r&&null!=r||(r=10);var o=this.indicators[t];if(!o||!o.values)return{year:a,value:n};var s=o.values[e];if(s){var l=mw.support.latest(s,a,r);return{year:l.year,value:d(l.value,o,i,n)}}return{year:a,value:n}},this.value=function(t,e,i,a,n){this.geoitems[i]||n||(n=a,a=i,i=void 0),n=n||this.meta.nodata;var r=this.indicators[t];return r?d(this.tag("values",t,e,a),r,i,n):n},this.values=function(o,a){if(o.hasOwnProperty("geoitem")){var s=z.geoitems[o.geoitem];function l(){if(o.hasOwnProperty("year")){var t={};for(var e in s.values)t[e]=s.values[e]?s.values[e][o.year]:void 0}else t=s.values;a&&a(t)}if(s||(s=z.geoitems[o.geoitem]={}),s.values||(s.values={}),o.hasOwnProperty("indicator")){var d={};if(o.indicator instanceof Object)for(var t in o.indicator)"string"==typeof o.indicator[t]&&(d[o.indicator[t]]=!0);else d[o.indicator]=!0}else d=z.indicators;var i=0,e=0;for(var n in d)i++,z.indicators[n]&&z.indicators[n].values&&z.indicators[n].values.hasOwnProperty(o.geoitem)&&e++;if(i==e){for(var n in d)s.values[n]=z.indicators[n].values[o.geoitem];l()}else{if(O.url){var r=O.url,c=mw.support.extend(E.tellmaps.getgeodatavalues,{geoitem:o.geoitem});o.hasOwnProperty("indicator")&&(c.datasets=o.indicator instanceof Array?o.indicator.join(","):o.indicator)}else{if(E.ondata){var p=0;for(var n in d)E.ondata(n,function(t){if(H(t),++p==i){for(var e in d)s.values[e]=z.indicators[e].values[o.geoitem];l()}});return}r=P.url||window.location.href;if(o.hasOwnProperty("indicator")){var h=[];for(n in d){var u=z.indicators[n];h.push(u.id)}}else h="+";c={json:1,cube:{geoitem:s.id,goal:h}};z.meta.database&&(c.cube.db=z.meta.database)}mw.support.ajax({url:r,data:c,success:function(t,e){if(O.url){var i={};for(var a in t)for(var n in t[a].datasets)i[n]||(i[n]={}),i[n].values||(i[n].values={}),i[n].values[a]=t[a].datasets[n];t={indicators:i}}for(var r in H(t,e),d)s.values[r]=z.indicators[r].values[o.geoitem];l()}})}}else o.hasOwnProperty("indicator")&&this.load(o.indicator,function(t){var e=z.indicators[o.indicator];if(o.hasOwnProperty("year")){t={};for(var i in e.values)t[i]=e.values[i][o.year]}else t=e.values;a&&a(t)})},this.listen=function(t,e){"ready"==t&&A?e.call(this,z):L.register(t,e)},this.unlisten=function(t,e){L.remove(t,e)},this.parseLegend=function(t){var e=this.indicators[t];if(!e)return[];if(e.legend)return e.legend;var i=[];if(e.legendlabel){var a=e.legendmin?"":"imum";for(var n in e.legendlabel){var r={label:e.legendlabel[n],color:e.legendcolor[n]},o=e["legendmin"+a][n],s=e["legendmax"+a][n];o!=s&&(r.min=o,r.max=s),i.push(r)}}return i},"string"==typeof E.data?mw.support.ajax({url:E.data,success:H}):H(E.data)},mw=window.mw||{},mw.StateManager=function(t){var d={},c=new mw.Dispatcher,p=mw.support.extend(t||{},{kickstart:!0});if(this.data=function(){return p.data},this.get=function(t){return d[t]},this.set=function(t,e){if(t instanceof Object)for(var i in t)t.hasOwnProperty(i)&&this.set(i,t[i]);else if("indicator"==t)if(p.data instanceof mw.DataManager){var a=this,n=(d[t]=e)instanceof Array?e[0]:e;if(n){var r=e instanceof Array?e:[e],o=r.length;function s(){o--;var t=d.indicator instanceof Array?d.indicator[0]:d.indicator;if(0==o&&t==n){l();var e=p.data.indicators[n];if(d.year){var i=mw.support.validateYear(d.year,e.statistics.frequency);i<e.statistics.range.from?i=e.statistics.range.from:i>e.statistics.range.to&&(i=e.statistics.range.to),i!=d.year&&a.set("year",i)}else p.kickstart&&(e.startyear?a.set("year",e.startyear):p.data.meta.default_year?a.set("year",p.data.meta.default_year):0<e.statistics.range.to&&a.set("year",e.statistics.range.to))}}for(i=0;i<r.length;i++)p.data.load(r[i],s)}else l()}else l();else l();function l(){d[t]=e,c.dispatch(this,t,e)}},this.listen=function(t,e){c.register(t,e)},this.unlisten=function(t,e){c.remove(t,e)},p.data&&("string"==typeof p.data&&(p.data=new mw.DataManager({data:p.data})),p.data instanceof mw.DataManager)){var e=this;p.data.listen("ready",function(){if(p.kickstart&&!d.indicator)if(p.data.meta.default_indicator)e.set("indicator",p.data.meta.default_indicator);else if(p.data.meta.default_ind)e.set("indicator",p.data.meta.default_ind);else for(id in p.data.indicators){e.set("indicator",id);break}})}},mw=window.mw||{},mw.Slider=function(t,e){var i,w,k,h,a,n,M,T,r,u,S,m,C,A,L,E,z=[],o="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,P=null,s=new mw.Dispatcher,O=mw.support.extend(e||{},{orientation:"horizontal",handle:"<div class='slider-handle'>{VAL}</div>",handles:1,inverted:!1,sticky:!1,range:{minimum:1980,maximum:2010,step:1},trigger:{delay:null},padding:{before:0,after:0},percentages:!1,labels:{multiples:!1,number:!1,every:!1,minor:!0,quarters:["Q1","Q2","Q3","Q4"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}});w="string"==typeof t?document.getElementById(t):t;for(var l="transform WebkitTransform MozTransform OTransform msTransform".split(" "),d=document.createElement("div"),c=0;c<l.length&&null==d.style[l[c]];c++);if(l[c],w.className+=" slider slider-"+O.orientation,w.currentStyle)var p=w.currentStyle.position;else if(window.getComputedStyle)p=document.defaultView.getComputedStyle(w,null).getPropertyValue("position");"static"!=p&&""!=p||(w.style.position="relative"),w.innerHTML=O.handle.replace(/{VAL}/,'<span class="slider-value"></span>');for(var f=0;f<O.handles;f++)f&&w.appendChild(w.firstChild.cloneNode(!0)),z.push(w.childNodes[f]),z[f].style.position="absolute",z[f].style.cursor="pointer",z[f].setAttribute("data-handle","");1<z.length&&((k=document.createElement("div")).className="slider-bar",k.style.position="absolute",k.style.cursor="pointer",w.insertBefore(k,z[1])),w.setAttribute("data-frequency",O.range.step),O.percentages&&(O.padding={before:0,after:0}),(h=document.createElement("div")).className="slider-labels",w.insertBefore(h,w.firstChild),(a=document.createElement("div")).className="slider-button zoom-in",(n=document.createElement("div")).className="slider-button zoom-out",w.insertBefore(a,w.firstChild),w.insertBefore(n,w.firstChild),1==O.handles&&(o&&(mw.support.attachEvent(a,"touchstart",y),mw.support.attachEvent(n,"touchstart",y)),mw.support.attachEvent(a,"mousedown",y),mw.support.attachEvent(n,"mousedown",y)),T=[O.value||1==O.handles?O.range.maximum:O.range.minimum,O.range.maximum];for(f=0;f<O.handles;f++)"M"!=O.range.step&&"Q"!=O.range.step||(T[f]=mw.support.validateYear(T[f],O.range.step)),o&&mw.support.attachEvent(z[f],"touchstart",H),mw.support.attachEvent(z[f],"mousedown",H),k&&(o&&mw.support.attachEvent(k,"touchstart",H),mw.support.attachEvent(k,"mousedown",H));return v(O.range.minimum,O.range.maximum,O.range.step),i={range:function(t,e,i){if(!(t||e||i))return O.range;v(t,e,i)},value:function(){return 1==O.handles?T[0]:T},set:function(t){M||(t instanceof Array||(t=1==O.handles?[t,T[1]]:[T[0],t]),T.join(",")!=t.join(",")&&(T=t.slice(),r=t.slice(),g()))},listen:function(t,e){s.register(t,e)},unlisten:function(t,e){s.remove(t,e)},destroy:function(){for(var t=0;t<O.handles;t++)mw.support.removeEvent(z[t],"touchstart",H),mw.support.removeEvent(z[t],"mousedown",H);1==O.handles&&(mw.support.removeEvent(a,"touchstart",y),mw.support.removeEvent(n,"touchstart",y),mw.support.removeEvent(a,"mousedown",y),mw.support.removeEvent(n,"mousedown",y)),w.parentNode.removeChild(w),s.destroy(),delete w}};function g(){for(var t=0;t<O.handles;t++)T[t]=Math.min(O.range.maximum,Math.max(O.range.minimum,T[t]));1==O.handles&&(a.className=a.className.replace(" slider-button-disabled",""),1==O.handles&&(T[0]==O.range.maximum&&(a.className+=" slider-button-disabled"),n.className=n.className.replace(" slider-button-disabled",""),T[0]==O.range.minimum&&(n.className+=" slider-button-disabled"))),I(),D()}function v(t,e,i){i=void 0===i?1:i,O.range.minimum=parseInt(t),O.range.maximum=parseInt(e),O.range.step=i;for(var a=0;a<O.handles;a++)T[a]=Math.min(e,Math.max(t,T[a]));u="Q"==i?4*(Math.floor(e/10)-Math.floor(t/10))+e%10-t%10:"M"==i?12*(Math.floor(e/100)-Math.floor(t/100))+e%100-t%100:O.range.maximum-O.range.minimum,w.className=w.className.replace(" slider-handle-fixed",""),w.setAttribute("data-frequency",i),w.setAttribute("data-min",O.range.minimum),w.setAttribute("data-max",O.range.maximum),g(),b()}function b(){var n="";function t(t,e,i){n+='<div class="slider-label',e==O.range.minimum?n+=" first":e==O.range.maximum&&(n+=" last"),!i&&O.labels.minor&&(n+=" minor"),n+='" style="position: absolute; left: ';var a=0==u?1:x(e);O.percentages?n+=a/u*m+"%":n+=a*S+O.padding.before+"px",n+='">'+(i?t:"")+"</div>"}if(O.labels.values)for(var e in O.labels.values)t(O.labels.values[e],O.labels.values[e],!0);else if((O.labels.number||O.labels.every)&&O.range.minimum<O.range.maximum){var i=O.range.minimum,a=O.range.maximum,r=step=O.range.step;"Q"==r?(i=Math.floor(i/10),a=Math.floor(a/10),r=4):"M"==r&&(i=Math.floor(i/100),a=Math.floor(a/100),r=12);for(var o=O.labels.number?u/(O.labels.number-1):O.labels.every,s=i;Math.round(s)<=a;s++)for(var l=1;l<=r;l++){var d,c=Math.round(s),p=c;d="M"==step||"Q"==step?(p+=("M"==step&&l<10?"0":"")+l,1==l):0==Math.floor((c-O.range.minimum)%o)||!O.labels.multiple&&c==O.range.maximum,p<=O.range.maximum&&t(c,p,d)}}h.innerHTML=n}function I(){1==O.handles?w.setAttribute("data-value",T[0]):(w.setAttribute("data-value-min",T[0]),w.setAttribute("data-value-max",T[1]));for(var t=0;t<O.handles;t++){var e=z[t].querySelector("span.slider-value");if(e)if(isNaN(T[t]))e.innerHTML="";else if(O.labels.format instanceof Function)e.innerHTML=O.labels.format(T[t]);else if("Q"==O.range.step){var i=Math.floor(T[t]/10),a=cv%10;e.innerHTML=O.labels.quarters[a-1]+" "+i}else if("M"==O.range.step){i=Math.floor(T[t]/100);var n=T[t]%100;e.innerHTML=O.labels.months[n-1]+" "+i}else e.innerHTML=T[t]}}function x(t){if("Q"!=O.range.step&&"M"!=O.range.step)return t-O.range.minimum;var e="Q"==O.range.step?4:12,i="Q"==O.range.step?10:100;return e*(Math.floor(t/i)-Math.floor(O.range.minimum/i))+t%i-O.range.minimum%i}function N(){if(k){var t="horizontal"==O.orientation?"left":"top";k.style[t]=z[0].style[t],M==k?z[1].style[t]="calc("+z[0].style[t]+" + "+k.style.width+")":k.style.width="calc("+z[1].style[t]+" - "+z[0].style[t]+")"}}function D(){var t="horizontal"==O.orientation,e=parseInt(t?w.offsetWidth:w.offsetHeight);if(e){if(!M||O.sticky){for(var i=0;i<O.handles;i++){var a=z[i],n=parseInt(t?a.offsetWidth:a.offsetHeight);if(!n||e<n)return void setTimeout(D,150);var r=t?"left":"top",o=x(T[i]),s=o/u;O.inverted&&(s=1-s,o=O.range.maximum-T[i]);var l=(e-n)/e*100;l!=m&&(m=l,g()),S=e-n-O.padding.after,w.className=w.className.replace(" slider-handle-fixed",""),O.range.minimum==O.range.maximum?(o=s=1,w.className+=" slider-handle-fixed"):S/=u,O.percentages?a.style[r]=s*m+"%":a.style[r]=o*S+O.padding.before+"px"}N(),b()}}else setTimeout(D,150)}function B(){r&&r.join(",")==T.join(",")||(r=T.slice(),s.dispatch(i,"update",1==O.handles?T[0]:T))}function y(t){var e=(t=t||window.event).target||t.srcElement;T[0]+=e==a?1:-1,T[0]=Math.min(Math.max(T[0],O.range.minimum),O.range.maximum),g(),B(),mw.support.preventDefault(t)}function H(t){if(O.range.minimum!=O.range.maximum){t=t||window.event,D();var e=t.target||t.srcElement;if(e==k)M=k;else for(M=e;!M.hasAttribute("data-handle");M=M.parentNode);var i=e==k?z[0]:M,a="horizontal"==O.orientation,n=parseInt(a?w.offsetWidth:w.offsetHeight),r=parseInt(a?i.offsetWidth:i.offsetHeight),o=a?"left":"top",s=a?"X":"Y";if(E=t.touches&&t.touches.length?t.touches[0]["client"+s]:t["page"+s]?t["page"+s]:t["client"+s],C=O.padding.before,2==O.handles&&i==z[1]&&(C=z[0].offsetLeft+r),A=n-r+O.padding.before,2==O.handles&&e==k?A=Math.min(A,n-z[1].offsetLeft+z[0].offsetLeft-r):2==O.handles&&i==z[0]&&(A=Math.min(A,z[1].offsetLeft-r)),O.percentages?(L=parseInt(i.style[o])/100*n,A+=5):L=parseInt(i.style[o]),i.style[o]=L+"px",e==w){var l=mw.support.offset(w);L=-r/2,E=l[a?"left":"top"],F(t),D()}else t.touches&&t.touches.length?(mw.support.attachEvent(document,"touchmove",F),mw.support.attachEvent(document,"touchend",R)):(mw.support.attachEvent(document,"mousemove",F),mw.support.attachEvent(document,"mouseup",R),mw.support.attachEvent(document,"selectstart",mw.support.preventDefault)),M.className+=" slider-handle-active";mw.support.preventDefault(t)}}function F(t){t=t||window.event;var e=M==k?z[0]:M,i="horizontal"==O.orientation,a=parseInt(i?w.offsetWidth:w.offsetHeight),n=parseInt(i?e.offsetWidth:e.offsetHeight),r=i?"left":"top",o=i?"X":"Y",s=L-E;t.touches&&t.touches.length?s+=t.touches[0]["client"+o]:s+=t["page"+o]?t["page"+o]:t["client"+o],s=Math.max(C,Math.min(s,A+1)),e.style[r]=s+"px",O.sticky&&D(),N(),O.inverted&&(s=Math.max(0,a-n-s));var l="Q"==O.range.step?4:12,d="Q"==O.range.step?10:100,c=(s+.5*S-O.padding.before)/S;if("Q"==O.range.step||"M"==O.range.step){var p=String(Math.floor(c%l)+1);12==l&&p<10&&(p="0"+p),c=Math.floor(O.range.minimum/d)+Math.floor(c/l)+p}else c=Math.floor(c+O.range.minimum);if(c=Math.min(c,O.range.maximum),!O.labels.values||O.labels.values[c]){var h=z.indexOf(e);if(c!=T[h]){if(M==k)if("Q"==O.range.step||"M"==O.range.step){var u=Math.floor(T[0]/d),m=Math.floor(T[1]/d),f=Math.floor(T[0]%d),g=Math.floor(T[1]%d),v=Math.floor(c/d),b=Math.floor(c%d);T[1]=v+m-u,g<f&&(T[1]-=1);var x=b+(f<g?g-f:g+l-f);12<x&&(T[1]+=1,x%=l),T[1]=String(T[1])+(12==l&&x<10?"0":"")+x}else T[1]=c+T[1]-T[0];T[h]=c,I(),P&&clearTimeout(P);var y=O.trigger.delay;null===y&&(y=40<mw.performance?500:0),P=setTimeout(B,y)}}mw.support.preventDefault(t)}function R(t){t=t||window.event,M.className=M.className.replace(" slider-handle-active",""),"touchend"==t.type?(mw.support.removeEvent(document,"touchmove",F),mw.support.removeEvent(document,"touchend",R)):(mw.support.removeEvent(document,"mousemove",F),mw.support.removeEvent(document,"mouseup",R),mw.support.removeEvent(document,"selectstart",mw.support.preventDefault)),M=!1,D(),P&&clearTimeout(P),B(),mw.support.preventDefault(t)}},mw=window.mw||{},mw.Map=function(t,e){var F,N,d,i,R,p,s,W,h,x,v,D,X,G,B,j,u,m,f,o,l,c,a,y,g,w,k,Y,b,n,r,M,T,_,S,C,H=!1,A=!0,L="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,E=navigator.userAgent.match(/MSIE 9/),z=!1,q={},V=[],U={},P={},K=[[],[],[],[],[],[]],$=!1,Z=!1,Q=1,J=0,tt=0,et={},it=0,at=0,O=0,I=0,nt=0,rt=0,ot=1,st=1,lt=!1,dt=!0,ct=!1,pt=!1,ht=null,ut=!1,mt=new mw.Dispatcher,ft={mouseout:[],mouseover:[],mousedown:[],mousemove:[],mouseup:[],mousewheel:[],touchstart:[],touchend:[]},gt={},vt={},bt="Ctrl-click to toggle single countries, drag rectangles for multi-select.",xt=mw.support.extend(e||{},{map:{url:"map.xml",offset:{x:0,y:0},scale:null,nodata:"#d5d7da",noregion:"#d5d7da",selected:"#39b852",opacity:1,padding:0,fillgaps:!1,resize:!1,aspect:!0,bounds:"all"},state:{manager:!1,data:!1,indicator:!0,year:!0,geoitem:!0},circles:!0,latest:!1,explode:{siblings:"#d5d7da"},borders:{width:1,color:"#ffffff",patterns:{DISP_UNR:[1,1],DISP_UNL:[.2,.2],DISP_IMR:[1,1],DISP_IML:[.2,.2]}},busy:null,layers:[],zoom:{handle:"<div class='slider-handle'></div>",minimum:1,maximum:5,padding:{x:10,y:10},type:"linear",wheel:!0,touch:!0,pinch:!0},center:null,speed:{play:5,resize:3,zoom:1},events:{hover:"follow",click:!0,touch:"hover click",move:!1},export:{renderer:"https://www.mappingworlds.nl/export/",size:void 0,delay:1,template:void 0,selector:void 0,parameters:{}}});e.borders instanceof Array&&(xt.borders=e.borders),Bt(),N="string"==typeof t?document.getElementById(t):t;var yt=document.createElement("canvas");D=!(!yt.getContext||!yt.getContext("2d")),(yt=document.body.appendChild(document.createElement("div"))).innerHTML='<v:shape id="vml_flag1" adj="1" />';var wt=yt.firstChild;if(wt.style.behavior="url(#default#VML)",u=!wt||"object"==typeof wt.adj,yt.parentNode.removeChild(yt),D||u){for(type in N.className+=" map-loading",(i=document.createElement("div")).style.position="absolute",i.style.top=0,i.style.width="100%",i.style.height="100%",i.style.display="none",N.appendChild(i),(d=document.createElement("div")).style.position="relative",d.style.width="100%",d.style.height="100%",d.className="map-wrapper map-zoom-1",L&&(d.className+=" has-touch",mw.support.attachEvent(window,"touchstart",function t(){d.className+=" has-touched",mw.support.removeEvent(window,"touchstart",t)})),!D&&u&&("center"==xt.events.hover&&(xt.events.hover="follow"),xt.zoom&&(d.style.overflow="hidden")),N.appendChild(d),(R=document.createElement("div")).style.overflow="hidden",R.style.position="relative",R.style.width="100%",R.style.height="100%",R.className="map-container",d.appendChild(R),ft)mw.support.attachEvent(d,type,jt);var kt;xt.events.hover&&(ft.mouseout.push(ge),ft.mousemove.push(ge)),L&&(ft.touchstart.push(function(t){if(!pt&&!ct){if(r){var e=mw.support.mousepos(t);if(Math.abs(kt.x-e.x)<20&&Math.abs(kt.y-e.y)<20)return r=null,void ve(t)}kt=mw.support.mousepos(t),r=setTimeout(function(){r=null},2e3),n=setTimeout(function(){pt||ct||(xt.events.hover&&xt.events.click?"hover"==xt.events.touch.split(" ")[0]?ve(t):ge(t):xt.events.click?ve(t):xt.events.hover&&ge(t),xt.zoom&&!1===xt.zoom.touch&&mw.support.preventDefault(t),n=null)},1e3)}}),ft.touchend.push(function(t){pt||ct||(n&&(xt.events.hover&&xt.events.click?"click"==xt.events.touch.split(" ")[0]?ve(t):ge(t):xt.events.click?ve(t):xt.events.hover&&ge(t)),xt.zoom&&!1===xt.zoom.touch&&mw.support.preventDefault(t),clearTimeout(n),n=null)}));var Mt={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"},Tt=document.createElement("div");for(var St in document.body.insertBefore(Tt,null),Mt)if(null!=Tt.style[St]){Tt.style[St]="translate3d(1px,1px,1px)";var Ct=window.getComputedStyle(Tt).getPropertyValue(Mt[St]);z=void 0!==Ct&&0<Ct.length&&"none"!==Ct;break}document.body.removeChild(Tt),h=St;Mt="userSelect WebkitUserSelect MozUserSelect".split(" ");for(var At=0;At<Mt.length&&null==Tt.style[Mt[At]];At++);if((M=Mt[At])&&(T=document.getElementsByTagName("body")[0].style[M]),y=window.requestAnimationFrame?window.requestAnimationFrame:window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame:window.mozRequestAnimationFrame?window.mozRequestAnimationFrame:window.msRequestAnimationFrame?window.msRequestAnimationFrame:function(t){setTimeout(t,30)},D){x=Jt,v=function(t){for(var e=mw.support.mousepos(t),i=j.getImageData(e.x-2,e.y-2,5,5),a=i.data,n=4*(2*i.width+3),r=0;r<=n;r+=4){var e=n+r,o=a[e]<<16|a[e+1]<<8|a[e+2];if(q[o])return q[o];if(r&&(o=a[e=n-r]<<16|a[e+1]<<8|a[e+2],q[o]))return q[o]}return},(X=document.createElement("canvas")).style.position="absolute",le(1,0,0,!(X.style[h+"Origin"]="0 0")),(G=X.getContext("2d")).lineWidth=1,R.appendChild(X);var Lt=document.createElement("canvas");(j=Lt.getContext("2d")).lineWidth=0;var Et=document.createElement("canvas");if(B=Et.getContext("2d"),xt.map.width?X.width=Lt.width=Et.width=xt.map.width:X.width=Lt.width=Et.width=R.clientWidth||R.offsetWidth,xt.map.height?X.height=Lt.height=Et.height=xt.map.height:X.height=Lt.height=Et.height=R.clientHeight||R.offsetHeight,xt.map.resize)mw.support.attachEvent(window,"resize",function(){clearTimeout(Pt);var t=R.clientWidth||R.offsetWidth;0!=t&&t!=X.width&&(Pt=setTimeout(Wt,100))})}else if(u){x=te,v=function(t){return t.srcElement.id},document.namespaces&&document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML");var zt=document.createElement("style");zt.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(zt);var Pt,Ot="v\\:* { behavior: url(#default#VML); }";if(zt.styleSheet&&!zt.sheet?zt.styleSheet.cssText=Ot:zt.appendChild(document.createTextNode(Ot)),xt.map.resize)mw.support.attachEvent(window,"resize",function(){clearTimeout(Pt),Pt=setTimeout(function(){Xt(!1),R.innerHTML="",te(),mt.dispatch(F,"size",{width:R.clientWidth||R.offsetWidth,height:R.clientHeight||R.offsetHeight})},100)})}if(L&&xt.zoom&&xt.zoom.touch?mw.support.attachEvent(R,"touchstart",ce):d.className+=" touch-disabled",xt.zoom&&xt.zoom.wheel&&ft.mousewheel.push(function(t){if(!xt.zoom.wheel)return;if(t=t||window.event,document.elementFromPoint){var e=document.elementFromPoint(t.clientX,t.clientY);if(e.parentNode!==R&&e.parentNode!==d)return}mw.support.preventDefault(t),re();var i=mw.support.mousepos(t);ot=xe((0<t.wheelDelta?1.1111111111111112:.9)*ot,i.x,i.y,0,0,!0),oe()}),ft.mousedown.push(function(t){if(!dt)return;if(t=t||window.event,document.elementFromPoint){var e=document.elementFromPoint(t.clientX,t.clientY);if(e.parentNode!==R&&e.parentNode!==d&&!E)return}if(D){var i=mw.support.mousepos(t);nt=i.x,rt=i.y}else u&&(nt=t.screenX,rt=t.screenY);1<ot&&(lt=!0);M&&(document.getElementsByTagName("body")[0].style[M]="none");mw.support.attachEvent(document,"mousemove",pe),mw.support.attachEvent(document,"mouseup",he),mw.support.attachEvent(document,"selectstart",mw.support.preventDefault)}),mw.support.attachEvent(R,"mouseout",de),Ht(),function(){var t=["left","right","top","bottom"];for(var e in t){var i=document.createElement("div");i.className="pan-button "+t[e],i.setAttribute("data-pan",t[e]),R.appendChild(i),mw.support.attachEvent(i,"touchstart",Ft),mw.support.attachEvent(i,"mousedown",Ft)}}(),e.map&&e.map.url instanceof Object?setTimeout(function(){Gt(e.map.url)},0):mw.support.ajax({url:xt.map.url,success:Gt}),xt.state.manager instanceof mw.StateManager)p=xt.state.manager;else{var It=xt.state.data||xt.data;p=It instanceof mw.StateManager?It:new mw.StateManager({data:It}),null!==xt.busy||!It||It instanceof mw.DataManager||(xt.busy=!0)}return s=p.data(),xt.busy&&(!0===xt.busy&&(xt.busy=document.getElementById("busy"),xt.busy||(xt.busy=document.body.appendChild(document.createElement("div")),xt.busy.id="busy")),xt.busy.style.display="block"),s&&s.listen instanceof Function&&(A=!1,s.listen("ready",function(t){for(var e in t.geoitems){var i=t.geoitems[e];"C"!=i.type&&(P[e]={id:e,region:i.region?i.region[0]:void 0,values:{},bbox:[999,999,0,0],ldx:0,ldy:0})}A=!0,Yt()})),xt.state.year&&p.listen("year",Vt),xt.state.indicator&&p.listen("indicator",Kt),xt.state.geoitem&&p.listen("geoitem",Ut),F={ready:function(){return H&&A},lock:function(){ut=!0},unlock:function(t){ut=!1,t&&F.redraw(!0)},destroy:function(){for(type in xt.state.year&&p.unlisten("year",Vt),xt.state.indicator&&p.unlisten("indicator",Kt),mt.destroy(),L&&mw.support.removeEvent(R,"touchstart",ce),mw.support.removeEvent(R,"mouseout",de),ft)mw.support.removeEvent(d,type,jt);for(var t=0,e=xt.layers.length;t<e;t++){var i=xt.layers[t];i&&i.destroy&&i.destroy()}N.innerHTML=""},set:function(t){mw.support.extend(t,xt),t.hasOwnProperty("zoom")&&(g&&g.destroy(),Ht()),Bt(),x&&x()},settings:function(t){return t?xt[t]:xt},type:function(){return D?"canvas":u?"vml":"unknown"},items:function(){var t=K[J].slice(0);if(J&&!xt.map.noregion)for(var e=0,i=K[0].length;e<i;e++)U[K[0][e]].region||t.push(K[0][e]);return t},center:function(t){var e=U[t]||P[t];if(e){var i=e.cx,a=e.cy,n=e.scale?e.scale.to:void 0;if(n){var r=xt.map.offset.x+xt.map.padding,o=xt.map.offset.y+xt.map.padding;i=(i-r)*n.scale+xt.map.scale*n.dx+r,a=(a-o)*n.scale+xt.map.scale*n.dy+o}return _?_(a,i):{x:st*(i+it),y:st*(a+at)}}return xt.center?xt.center(t):{x:0,y:0}},box:function(t){return U[t]?U[t].bbox:P[t]?P[t].bbox:void 0},scale:function(){return ot},color:function(t){o&&t instanceof Function&&(o=t),pt||ct?ht=t:se(t,!0)},clone:function(t,e,i){!function(t,e,i){var a,n=U[t];if(!n)return;if(i)a=Math.min(i.width/(n.bbox[2]-n.bbox[0]),i.height/(n.bbox[3]-n.bbox[1]));else{if(!D)return;(i=document.createElement("canvas")).width=n.bbox[2]-n.bbox[0],i.height=n.bbox[3]-n.bbox[1],a=1}G.clearRect(0,0,i.width,i.height);for(var r=0,o=n.coords.length;r<o;r++){var s=n.coords[r];G.beginPath(),G.lineWidth=0,G.fillStyle=e;for(var l=0,d=s.length;l<d;l++)G[0==l?"moveTo":"lineTo"](a*s[l][0],a*s[l][1]);G.fill()}}(t,e,i)},export:function(t,e,i){return!("png"==(t=t||"png")&&!xt.export.renderer)&&(null==i&&e instanceof Object?(i=e,e=void 0):i=i||{},"png"==t?function(t,e){var i=mw.support.extend(xt.export,{});mw.support.extend(e,i),i.download=!0,i.format="png",i.content=we(null==e.accuracy?1:e.accuracy),(xt.legend||s&&m)&&(i.content+=mw.support.legendHTML(xt.legend?xt.legend:s.indicators[m]));{if(t&&!0===t)return mw.support.sendToServer(!0,xt.export.renderer,i),!0;i.encoding="base64";var a=mw.support.sendToServer(!1,xt.export.renderer,i);if(!t)return a;var n=window.open("",t),r=n.document,o=r.createElement("img");o.src="data:image/png;base64,"+a,r.body.appendChild(o)}}(e,i):function(t,e,i){var a=mw.support.extend(xt.export,{});mw.support.extend(e,a);var n=xt.speed.resize;xt.speed.resize=e.duration||xt.speed.resize;var r=we(null==e.accuracy?1:e.accuracy,e.resize);{if(xt.speed.resize=n,!0===t)return a.download=!0,a.format=i||r,a.content=r,mw.support.sendToServer(!0,xt.export.renderer,a),!0;if(t){var o=window.open("",t),s=o.document;return s.body.innerHTML=r,!0}return r}}(e,i,t))},values:function(t,e,i){$t(t,e,i)},play:function(e){if(!l||!c){if($&&s&&s.indicators[$]){var t=s.indicators[$].statistics;l=t.range.from,c=t.range.to}if(!l||!c)return}e=e||(s.meta.speed?s.meta.speed:xt.speed.play),e/=c-l+1,f==c&&(f=l-1),mt.dispatch(F,"playstart"),function t(){f<c?(xt.state.year?p.set("year",f+1):Vt(f+1),a=setTimeout(t,1e3*e)):mt.dispatch(F,"playend")}()},stop:function(){clearTimeout(a)},legend:function(t){xt.legend=t,mt.dispatch(F,"legend",t),x&&se(Zt,!0)},redraw:function(t){t?Wt():x&&se(null,!0)},resize:function(t,e){if(t||$){for(var i in $=t,U){var a=U[i];if(Z&&(a.scale.from=a.scale.current),$){if(a.scale.to=Qt(i),!a.scale.to)if(a.scale.zero)a.scale.to=a.scale.zero;else{var n=a.cx/xt.map.scale,r=a.cy/xt.map.scale;a.scale.to={scale:0,dx:n*a.scale.from.scale+a.scale.from.dx,dy:r*a.scale.from.scale+a.scale.from.dy}}}else a.scale.to={scale:1,dx:0,dy:0};0!=a.scale.to.scale&&-1!=a.scale.to.scale||(a.scale.zero={scale:0,dx:a.scale.to.dx,dy:a.scale.to.dy})}if(mt.dispatch(F,"resizestart",!!$),0==(e=1e3*(null==e?xt.speed.resize:e)))Q=1,l();else{var o;function s(){Q||(o=(new Date).getTime()-1),Q=Math.min(1,((new Date).getTime()-o)/e),x(),Q<1?y(s):(l(),D&&ne(G,B))}Q=0,Z||(Z=!0,x?s():R.listen("ready",function(){s()}))}}function l(){for(var t in Z=!1,mt.dispatch(F,"resizeend",!!$),U){var e=U[t];e.scale.from=e.scale.to}x()}},region:function(t){if(!0===t?t=1:!1===t&&(t=0),isNaN(t))!function(t){for(var e in P={},K[1]=[],U)U[e].region=void 0;for(var e in t){var i=P[e]={id:e,values:{},ldx:0,ldy:0,bbox:[999,999,0,0]};if(K[1].push(e),t[e]instanceof Array)var a=t[e];else{var a=t[e].geoitems;t[e].ldx&&(i.ldx=t[e].ldx),t[e].ldy&&(i.ldy=t[e].ldy)}for(var n=0,r=a.length;n<r;n++){var o=U[a[n]];o&&(o.region=e,i.bbox[0]=Math.min(i.bbox[0],o.bbox[0]),i.bbox[1]=Math.min(i.bbox[1],o.bbox[1]),i.bbox[2]=Math.max(i.bbox[2],o.bbox[2]),i.bbox[3]=Math.max(i.bbox[3],o.bbox[3]))}i.cx=parseInt((i.bbox[0]+i.bbox[2])/2+i.ldx),i.cy=parseInt((i.bbox[1]+i.bbox[3])/2+i.ldy)}}(t);else{if(J=t){var e={},i=0==K[t].length;for(var a in U){var n=U[a];n.regions&&n.regions.length&&(n.region=n.regions[t-1],i&&!e[n.region]&&(K[t].push(n.region),e[n.region]=!0))}}mt.dispatch(F,"region"),x&&(se(null,!1),x(!0))}},zoom:function(e,t){if(!pt){if(F.highlight(),"number"==typeof e)return ot=xe(ot+e,R.clientWidth/2,R.clientHeight/2,0,0,!0),void oe();if(U[e]||P[e]){var i=U[e]?U[e].bbox:P[e].bbox;if(_){var a=Rt(i[1],i[0]),n=Rt(i[3],i[2]);i=[a.x/st-it,n.y/st-at,n.x/st-it,a.y/st-at]}var r=Qt(e);if(r){p=xt.map.offset.x+xt.map.padding,h=xt.map.offset.y+xt.map.padding;i[0]=(i[0]-p)*r.scale+xt.map.scale*r.dx+p,i[1]=(i[1]-h)*r.scale+xt.map.scale*r.dy+h,i[2]=(i[2]-p)*r.scale+xt.map.scale*r.dx+p,i[3]=(i[3]-h)*r.scale+xt.map.scale*r.dy+h}var o=i[2]-i[0]+xt.zoom.padding.x,s=i[3]-i[1]+xt.zoom.padding.y;if(o/s<R.clientWidth/R.clientHeight)l=R.clientHeight/s;else l=R.clientWidth/o;l=Math.max(xt.zoom.minimum,Math.min(k,l));d=O=(i[0]+.5*o+it)*st,c=I=(i[1]+.5*s+at)*st,p=-i[0]+.5*(R.clientWidth/l-o+xt.zoom.padding.x),h=-i[1]+.5*(R.clientHeight/l-s+xt.zoom.padding.y)}else var l=1,d=R.clientWidth/2,c=R.clientHeight/2,p=0,h=0;if(!isNaN(l)){var u,m=be(l,d,c,!0),f=m[1]-p,g=m[2]-h,v=1e3*(void 0===t?xt.speed.zoom:t),b=st;re(),mt.dispatch(F,"zoomstart");var x=0;pt=!0,function t(){u||(u=(new Date).getTime()),x=v?Math.min(1,((new Date).getTime()-u)/v):1,ot=xe(b*Math.exp(Math.log(l/b)*x),d,c,x*f,x*g,!1,!0),x<1&&y(t),1==x?(it-=f,at-=g,oe(),mt.dispatch(F,"bounds",{zoom:st,offset:{x:it,y:at}}),mt.dispatch(F,"zoomend",e),pt=!1,w=e,null!==ht&&(se(ht,!0),ht=null)):(mw.performance<=40||E)&&(it-=x*f,at-=x*g,oe(),mt.dispatch(F,"bounds",{zoom:st,offset:{x:it,y:at}}),it+=x*f,at+=x*g)}()}}},year:function(t){xt.state.year?p.set("year",t):Vt(t)},at:function(t,e){return v({clientX:t,clientY:e,target:{offsetParent:null}})},explode:function(t){if(t instanceof Object)for(var e in t)!0===t[e]&&!0!==et[e]?(tt++,et[e]=!0):!1===t[e]&&!0===et[e]&&(tt--,et[e]=!1);else et.hasOwnProperty(t)&&!1!==et[t]||(tt++,et[t]=!0);x&&(se(null,!1),x(!0))},implode:function(t){et.hasOwnProperty(t)?(tt--,et[t]=!1):(tt=0,et={}),x&&(se(null,!1),x(!0))},layer:function(t){t instanceof Function&&(t=new t({})),xt.layers.push(t),H&&A&&(_t(t)?d.appendChild(t):t.init&&t.init(F))},state:function(){return p},highlight:function(t){if(t){var e={geoitem:t},i=F.center(t);if(e.x=i.x,e.y=i.y,e.x<0||e.y<0||e.x>R.clientWidth||e.y>R.clientHeight)return;mt.dispatch(F,"hover",e)}else mt.dispatch(F,"hover",null)},panes:function(t){return(t=t||mw.map.layers.ABOVE)==mw.map.layers.BELOW&&(i.style.display="block"),t==mw.map.layers.ABOVE?d:i},width:function(t){if(t){var e=F.box(t);if(_){var i=_(e[1],e[0]);return _(e[3],e[2]).x-i.x}return e[2]-e[0]}return D?X.width:R.clientWidth||R.offsetWidth},height:function(t){if(t){var e=F.box(t);if(_){var i=_(e[1],e[0]),a=_(e[3],e[2]);return i.y-a.y}return e[3]-e[1]}return D?X.height:R.clientHeight||R.offsetHeight},area:function(t){if(t){var e=F.box(t);if(_){var i=_(e[1],e[0]),a=_(e[3],e[2]);return(a.x-i.x)*(i.y-a.y)}return(e[2]-e[0])*(e[3]-e[1])}return F.width()*F.height()},mouse:function(t){dt=t},xy2xy:function(t,e){return{x:t/st-it,y:e/st-at}},latlng2xy:function(t,e){return _?_(t,e):Rt(t,e)},xy2latlng:function(t,e,i){t=t/st-it,e=e/st-at;var a=xt.map.padding,n=xt.map.offset,r=R.clientWidth-2*(n.x+a),o=R.clientHeight-2*(n.y+a),s=Math.PI/360,l=360/Math.PI,d=xt.map.bbox;if(xt.map.origin);else{if(!d)return{lat:void 0,lng:void 0};var c=Math.tan(d.bottom*s),p=Math.tan(d.top*s),h=(t-n.x-a)*(d.right-d.left)/r+d.left,u=Math.atan(p-(e-n.y-a)/o*(p-c))*l}return i&&d&&(h=Math.max(Math.min(h,d.right),d.left),u=Math.max(Math.min(u,d.top),d.bottom)),{lat:u,lng:h}},projection:function(t){if(t instanceof Function||!1===t)at=it=0,_=t,Xt(!(st=1));else{var e=_(xt.map.bbox.top,xt.map.bbox.left),i=(_(xt.map.bbox.bottom,xt.map.bbox.right).x-e.x)/R.clientWidth;if(k<i)return!1;g&&g.set("exponential"==xt.zoom.type?Math.ceil(Math.log(i)/Math.log(2))+2:i),x(),mt.dispatch(F,"bounds",{zoom:st,offset:{x:it,y:at}})}return!0},listen:function(t,e){"ready"==t&&H&&A?e():ft[t]?ft[t].push(e):mt.register(t,e)},unlisten:function(t,e){if(ft[t])for(var i=ft[t].length-1;0<=i;i--)ft[t][i]===e&&ft[t].splice(i,1);else mt.remove(t,e)},toggleClass:function(t,e){e?-1==d.className.indexOf(t)&&(d.className+=" "+t):d.className=d.className.replace(" "+t,"")},edit:function(t){if(S=t){if(!$)return void alert("Map needs to be resized to enable edit mode");for(var e in mw.support.attachEvent(document.body,"mousedown",Dt),mw.support.attachEvent(N,"mousemove",Nt),R.classList.add("map-editing"),R.setAttribute("caption",bt),U)vt[e]={dx:0,dy:0};se(xt.map.nodata,!0)}else if(mw.support.removeEvent(document.body,"mousedown",Dt),mw.support.removeEvent(N,"mousemove",Nt),R.classList.remove("map-editing"),R.setAttribute("caption",""),xt.events.move){var i={},a=!1;for(var e in vt){var n=vt[e];(n.dx||n.dy)&&(i[e]=n,a=!0)}a&&xt.events.move(i)}}}}function Nt(t){t=t||window.event;var e=fe(v(t));e!=C&&(R.setAttribute("caption",e?s?s.geoitems[e].label:e:bt),C=e)}function Dt(t){t=t||window.event;var p=!1,h=!1;function u(t){return gt[t]?xt.map.selected:xt.map.nodata}var o=t.clientX,s=t.clientY,l=(R.clientWidth,R.clientHeight,void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft),d=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,m=document.createElement("div");m.className="drag-rectangle",m.style.border="border: 1px dotted #2a78b8",m.style.backgroundColor="rgba(42,120,184,0.2)",m.style.position="absolute",m.style.zIndex=1e6,m.style.left=o+l+"px",m.style.top=s+d+"px";var f=fe(v(t));function g(t){if(f){var e=(t.clientX-o)/xt.map.scale,i=(t.clientY-s)/xt.map.scale;for(var a in gt)gt[a]&&U[a].scale&&(vt[a].dx+=e,vt[a].dy+=i,U[a].scale.to.dx+=e,U[a].scale.to.dy+=i,h=!0);se(u,!0),o=t.clientX,s=t.clientY}else{var n=Math.abs(t.clientX-o),r=Math.abs(t.clientY-s);t.clientX<o&&(m.style.left=t.clientX+l+"px"),t.clientY<s&&(m.style.top=t.clientY+d+"px"),m.style.width=n+"px",m.style.height=r+"px"}p=!0,mw.support.preventDefault(t)}f?t.shiftKey?gt[f]=!0:t.ctrlKey?gt[f]=!gt[f]:gt[f]=!0:(gt={},document.body.appendChild(m)),se(u,!0),mw.support.attachEvent(document.body,"mousemove",g),mw.support.attachEvent(document.body,"mouseup",function t(e){if(p&&!f){var i=mw.support.offset(m),a=mw.support.offset(R),n=i.left-a.left,r=i.top-a.top,o=n+m.clientWidth,s=r+m.clientHeight;for(var l in K[0]){var d=K[0][l],c=F.center(d);gt[d]=c.x>n&&c.y>r&&c.x<o&&c.y<s}}else e.ctrlKey||e.shiftKey||(gt={});se(u,!0),m.parentNode&&m.parentNode.removeChild(m),mw.support.removeEvent(document.body,"mousemove",g),mw.support.removeEvent(document.body,"mouseup",t),mw.support.preventDefault(e),h&&mt.dispatch(F,"modified")})}function Bt(){function t(t){t&&(t.hasOwnProperty("color")||(t.color="#fff"),t.hasOwnProperty("width")||(t.width=1),t.hasOwnProperty("patterns")||(t.patterns={}))}if(xt.borders instanceof Array)for(var e=0;e<xt.borders.length;e++)for(var i=0;i<xt.borders[e].length;i++)t(xt.borders[e][i]);else t(xt.borders)}function Ht(){if(xt.zoom.handle){var e=document.createElement("div");e.className="zoom-slider",d.appendChild(e),mw.support.attachEvent(e,"mouseover",de),mw.support.attachEvent(e,"touchend",function t(){d.className+=" has-touched",mw.support.removeEvent(e,"touchend",t)});var t={orientation:xt.zoom.orientation||"vertical",inverted:!0,handle:xt.zoom.handle,labels:0,range:{minimum:xt.zoom.minimum,step:0,maximum:xt.zoom.maximum}};k="linear"==xt.zoom.type?xt.zoom.maximum:Math.pow(2,xt.zoom.maximum-1),xt.zoom.trigger&&(t.trigger=xt.zoom.trigger),(g=new mw.Slider(e,t)).set(st),g.listen("update",function(t){var e=t;"exponential"==xt.zoom.type&&(e=Math.pow(2,Math.round(t)-1)),ot=xe(e,R.clientWidth/2,R.clientHeight/2,0,0,!0),"exponential"==xt.zoom.type&&g.set(t),oe()})}else k=xt.zoom.maximum}function Ft(t){var e=R.clientWidth||R.offsetWidth,i=R.clientHeight||R.offsetHeight,a={left:[.1,0],top:[0,.1],right:[-.1,0],bottom:[0,-.1]}[t.target.getAttribute("data-pan")];rt=at,ye((nt=it)+a[0]*e,at+a[1]*i),d.click()}function Rt(t,e){var i=xt.map.padding,a=xt.map.offset,n=R.clientWidth-2*(a.x+i),r=R.clientHeight-2*(a.y+i);if(xt.map.origin){var o=Math.PI/180;e*=o,t*=o;var s=xt.map.origin.x+.1592582840510242*n*e,l=xt.map.origin.y-.3844835092762494*n*Math.tan(t/2)}else{if(!xt.map.bbox)return{x:void 0,y:void 0};var d=Math.PI/360,c=xt.map.bbox;e<c.left&&(e+=360);var p=Math.tan(c.bottom*d),h=Math.tan(c.top*d);s=(e-c.left)/(c.right-c.left)*n+a.x+i,l=(h-Math.tan(t*d))/(h-p)*r+a.y+i}return{x:st*(s+it),y:st*(l+at)}}function Wt(){if(W.aspect&&xt.map.aspect){var t=N.clientWidth/W.aspect,e=window.getComputedStyle(R,null),i=parseInt(e.getPropertyValue("max-height"));0<i&&(t=Math.min(i,t)),R.style.height=t+"px"}X&&(X.width=Lt.width=Et.width=R.clientWidth||R.offsetWidth,X.height=Lt.height=Et.height=R.clientHeight||R.offsetHeight),_||Xt(!1);for(var a=d.getBoundingClientRect().top,n=R.getBoundingClientRect().top,r=0;r<d.children.length;r++)d.children[r]!==R&&(d.children[r].style.top=n-a+"px");x&&x(),G&&ne(G,B),mt.dispatch(F,"size",{width:R.clientWidth||R.offsetWidth,height:R.clientHeight||R.offsetHeight})}function Xt(t){var e=xt.map.padding,i=xt.map.padding;if(t||(V=[]),!t||!xt.map.scale){var a=(R.clientWidth||xt.map.width)-2*e,n=(R.clientHeight||xt.map.height)-2*i,r=a/n,o=W.aspect||r;if(r<o)var s=(l=a)/o;else var l=(s=n)*o;xt.map.scale=Math.max(l/200,s/200),xt.map.offset={x:(a-l)/2,y:(n-s)/2},e+=xt.map.offset.x,i+=xt.map.offset.y}var d=Math.pow(2,30);for(var c in W.items){if((I=W.items[c]).m){for(var p=99999,h=-99999,u=99999,m=-99999,f=99999,g=-99999,v=99999,b=-99999,x=[],y=0,w=I.m.length;y<w;y++){if(O=W.masses[I.m[y]].poly){for(var k,M=[1==W.masses[I.m[y]].scale],T=0,S=O.length;T<S;T++){var C=O[T][0]*xt.map.scale+e,A=O[T][1]*xt.map.scale+i;if(_)k=[C=(N=F.xy2latlng(C,A)).lng,A=N.lat];else k=[C,A];p=Math.min(p,C),u=Math.min(u,A),h=Math.max(h,C),m=Math.max(m,A),("all"==xt.map.bounds||M[0])&&(f=Math.min(f,C),v=Math.min(v,A),g=Math.max(g,C),b=Math.max(b,A)),M.push(k)}x.push(M)}}var L=I.ldx?parseFloat(I.ldx):0,E=I.ldy?parseFloat(I.ldy):0;200<L&&(L-=d),200<E&&(E-=d);var z=parseFloat((p+h)/2+L*(_?1:xt.map.scale)),P=parseFloat((u+m)/2+E*(_?1:xt.map.scale));_||(g-f<1&&g++,b-v<1&&b++),t&&(U[c]={values:{},scale:{from:{scale:1,dx:0,dy:0}},color:xt.map.nodata},K[0].push(c)),U[c].coords=x,U[c].bbox=[f,v,g,b],U[c].ldx=L,U[c].ldy=E,U[c].cx=z,U[c].cy=P}}for(var c in qt(),W.borders){var O,I=W.borders[c];if(O=W.borders[c].poly){for(x=[],T=0,S=O.length;T<S;T++){var N;C=O[T][0]*xt.map.scale+e,A=O[T][1]*xt.map.scale+i;if(_)k=[(N=F.xy2latlng(C,A)).lng,N.lat];else k=[C,A];x.push(k)}V.push({geo1:I.geo1,geo2:I.geo2,type:I.type,coords:x})}}if(W.bbox){var D=W.bbox.split(" "),B=D[0].split(","),H=D[1].split(",");xt.map.bbox={top:parseFloat(B[0]),bottom:parseFloat(H[0]),left:parseFloat(B[1]),right:parseFloat(H[1])},xt.map.bbox.right<xt.map.bbox.left&&(xt.map.bbox.right+=360)}else W.cx&&(xt.map.origin={x:W.cx*xt.map.scale+e,y:W.cy*xt.map.scale+i})}function Gt(t){if("complete"==document.readyState){if("string"==typeof t&&"{"==t.substr(0,1)&&(t=JSON.parse(t)),"string"==typeof t||"object"==typeof t&&t.documentElement){if("string"==typeof t){if(void 0!==window.DOMParser)var e=(new window.DOMParser).parseFromString(t,"text/xml");else if(void 0!==window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")){(e=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)}}else e=t;t={items:{},masses:{},borders:{}};var i=e.documentElement;"app"==i.localName&&(i=i.getElementsByTagName("data")[0]);var a=i.getAttribute("bbox");if(a)t.bbox=a;else{var n=i.getAttribute("cx"),r=i.getAttribute("cy");(n||r)&&(t.cx=parseFloat(n),t.cy=parseFloat(r))}var o=i.getAttribute("aspect");o&&(t.aspect=parseFloat(o));for(var s=e.getElementsByTagName("i"),l=0,d=s.length;l<d;l++){for(var c=s[l],p={},h=0,u=c.childNodes.length;h<u;h++){for(var m=c.childNodes[h],f=(m.textContent||m.innerText||m.text).split(","),g=0,v=f.length;g<v;g++)f[g]=parseInt(f[g]);1==m.nodeType&&(p[m.localName||m.nodeName]=f)}for(var b in{ldx:1,ldy:1})(M=c.getAttribute(b))&&(p[b]=parseFloat(M));t.items[c.getAttribute("id")]=p}for(var x in{masses:1,borders:1})for(var y=e.getElementsByTagName(x)[0].getElementsByTagName("p"),w=0,k=y.length;w<k;w++){var M,T=y[w];p={poly:[]};for(var b in{type:1,geo1:1,geo2:1,scale:1})(M=T.getAttribute(b))&&(p[b]=M);for(var S=(T.textContent||T.innerText||T.text).split(" "),C=0,A=S.length;C<A;C++){var L=S[C].split(",");""!=L[0]&&p.poly.push([parseFloat(L[0]),parseFloat(L[1])])}t[x][T.getAttribute("id")]=p}}var E=xt.map.height?xt.map.height:R.clientHeight;if(X){var z=window.getComputedStyle(R,null);E-=parseInt(z.getPropertyValue("padding-top"))+parseInt(z.getPropertyValue("padding-bottom"))}if(!E&&t.aspect){var P=N.clientWidth/t.aspect;R.style.height=P+"px",X&&(X.height=P,j.canvas.height=P,B.canvas.height=P)}if(W=t,Xt(!0),xt.values&&$t(xt.values),D){C=mw.Map.HITCOLORSTEP;for(var O in U){q[C]=O;var I=C.toString(16);U[O].hitcolor="#000000".slice(0,7-I.length)+I,C+=mw.Map.HITCOLORSTEP}}H=!0,Yt()}else setTimeout(function(){Gt(t)},100)}function jt(t){if(dt&&!pt&&!ct){t=t||window.event;for(var e=ft[t.type].length-1;0<=e;e--)if(ft[t.type][e](t)){"mousemove"==t.type&&(Y=null),mw.support.preventDefault(t);break}}}function Yt(){H&&A&&(X&&!X.height&&Wt(),xt.busy&&(xt.busy.style.display="none"),function(){var n=s?s.geoitems:U;function t(t){if(!t)return t;for(var e=t instanceof Array?t:t.split(","),i=0,a=e.length;i<a;i++)if(n[e[i]]||P[e[i]])return e[i]}for(var e in n){var i=n[e];if(U[e]){U[e].regions=[];for(var a=t(i.region);a;)(a=P[a])&&(U[e].regions.push(a.id),a=t(a.region))}}qt(),J&&x(!0)}(),function(){for(var t=0,e=xt.layers.length;t<e;t++)xt.layers[t]&&(xt.layers[t]instanceof Function&&(xt.layers[t]=new xt.layers[t]({})),_t(xt.layers[t])?d.appendChild(xt.layers[t]):xt.layers[t].init&&xt.layers[t].init(F),xt.events.hover&&xt.layers[t].listen&&xt.layers[t].listen("hover",function(t){mt.dispatch(F,"hover",t)}));f&&mt.dispatch(F,"year",f);m&&mt.dispatch(F,"indicator",m)}(),mt.dispatch(F,"bounds",{zoom:1,offset:{x:0,y:0}}),"string"==typeof xt.color?xt.color.match(/^((rgb|hsl)a?\(.*\))|(#[0-9a-f]{3,})$/i)?se(null,!0):xt.state.indicator?p.set("indicator",xt.color):s&&s.load(xt.color,function(){Kt(xt.color)}):xt.color?se(null,!0):xt.legend&&xt.values?se(null,!0):xt.state.indicator&&Kt(p.get("indicator")),N.className=N.className.replace(" map-loading",""),mt.dispatch(F,"ready"))}function _t(t){return"object"==typeof Node?t instanceof Node:t&&"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName}function qt(){for(var t in P)P[t].bbox=[999,999,0,0];for(var t in U){var e=U[t];if(e.regions)for(var i=0,a=e.regions.length;i<a;i++){(n=P[e.regions[i]]).bbox[0]=Math.min(n.bbox[0],e.bbox[0]),n.bbox[1]=Math.min(n.bbox[1],e.bbox[1]),n.bbox[2]=Math.max(n.bbox[2],e.bbox[2]),n.bbox[3]=Math.max(n.bbox[3],e.bbox[3])}}for(var t in P){var n;(n=P[t]).bbox&&(n.cx=(n.bbox[0]+n.bbox[2])/2+n.ldx,n.cy=(n.bbox[1]+n.bbox[3])/2+n.ldy,_||(n.cx=parseInt(n.cx),n.cy=parseInt(n.cy)))}}function Vt(t){f=t,$?F.resize($):x&&o&&se(o,!0),mt.dispatch(F,"year",t)}function Ut(t){"zoom"==xt.events.click?w==t?F.zoom():F.zoom(t):mt.dispatch(F,"click",{target:F,geoitem:t})}function Kt(t){if(t){xt.busy&&(xt.busy.style.display="block");var e=s.indicators[t];if(e.values){var i=s.parseLegend(t);for(var a in i.length&&(xt.legend=i),mt.dispatch(F,"legend",i),l=e.statistics.range.from,c=e.statistics.range.to,U)U[a].values={};for(var a in e.values){var n=e.values[a],r=U[a]?U[a]:P[a];if(r)for(var o in n)r.values[o]=n[o]}xt.busy&&(xt.busy.style.display="none"),m=t,i.length&&se(null,!0),mt.dispatch(F,"indicator",t)}}}function $t(t,e,i){if(void 0===e&&void 0===i?(e=t,t=(new Date).getFullYear()):"boolean"==typeof e&&void 0===i?(i=e,e=t,t=(new Date).getFullYear()):(l=l?Math.min(l,t):t,c=c?Math.max(c,t):t),e instanceof Function)for(var a in U)U[a].values[t]=e(a);else{for(var a in xt.values=e,U)U[a].values[t]={};for(var a in e)U[a]?U[a].values[t]=e[a]:(P[a]||(P[a]={id:a,values:{},ldx:0,ldy:0,bbox:[999,999,0,0]}),P[a].values[t]=e[a])}i||(xt.state.year?p.set("year",t):Vt(t))}function Zt(t){var e,i=xt.legend;if(!i)return xt.map.nodata;!f&&xt.state.year&&(f=p.get("year"))&&mt.dispatch(F,"year",f);var a,n=0;if(J){if(tt)for(var r=U[t].regions,o=tt==J&&J<r.length-1?0:1,s=J-o;0<=s;s--){var l=r[s];if(et[l]){if(0==s){e=U[t].values,et[l]&&n++;break}n++}else P[l]&&(e=P[l].values)}if(n!=tt&&xt.explode.siblings)return xt.explode.siblings;if(!e)if(l=U[t].region)e=P[l].values;else{if(xt.map.noregion)return xt.map.noregion;e=U[t].values}}else{if(tt){l=0;for(var d=(r=U[t].regions).length;l<d;l++)et[r[l]]&&n++;if(!n)return xt.explode.siblings}e=U[t].values}xt.latest?a=mw.support.latest(e,f,xt.latest).value:a=e[f];var c=mw.support.legendColor(i,a);return c&&xt.map.opacity<1?((c=mw.support.css2rgb(c))[3]=xt.map.opacity,mw.support.rgb2css(c)):c}function Qt(t){if(s)if($ instanceof Object)var e=$;else if(s.indicators[$])e=s.indicators[$].scale;else{e={};$=!1}else if($ instanceof Object)e=$;return e&&(e=e[t]),e&&null==e.scale&&(e=e[f]),e}function Jt(t,e){if(!(pt&&_||ut)){G.clearRect(0,0,X.width,X.height),e||(e=!(0==Q||1==Q)),e||j.clearRect(0,0,X.width,X.height);var i=xt.map.fillgaps&&J&&!$&&1==Q,a=xt.map.offset.x+xt.map.padding,n=xt.map.offset.y+xt.map.padding,r=xt.map.highlight,o=r instanceof Function;for(var s in U){var l=U[s];if(Z||$){var d=l.scale.from,c=l.scale.to,p=-1==d.scale?0:d.scale,h=p+((-1==c.scale?0:c.scale)-p)*Q,u=d.dx+(c.dx-d.dx)*Q,m=d.dy+(c.dy-d.dy)*Q;l.scale.current={scale:h,dx:u,dy:m}}if(Y==s&&r)var f=(o?r(s):r)||l.color;else f=l.color;null==f&&(f=xt.map.nodata),G.lineWidth=i?1:0,G.fillStyle=f,G.strokeStyle=f,e||(j.fillStyle=l.hitcolor),G.beginPath(),e||j.beginPath();for(var g=!1,v=0,b=l.coords.length;v<b;v++){var x=l.coords[v];if(!($||Q<1)||x[0])for(var y=1,w=x.length;y<w;y++){var k=x[y][0],M=x[y][1];if(d&&(k=(k-a)*h+xt.map.scale*u+a,M=(M-n)*h+xt.map.scale*m+n,g=xt.circles&&d&&1==Q&&0==c.scale),_)k=(R=_(M,k)).x,M=R.y;else k=st*(k+it),M=st*(M+at);g?(G.lineWidth=.25,G.arc(k,M,2,0,360,!1),j.arc(k,M,2,0,360,!1)):(G[1==y?"moveTo":"lineTo"](k,M),e||j[1==y?"moveTo":"lineTo"](k,M))}}g||G.fill(),f&&(i||g)&&G.stroke(),e||j.fill()}if(!Z&&!$)for(var T=xt.borders[J]||xt.borders,S=0,C=V.length;S<C;S++){var A=V[S],L=U[A.geo1],E=U[A.geo2];if(L&&E){var z=void 0;if(!tt&&T instanceof Array){if(L.regions)for(h=T.length;0<h;h--)if(L.regions[h-1]!=E.regions[h-1]){z=T[h];break}if(z||(z=T[0]),!z)continue}else if(J)if(tt){for(var P=U[A.geo1].regions,O=U[A.geo2].regions,I=J-1;0<=I;I--){var N=P[I];if(N!=O[I]){z=T;break}if(!et[N])break;0==I&&(z=T)}if(z instanceof Array){for(;!z[++I];);z=z[I]}if(!z)continue}else{if(L.region&&L.region==E.region)continue;z=T}else z=T instanceof Array?T[0]:T;var D,B,H=A.type||"regular",F=(x=A.coords,z.patterns[H]);G.setLineDash&&G.setLineDash(F||[]),G.beginPath(),z instanceof Function&&(z=z(A.geo1,A.geo2)),G.strokeStyle=z.color,G.lineWidth=z.width;for(y=0,w=x.length;y<w;y++){var R;k=x[y][0],M=x[y][1];if(_)k=(R=_(M,k)).x,M=R.y;else k=st*(k+it),M=st*(M+at);0==y?G.moveTo(k,M):!F||G.setLineDash?G.lineTo(k,M):G.dashedLineTo(D,B,k,M,F),D=k,B=M}G.stroke()}}}}function te(t){var e=Math.round,i=mw.Map.VMLSUBPIXEL,a=xt.map.offset.x+xt.map.padding,n=xt.map.offset.y+xt.map.padding,r=xt.map.fillgaps&&J&&!$&&1==Q?"true":"false",o=xt.map.highlight,s=o instanceof Function;for(var l in U){var d=U[l];if(Y==l&&o)var c=s?o(l):o;else c=d.color;for(var p=[],h=[],u=0,m=d.coords.length;u<m;u++)for(var f=d.coords[u],g=1,v=f.length;g<v;g++)f[0]?p.push(1==g?" m ":" l ",e(i*(f[g][0]-a)),",",e(i*(f[g][1]-n))):h.push(1==g?" m ":" l ",e(i*(f[g][0]-a)),",",e(i*(f[g][1]-n)));if(p.length){var b='<v:shape id="'+l+'" filled="true" stroked="true" style="left: '+a+"px; top: "+n+'px; position:absolute; width:10px; height:10px"';b+=' coordorigin="0 0" coordsize="'+10*i+" "+10*i+'" path="'+p.join("")+'"><v:fill color="'+c+'"></v:fill><v:stroke on="'+r+'" color="'+c+'"></v:stroke></v:shape>',R.insertAdjacentHTML("BeforeEnd",b)}if(h.length){b='<v:shape id="'+l+'" class="noscale" filled="true" stroked="true" style="left: '+a+"px; top: "+n+'px; position:absolute; width:10px; height:10px"';b+=' coordorigin="0 0" coordsize="'+10*i+" "+10*i+'" path="'+h.join("")+'"><v:fill color="'+c+'"></v:fill><v:stroke on="'+r+'" color="'+c+'"></v:stroke></v:shape>',R.insertAdjacentHTML("BeforeEnd",b)}}ee(!1),t&&J&&(ee(!0),document.getElementById("borders-geo").style.display="none"),x=ie}function ee(t){for(var e=Math.round,i=mw.Map.VMLSUBPIXEL,a={},n={},r=xt.borders[J]||xt.borders,o=0,s=V.length;o<s;o++){var l=V[o],d=U[l.geo1],c=U[l.geo2];if(d&&c){var p=void 0;if(!tt&&r instanceof Array){if(d.regions)for(var h=r.length;0<h;h--)if(d.regions[h-1]!=c.regions[h-1]){p=r[h];break}if(p||(p=r[0]),!p)continue}else if(J)if(tt){for(var u=U[l.geo1].regions,m=U[l.geo2].regions,f=J-1;0<=f;f--){var g=u[f];if(g!=m[f]){p=r;break}if(!et[g])break;0==f&&(p=r)}if(p instanceof Array){for(;!p[++f];);p=p[f]}if(!p)continue}else{if(d.region&&d.region==c.region)continue;p=r}else p=r instanceof Array?r[0]:r;var v=l.type||"regular",b=l.coords;a[v]||(a[v]=[]);for(var x=0,y=b.length;x<y;x++)t&&d.region==c.region||a[v].push(0==x?" m ":" l ",e(i*b[x][0]),",",e(i*b[x][1]));n[v]=p}}o='<v:group id="borders-'+(t?"region":"geo")+'" coordorigin="0 0" coordsize="100 100" style="position:absolute; width:100px; height:100px">';for(var v in a){var w=(p=n[v]).color,k=p.width,M=p.patterns[v];o+='<v:shape filled="false" stroked="true" style="position:absolute; width:10px; height:10px"',o+=' coordorigin="0 0" coordsize="'+10*i+" "+10*i+'" path="'+a[v].join("")+'"><v:stroke weight="'+k+'" color="'+w+'"',M&&(o+=' dashstyle="'+i*M[0]+" "+i*M[1]+'"'),o+="></v:stroke></v:shape>"}o+="</v:group>",R.insertAdjacentHTML("BeforeEnd",o)}function ie(t){for(var e=mw.Map.VMLSUBPIXEL,i=xt.map.fillgaps&&J&&!$&&1==Q?"true":"false",a=xt.map.highlight,n=a instanceof Function,r=0,o=R.childNodes.length;r<o;r++){var s=R.childNodes[r],l=s.id,d=U[l];if(d){if(Z||$){var c=d.scale.from,p=d.scale.to;if(p&&-1!=p.scale&&"noscale"!=s.className){var h=c.scale+(p.scale-c.scale)*Q,u=c.dx+(p.dx-c.dx)*Q,m=c.dy+(p.dy-c.dy)*Q;d.scale.current={scale:h,dx:u,dy:m};var f=e*-u*Q/h*xt.map.scale,g=e*-m*Q/h*xt.map.scale;s.style.display="block",s.coordsize=10*e/h+" "+10*e/h,s.coordorigin=f+" "+g}else s.style.display="none"}else s.style.display="block";if(Y==l&&a)var v=n?a(l):a;else v=d.color;s.childNodes[0].color=v,s.childNodes[1].color=v,s.childNodes[1].on=i}}var b=document.getElementById("borders-region");t&&J&&(b&&b.parentNode.removeChild(b),ee(!0)),document.getElementById("borders-geo").style.display=$||Q<1||J?"none":"block",document.getElementById("borders-region")&&(document.getElementById("borders-region").style.display=!c&&J?"block":"none")}function ae(t,e,i){for(var a={},n=xt.borders[J]||xt.borders,r=xt.map.offset.x+xt.map.padding,o=xt.map.offset.y+xt.map.padding,s=0,l=V.length;s<l;s++){var d=V[s],c=U[d.geo1],p=U[d.geo2];if(c&&p){var h=void 0;if(!tt&&n instanceof Array){if(c.regions)for(var u=n.length;0<u;u--)if(c.regions[u-1]!=p.regions[u-1]){h=n[u];break}if(h||(h=n[0]),!h)continue}else if(J)if(tt){for(var m=U[d.geo1].regions,f=U[d.geo2].regions,g=J-1;0<=g;g--){var v=m[g];if(v!=f[g]){h=n;break}if(!et[v])break;0==g&&(h=n)}if(h instanceof Array){for(;!h[++g];);h=h[g]}if(!h)continue}else{if(c.region&&c.region==p.region)continue;h=n}else h=n;var b=d.type||"regular",x=d.coords;a[b]||(a[b]=[]);for(var y=0,w=x.length;y<w;y++)if(!t||c.region!=p.region){var k=x[y][0],M=x[y][1];i&&(k-=r,M-=o),k=st*(k+it),M=st*(M+at),a[b].push(0==y?"M":"L",Math.round(k*e)/e,",",Math.round(M*e)/e)}}}var T=mw.support.stripAlpha(h.color),S=h.width,C='<g id="'+(t?"region":"country")+'-borders">';for(var b in a){var A=h.patterns[b];C+='<path id="'+b+'" fill="none" stroke-width="'+S+'" stroke="'+T.color+'" d="'+a[b].join("")+'"',T.opacity&&(C+=' stroke-opacity="'+T.opacity+'" '),A&&(C+=' style="stroke-dasharray: '+A[0]+","+A[1]+'"'),C+=i?'><animateTransform attributeName="transform" attributeType="XML" dur="0.1s" repeatCount="1" fill="freeze" type="scale" from="1" to="0"/></path>':"/>"}return C+="</g>"}function ne(t,e){if(X.width&&X.height)if(t===G&&1<st){var i=st,a=it,n=at,r=G;st=1,it=at=0,G=B,Jt(0,!0),st=i,it=a,at=n,G=r}else{var o=t.getImageData(0,0,X.width,X.height);e.putImageData(o,0,0)}}function re(){D&&ne(B,G),le(ot,it,at,!1),lt=!1}function oe(){x(),D&&le(1,0,0,!1)}function se(t,e){var i,a=xt.legend&&xt.values||s;if(xt.color instanceof Function&&t!==o?i=xt.color:a&&(i=Zt),t||(o&&Zt!==o?t=o:"string"==typeof xt.color&&xt.color.match(/^((rgb|hsl)a?\(.*\))|(#[0-9a-f]{3,})$/i)?t=xt.color:(t=i,a&&(i=Zt))),o=!1,t instanceof Function)for(var n in o=t,U){var r=t(n);!r&&i&&(r=i(n)),!r&&a&&(r=Zt(n)),U[n].color=r}else if("string"==typeof t){if(t.match(/^((rgb|hsl)a?\(.*\))|(#[0-9a-f]{3,})$/i))for(var n in U)U[n].color=t;else if(!xt.state.indicator&&s)return void s.load(t,function(){Kt(t)})}else for(var n in U)U[n].color=t&&t[n]?t[n]:xt.map.nodata;e&&H&&x(),D&&ne(G,B)}function le(t,e,i,a){var n=mw.Map.VMLSUBPIXEL,r=Math.abs;if(r(t)<.01&&(t=0),r(e)<.01&&(e=0),r(i)<.01&&(i=0),a&&mt.dispatch(F,"bounds",{zoom:t,offset:{x:e,y:i}}),D&&h)X.style[h]=z?"scale3d("+t+","+t+",1) translate("+e+"px,"+i+"px)":"scale("+t+","+t+") translate("+e+"px,"+i+"px)";else if(u)for(var o=0,s=R.childNodes.length;o<s;o++){var l=R.childNodes[o];"borders-"==l.id.substr(0,8)&&(l.coordorigin=(t-1)*(xt.map.offset.x+xt.map.padding)+" "+(t-1)*(xt.map.offset.y+xt.map.padding),l=l.childNodes[0]);var d=t-1+1;l.coordsize=10*n/d+" "+10*n/d;var c=n*-e,p=n*-i;l.coordorigin=c+" "+p}}function de(t){mt.dispatch(F,"hover",null)}function ce(t){var e=mw.support.mousepos(t);if(2==t.touches.length&&xt.zoom&&xt.zoom.pinch)if(pt=!0,O=e.x,I=e.y,"ongesturechange"in window)mw.support.attachEvent(window,"gesturechange",ue),mw.support.attachEvent(window,"gestureend",me),mw.support.removeEvent(window,"touchmove",pe),mw.support.removeEvent(window,"touchend",he);else{var i=t.touches[0],a=t.touches[1],n=i.clientX-a.clientX,r=i.clientY-a.clientY;b=Math.sqrt(n*n+r*r)/st,mw.support.attachEvent(window,"touchmove",function(t){o&&clearTimeout(o),o=setTimeout(function(){pe(t)},5)}),mw.support.attachEvent(window,"touchend",he)}else if(1==t.touches.length){var o;nt=e.x,rt=e.y,mw.support.attachEvent(window,"touchmove",function(t){o&&clearTimeout(o),o=setTimeout(function(){pe(t)},5)}),mw.support.attachEvent(window,"touchend",he)}t.touches.length&&(lt=!0)}function pe(t){if(dt){var e=(t=t||window.event).target||t.srcElement;if(!X||e==X||E)if(t.touches&&1<t.touches.length){var i=t.touches[0],a=t.touches[1],n=i.clientX-a.clientX,r=i.clientY-a.clientY;t.scale=Math.sqrt(n*n+r*r)/b,ue(t)}else if(mw.support.preventDefault(t),D&&lt&&re(),mw.performance<=40&&oe(),D){var o=mw.support.mousepos(t);ye(o.x,o.y)}else u&&ye(t.screenX,t.screenY)}}function he(t){dt&&(t=t||window.event,mw.support.preventDefault(t),ct&&oe(),M&&(document.getElementsByTagName("body")[0].style[M]=T),"touchend"==t.type?(pt?(me(t),ot=st):ct&&(clearTimeout(n),n=null),mw.support.removeEvent(window,"touchmove",pe),mw.support.removeEvent(window,"touchend",he)):(!ct&&xt.events.click&&ve(t),mw.support.removeEvent(document,"mousemove",pe),mw.support.removeEvent(document,"mouseup",he),mw.support.removeEvent(document,"selectstart",mw.support.preventDefault)),ct=!1,null!==ht&&(se(ht,!0),ht=null))}function ue(t){mw.support.preventDefault(t),lt&&re(),xe(t.scale*ot,O,I,0,0,!0)}function me(t){mw.support.preventDefault(t),oe(),mw.support.removeEvent(window,"gesturechange",ue),mw.support.removeEvent(window,"gestureend",me),pt=!1,null!==ht&&(se(ht,!0),ht=null)}function fe(t){if(J&&t)if(tt)for(var e=U[t].regions,i=J-1;0<=i;i--){var a=e[i];if(!et[a])return a}else if(U[t]&&(U[t].region||xt.map.noregion))return U[t].region;return t}function ge(t){if(t&&!S&&((t.target||t.srcElement).parentNode===R||E)){var e;t&&"mouseout"!==t.type&&(e=fe(v(t)));var i=U[e]?U[e]:P[e],a="follow"==xt.events.hover;if(Y!=e||e&&a){var n;if(e&&i)if(n={target:F,geoitem:e,indicator:!1!==xt.color&&m?m:"string"==typeof $?$:void 0},a)if(!D&&u){if(n.x=t.x,n.y=t.y,t.y==t.clientY){var r=mw.support.offset(R);n.y-=r.top}}else{var o=mw.support.mousepos(t);n.x=o.x,n.y=o.y}else{var s=F.center(e);n.x=s.x,n.y=s.y}else n=null;(Y!=e||a&&Y)&&mt.dispatch(F,"hover",n);var l=xt.map.highlight;if(l&&Y!=e){var d,c=l instanceof Function;if(Y&&!D&&u)(d=document.getElementById(Y))&&(d.childNodes[0].color=d.childNodes[1].color=U[Y].color);if(!D&&u){if(e)(d=document.getElementById(e))&&(d.childNodes[0].color=d.childNodes[1].color=c?l(e):l)}else Y=e,x()}Y=e}}}function ve(t){if(!S){var e=t.target||t.srcElement,i=e.parentNode==R||e==R;i||"Microsoft Internet Explorer"!=navigator.appName||(i=e.parentNode.parentNode==R.parentNode);var a=fe(v(t));(null==t.button||t.button<=1)&&i&&(xt.state.geoitem?p.set("geoitem",a):Ut(a))}}function be(t,e,i,a){t=Math.max(xt.zoom.minimum,Math.min(k,t));var n=Math.min(R.clientWidth,Math.max(0,e)),r=Math.min(R.clientHeight,Math.max(0,i)),o=n/t-(n/st-it),s=r/t-(r/st-at);return a||(o=Math.max((1-t)*R.clientWidth/t,Math.min(0,o)),s=Math.max((1-t)*R.clientHeight/t,Math.min(0,s))),[t,o,s]}function xe(t,e,i,a,n,r,o){var s=be(t,e,i,o);st=s[0],it=s[1],at=s[2],le(st,it-a,at-n,r);var l="exponential"==xt.zoom.type?Math.ceil(Math.log(st)/Math.log(2))+1:st;return g&&g.set(l),d.className=d.className.replace(/ ?map-zoom-\d+/,""),d.className+=" map-zoom-"+Math.round(l),r&&mt.dispatch(F,"zoomend"),st}function ye(t,e){t==nt&&e==rt||(ct=!0,(it||at)&&mt.dispatch(F,"pan",{x:t-nt,y:e-rt}),it+=(t-nt)/ot,at+=(e-rt)/ot,it=Math.max((1-ot)*R.clientWidth/ot,Math.min(0,it)),at=Math.max((1-ot)*R.clientHeight/ot,Math.min(0,at)),le(ot,it,at,!0),(mw.performance<=40||E)&&oe(),nt=t,rt=e)}function we(t,e){var i='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+R.clientWidth+'px" height="'+R.clientHeight+'px" viewBox="0 0 '+R.clientWidth+" "+R.clientHeight+'">';i+=function(t,e,i){var a=$;i&&($=i);var n=xt.map.fillgaps&&J&&!$&&1==Q,r='<animateTransform attributeName="transform" attributeType="XML" repeatCount="1" fill="freeze" ',o=xt.speed.resize,s=xt.map.offset.x+xt.map.padding,l=xt.map.offset.y+xt.map.padding,d=xt.map.highlight,c=d instanceof Function,p='<g id="map">';for(var h in U){var u=U[h],m=!1;if(i){var f=Qt(h)||{scale:0,dx:0,dy:0};m=xt.circles&&0==f.scale}else if(Z||$){var g=u.scale.from,v=u.scale.to;if(g&&-1==g.scale||v&&-1==v.scale)continue;m=xt.circles&&g&&1==Q&&0==v.scale}if(p+='<g id="'+h+'">',Y==h&&d)var b=c?d(h):d;else b=u.color;b=mw.support.stripAlpha(b);t:for(var x=0,y=u.coords.length;x<y;x++){var w=[],k=u.coords[x];if(i||!($||Q<1)||k[0]){for(var M,T,S=1,C=k.length;S<C;S++){var A=k[S][0],L=k[S][1];if(g&&v){var E=g.scale+(v.scale-g.scale)*Q,z=g.dx+(v.dx-g.dx)*Q,P=g.dy+(v.dy-g.dy)*Q;A=(A-s)*E+xt.map.scale*z+s,L=(L-l)*E+xt.map.scale*P+l}else i&&(A-=s,L-=l);if(A=st*(A+it),L=st*(L+at),A=Math.round(A*e)/e,L=Math.round(L*e)/e,m){p+='<circle cx="0" cy="0" transform="translate('+A+" "+L+')" r="2" ',p+='stroke-width="1" fill="none" stroke="'+b.color+'"',b.opacity&&(p+=' stroke-opacity="'+b.opacity+'"'),p+=i?">"+r+'dur="'+o+'s" additive="sum" type="scale" from="0" to="1"/></circle>':"/>";break t}1!=S&&M&&T?(z=Math.round((A-M)*e)/e,P=Math.round((L-T)*e)/e,0==z?w.push("v",P):0==P?w.push("h",z):(0<=z&&z<1&&(z=String(z).substr(1)),0<=P&&P<1&&(P=String(P).substr(1)),z<0&&-1<z&&(z="-"+String(z).substr(2)),P<0&&-1<P&&(P="-"+String(P).substr(2)),w.push("l",z,",",P))):w.push(1==S?"M":"L",A,",",L),M=A,T=L}i&&(p+="<g>"),p+='<path fill="'+b.color+'" '+(n?'stroke="'+b.color+'" ':""),b.opacity&&(p+=' opacity="'+b.opacity+'" '),p+='d="'+w.join("")+'Z"',p+=i?">"+r+'dur="'+(k[0]?o:.01)+'s" type="scale" from="1" to="'+(k[0]&&-1!=f.scale?f.scale:0)+'"/></path>':"/>",i&&(p+=r+'dur="'+o+'s" type="translate" from="0 0" to="'+xt.map.scale*f.dx+" "+xt.map.scale*f.dy+'"/>',p+="</g>")}}p+="</g>"}return $&&!i||(p+=ae(!!J,e,i)),$=a,p+="</g>"}(0,Math.pow(10,t),e);for(var a=0,n=xt.layers.length;a<n;a++){var r=xt.layers[a];if(r&&r.exportSVG){var o=r.exportSVG();o&&(i+=o)}}return i+="</svg>"}N.innerHTML="This browser supports neither &lt;canvas&gt; nor VML."},mw.Map.HITCOLORSTEP=4001,mw.Map.VMLSUBPIXEL=100,mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.BELOW=1,mw.map.layers.ABOVE=2,mw=window.mw||{},mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.Arrows=function(t){var d,w,x,k,y,M,c,i,s,T,p,h,u,S={},C={},m={},f={},a=0,A=1,L={},g=new mw.Dispatcher,E=mw.support.extend(t||{},{indicator:!1,color:{incoming:"rgba(255,0,0,0.5)",outgoing:"rgba(0,0,255,0.5)"},stroke:{width:1,incoming:"rgb(255,255,255)",outgoing:"rgb(255,255,255)"},incoming:!0,outgoing:!0,items:null,count:{number:5,type:"countries"},bend:3,gap:5,symmetry:.7,minwidth:2,maxwidth:40,maximum:"dataset",arrowhead:{minimum:2,fraction:.02,maximum:40,serif:!1},offset:{minimum:5,fraction:.2,maximum:100},events:{hover:!1,click:!0},visible:!0});return d={init:function(t){w=t,(x=document.createElement("div")).className="map-arrow-layer",x.style.position="absolute",x.style.top=0,x.style.left=0,u=t.settings.busy,E.visible?w.toggleClass("arrow-layer-active",!0):x.style.display="none";E.parent?E.parent.appendChild(x):w.panes().appendChild(x);switch(E.latest=w.settings().latest,i=w.state(),s=i.data(),w.type()){case"canvas":M=W,c=X,(T=document.createElement("canvas")).width=w.width(),T.height=w.height(),T.style.position="absolute",T.style.pointerEvents="none",p=T.getContext("2d"),x.appendChild(T);var e=document.createElement("canvas");e.width=T.width,e.height=T.height,(h=e.getContext("2d")).lineWidth=0;break;case"vml":M=G,c=j}w.listen("bounds",O),w.listen("size",o),w.listen("region",I),w.listen("year",n),!0===E.indicator?i.listen("indicator",function(t){P(t)}):E.indicator&&P(E.indicator);w.listen("resizestart",function(){x.style.display="none",a++}),w.listen("resizeend",r),40<mw.performance&&(w.listen("zoomstart",function(){x.style.display="none",a++}),w.listen("zoomend",r));if(E.events.hover){var l;w.listen("mouseout",function(t){if("none"!=x.style.display)return l?(g.dispatch(d,"hover",null),!(l=null)):void 0}),w.listen("mousemove",function(t){if("none"!=x.style.display){var e=c(t),i="follow"==E.events.hover;if(l!=e||e&&i){var a;if(e){if(a={target:d,from:e.from,to:e.to},e.from==y){var n=S[e.from];n.outgoing[k]&&n.outgoing[k][e.to]&&(a.value=n.outgoing[k][e.to])}else{var n=S[e.to];n.incoming[k]&&n.incoming[k][e.from]&&(a.value=n.incoming[k][e.from])}if(i){var r=mw.support.mousepos(t);a.x=r.x+(T?0:currentScale*(n.bbox[0]+offsetX)),a.y=r.y+(T?0:currentScale*(n.bbox[1]+offsetY))}else{var o=w.center(a.from),s=w.center(a.to);a.x=(o.x+s.x)/2,a.y=(o.y+s.y)/2}}else a=null;g.dispatch(d,"hover",a),l=e}return e&&l==e}})}E.events.click&&w.listen("mousedown",function(t){var e=c(t);if(e)return g.dispatch(d,"click",{target:d,from:e.from,to:e.to}),!0})},toggle:function(t){if(void 0===t&&(t=!("none"!=x.style.display)),E.visible!=t)return E.visible=t,x&&(x.style.display=t?"block":"none",t&&M&&R()),w.toggleClass("arrow-layer-active",t),t},set:function(t){mw.support.extend(t,E),M&&R()},incoming:function(t){return void 0===t&&(t=!(!0===E.incoming)),E.incoming=t,M&&R(),t},outgoing:function(t){return void 0===t&&(t=!(!0===E.outgoing)),E.outgoing=t,M&&R(),t},show:function(t){y!=t&&(y=t,M&&R())},destroy:function(){g.destroy()},values:function(t,e){null==t&&null==e?z():function(t,e){e||(e=t,t=(new Date).getFullYear());var i=E.visible&&t==k||!k;k||(k=t);if(e instanceof Function){z(t);for(var a=E.items||w.items(),n=0,r=a.length;n<r;n++){var o=a[n];S[o]||(S[o]=v(o));var s=e(o);for(var l in s)S[o].outgoing[t][l]=s[l],S[l].incoming[t][o]=s[l]}E.latest&&b(f[t]),i&&M&&(N(),R())}else if("string"==typeof e)P(e);else{for(var o in z(t),e)for(var l in S[o]||(S[o]=v(o)),e[o])S[l]||(S[l]=v(l)),S[o].outgoing[t]||(S[o].outgoing[t]={}),S[l].incoming[t]||(S[l].incoming[t]={}),S[o].outgoing[t][l]=e[o][l],S[l].incoming[t][o]=e[o][l];E.latest&&b(f[t]),i&&M&&(N(),R())}f[t]=!0}(t,e)},listen:function(t,e){g.register(t,e)},unlisten:function(t,e){g.remove(t,e)},exportPNG:function(t){E.visible&&T&&t.drawImage(T,0,0)},exportSVG:function(){var t=M;M=l;var e=R();return M=t,e}};function n(t){k=t,M&&(N(),R())}function r(){a=Math.max(0,a-1),E.visible&&!a&&(x.style.display="block"),R()}function v(t){var e=!!w&&w.box(t),i=e instanceof Array?Math.min(e[2]-e[0],e[3]-e[1])*E.offset.fraction:0;return{incoming:{},outgoing:{},r:i=Math.min(E.offset.maximum,Math.max(E.offset.minimum,i))}}function b(t){for(var e in t&&(m={},f={}),S){m[e]={};var i=S[e];for(var a in{incoming:1,outgoing:1}){m[e][a]={};var n=i[a];for(var r in n)for(var o in n[r])m[e][a][o]=!0}}}function z(t){for(var e in t?(C[t]=+E.maximum,isNaN(C[t])&&(C[t]=0)):C={},S)t?(S[e].incoming[t]&&(S[e].incoming[t]={}),S[e].outgoing[t]&&(S[e].outgoing[t]={})):(S[e].incoming={},S[e].outgoing={})}function P(o){z(),s&&(u&&(u.style.display="block"),s.load(o,function(){u&&(u.style.display="none");var t=s.indicators[o];if(t){for(var e in t.values)for(var i in S[e]||(S[e]=v(e)),S[e].outgoing=t.values[e],t.values[e]){var a=t.values[e][i];for(var n in a)S[n]||(S[n]=v(n)),S[n].incoming[i]||(S[n].incoming[i]={}),S[n].incoming[i][e]=a[n]}if("dataset"==E.maximum)for(var r=t.statistics.range.from;r<=t.statistics.range.to;r++)C[r]=t.statistics.range.max;E.latest&&b(!0),N(),M&&R()}}))}function o(t){T&&(T.width=t.width,h.canvas.width=t.width,T.height=t.height,h.canvas.height=t.height),R()}function O(t){A=t.zoom,R()}function I(t){N(),R()}function N(){C[k]||(C[k]=+E.maximum,isNaN(C[k])&&(C[k]=0));for(var t=E.items||w.items(),e=0,i=t.length;e<i;e++){var a=t[e],n=S[a];if(n&&(n.sorted=[],E.latest||n.incoming[k]||n.outgoing[k])){for(var r in{incoming:1,outgoing:1}){var o,s=n[r];if(o=E.latest?m[a][r]:s[k])for(var l in o){var d=void 0;if(E.latest){for(var c=k;c>=k-E.latest&&(null==(d=s[c])||null==(d=d[l]));c--);if(null==d)continue}else d=o[l];var p={value:d};p[r]=l,"year"!=E.maximum&&"dataset"!=E.maximum||(C[k]=Math.max(C[k],d)),n.sorted.push(p)}}n.sorted.sort(function(t,e){return t.value>e.value?-1:1})}}}function D(t,e){return Math.sqrt(t*t+e*e)}function B(t,e,i,a,n,r,o,s){s=s||0;var l=t+(i-t)*o,d=e+(a-e)*o,c=i+(n-i)*o-l,p=a+(r-a)*o-d,h=l+c*o,u=d+p*o,m=D(c,p);return[h-s*(p/=m),u+s*(c/=m)]}function H(t,e,i,a,n,r,o,s,l,d){var c=[];if(0<d){var p=E.maxwidth instanceof Array?E.maxwidth[0]:d/2;p<1&&(p*=d);var h=d/2,u=D(t-n,e-r),m=u*(s-o),f=E.arrowhead.fraction*m,g=(f=Math.min(E.arrowhead.maximum,Math.max(E.arrowhead.minimum,f)))/m,v=10/u;s-g<0&&(g=s/2),s-g<o&&(o=s-g);for(var b=o;b<s-g;b+=v){var x=(b-o)/(s-g-o)*(h-p)+p;c.push(B(t,e,i,a,n,r,b,l+x))}for(c.push(B(t,e,i,a,n,r,s-g,l+h)),E.arrowhead.serif&&c.push(B(t,e,i,a,n,r,s-g,l+d)),c.push(B(t,e,i,a,n,r,s,l)),E.arrowhead.serif&&c.push(B(t,e,i,a,n,r,s-g,l-d)),b=s-g;o<b;b-=v){x=(b-o)/(s-g-o)*(h-p)+p;c.push(B(t,e,i,a,n,r,b,l-x))}c.push(B(t,e,i,a,n,r,o,l-p)),c.push(B(t,e,i,a,n,r,o,l+p))}return c}function F(t,e,i,a,n,r,o,s){var l=C[k],d=E.maxwidth instanceof Array?E.maxwidth[1]:E.maxwidth;(o=o/l*(d-E.minwidth))&&(o+=E.minwidth),(s=s/l*(d-E.minwidth))&&(s+=E.minwidth);var c=E.symmetry,p=w.height(),h=D(t-i,e-a),u=h<50?0:E.bend,m=c*t+(1-c)*i,f=c*e+(1-c)*a+Math.abs(t-i)*((e/p-.5)*u),g=o+s+(o*s?E.gap:0),v=(g-o)/2,b=(g-s)/2,x=h<n+r?0:Math.sqrt(n*n)/h,y=h<n+r?0:Math.sqrt(r*r)/h;return[H(i,a,m,f,t,e,y,1-x,v,o),H(t,e,m,f,i,a,x,1-y,b,s)]}function R(){if("none"!=x.style.display){var t=[];if(y)var e=S[y];if(e&&e.sorted){for(var i=E.count.type,a=E.count.number,n={incoming:"value1",outgoing:"value2"},r={arrows:0,neighbours:0,incoming:0,outgoing:0},o={},s=0,l=e.sorted.length;s<l;s++){var d=e.sorted[s];for(var c in n)if(E[c]&&d[c]){if("overall"==i)var p=r.arrows<a;else if("countries"==i)p=r.neighbours<a||o[d[c]];else p=r[c]<a;p&&(o[d[c]]||(o[d[c]]={value1:0,value2:0},r.neighbours++),o[d[c]][n[c]]=d.value,r.arrows++,r[c]++)}}var h=0;L={};var u=w.center(y);for(var m in o){var f=S[m],g=w.center(m),v=F(u.x,u.y,g.x,g.y,A*e.r,A*f.r,o[m].value1,o[m].value2);if(h+=mw.Map.HITCOLORSTEP,L[h]={to:y,from:m},T){var b=h.toString(16);v[0].push("#000000".slice(0,7-b.length)+b)}else v[0].push(h);if(h+=mw.Map.HITCOLORSTEP,L[h]={to:m,from:y},T){b=h.toString(16);v[1].push("#000000".slice(0,7-b.length)+b)}else v[1].push(h);t.push(v)}}return M(t)}}function W(t){p.clearRect(0,0,T.width,T.height),h.clearRect(0,0,T.width,T.height);for(var e=0,i=t.length;e<i;e++)for(var a=0;a<2;a++){var n=t[e][a];if(n.length){p.fillStyle=E.color[a?"outgoing":"incoming"],p.strokeStyle=E.stroke[a?"outgoing":"incoming"],h.fillStyle=n.pop(),p.beginPath(),h.beginPath();for(var r=0,o=n.length;r<o;r++){var s=n[r][0],l=n[r][1];p[0==r?"moveTo":"lineTo"](s,l),h[0==r?"moveTo":"lineTo"](s,l)}p.fill(),h.fill(),E.stroke.width&&p.stroke()}}}function X(t){for(var e=mw.support.mousepos(t),i=h.getImageData(e.x-2,e.y-2,5,5),a=i.data,n=4*(2*i.width+3),r=0;r<=n;r+=4){var o=a[e=n+r]<<16|a[e+1]<<8|a[e+2];if(L[o])return L[o];if(r&&(o=a[e=n-r]<<16|a[e+1]<<8|a[e+2],L[o]))return L[o]}}function l(t){for(var e='<g id="arrows">',i=0,a=t.length;i<a;i++)for(var n=0;n<2;n++){var r=t[i][n];if(r.length){var o=r.pop();o=parseInt(o.substr(1),16);for(var s=mw.support.stripAlpha(E.color[n?"outgoing":"incoming"]),l=mw.support.stripAlpha(E.stroke[n?"outgoing":"incoming"]),d=[],c=0,p=r.length;c<p-1;c++)d.push(0==c?"M":"L",r[c][0],",",r[c][1]);var h=L[o].from+"-"+L[o].to;d.length&&(e+='<path id="'+h+'" fill="'+s.color+'" stroke="'+l.color+'" ',s.opacity&&(e+=' fill-opacity="'+s.opacity+'"'),l.opacity&&(e+=' stroke-opacity="'+l.opacity+'"'),e+=' d="'+d.join("")+'Z"/>')}}return e+="</g>"}function G(t){var e=mw.Map.VMLSUBPIXEL,i=Math.round;x.innerHTML="";for(var a=0,n=t.length;a<n;a++)for(var r=0;r<2;r++){var o=t[a][r];if(o.length){var s=o.pop(),l=E.color[r?"outgoing":"incoming"];if("rgba"==l.substr(0,4)){var d=l.lastIndexOf(",");l="rgb"+l.substr(4,d-4)+')" opacity="'+l.substr(d+1,l.length-d-2)}var c=E.stroke[r?"outgoing":"incoming"];if("rgba"==c.substr(0,4)){d=c.lastIndexOf(",");c="rgb"+c.substr(4,d-4)+')" opacity="'+c.substr(d+1,c.length-d-2)}for(var p=[],h=(d=0,o.length);d<h-1;d++)p.push(0==d?" m ":" l ",i(e*o[d][0]),",",i(e*o[d][1]));var u='<v:shape id="'+(L[s].from+L[s].to)+'" filled="true" ';E.stroke.width&&(u+='stroked="true" '),u+='style="position:absolute; width:10px; height:10px" ',u+='coordorigin="0 0" coordsize="'+10*e+" "+10*e+'" path="'+p.join("")+'">',u+='<v:fill color="'+l+'"/>',E.stroke.width&&(u+='<v:stroke color="'+c+'"/>'),u+="</v:shape>",x.insertAdjacentHTML("BeforeEnd",u)}}}function j(t){if(t.srcElement.parentNode==x){var e=t.srcElement.id;return{from:e.substr(0,e.length/2),to:e.substr(e.length/2)}}}},mw=window.mw||{},mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.Circles=function(t){var s,p,c,h,u,m,i,r,n,l,d,f,g,v,b,o,x={},a=0,y={},w=!1,k=(w=!1,new mw.Dispatcher),M=mw.support.extend(t||{},{color:"rgba(255,255,255,0.5)",size:!1,nodata:"#d5d7da",stroke:{width:1,color:"rgb(255,255,255)"},speed:{play:5},events:{hover:"follow",click:!1},items:null,sizefactor:10,totalsurface:1500,maximum:"dataset",visible:!0});return s={init:function(t){n=(p=t).settings.busy,(c=document.createElement("div")).className="map-circle-layer",c.style.position="absolute",c.style.top=0,c.style.left=0,M.visible?p.toggleClass("circle-layer-active",!0):c.style.display="none";M.latest=p.settings().latest,window.requestAnimationFrame?window.requestAnimationFrame:window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame:window.mozRequestAnimationFrame?window.mozRequestAnimationFrame:window.msRequestAnimationFrame?window.msRequestAnimationFrame:function(t){setTimeout(t,20)};M.parent?M.parent.appendChild(c):p.panes().appendChild(c);switch(i=p.state(),r=i.data(),p.type()){case"canvas":l=D,d=B,(f=document.createElement("canvas")).width=p.width(),f.height=p.height(),f.style.position="absolute",f.style.pointerEvents="none","Microsoft Internet Explorer"==navigator.appName&&mw.support.attachEvent(f,"click",function(t){mw.support.fireEvent(f.parentNode,t)}),g=f.getContext("2d"),c.appendChild(f);var e=document.createElement("canvas");e.width=f.width,e.height=f.height,(v=e.getContext("2d")).lineWidth=0;break;case"vml":l=H,d=F}!0===M.color?i.listen("indicator",function(t){E(t,"colors")}):M.color&&L(M.color);!0===M.indicator?i.listen("indicator",function(t){E(t,"sizes")}):M.indicator&&E(M.indicator,"sizes");p.listen("bounds",z),p.listen("size",S),p.listen("region",P),p.listen("year",T),p.listen("resizestart",function(){c.style.display="none",a++}),p.listen("resizeend",C),40<mw.performance&&(p.listen("zoomstart",function(){c.style.display="none",a++}),p.listen("zoomend",C));if(M.events.hover){var o;p.listen("mouseout",function(t){if("none"!=c.style.display)return o?(k.dispatch(s,"hover",null),!(o=null)):void 0}),p.listen("mousemove",function(t){if("none"!=c.style.display){var e=d(t),i="follow"==M.events.hover;if(o!=e||e&&i){if(e){var a={target:s,geoitem:e,indicator:M.indicator};if(i){var n=mw.support.mousepos(t);a.x=n.x+(f?0:currentScale*(r.bbox[0]+offsetX)),a.y=n.y+(f?0:currentScale*(r.bbox[1]+offsetY))}else{var r=p.center(e);a.x=r.x,a.y=r.y}k.dispatch(s,"hover",a)}else k.dispatch(s,"hover",null);return o=e,!0}}})}M.events.click&&p.listen("mousedown",function(t){var e=d(t);if(e)return k.dispatch(s,"click",{target:s,geoitem:e}),!0})},lock:function(){w=!0},unlock:function(t){w=!1,t&&N()},toggle:function(t){if(void 0===t&&(t=!("none"!=c.style.display)),M.visible!=t)return M.visible=t,c&&(c.style.display=t?"block":"none"),t&&!h&&I(),t&&N&&N(),p&&p.toggleClass("circle-layer-active",t),t},set:function(t,e){mw.support.extend(t,M),(e||void 0===e)&&N&&(I(),N())},color:function(t){L(t)},size:function(t,e){null==t&&null==e?function(){for(var t in x)x[t].sizes={}}():function(t,e){e||(e=t,t=(new Date).getFullYear());var i=M.visible&&(t==m||!m);m||(m=t);if(e instanceof Function){for(var a=M.items||p.items(),n=0,r=a.length;n<r;n++){var o=a[n];x[o]||(x[o]={color:"",sizes:{}}),x[o].sizes[t]=e(o)}i&&N&&(I(),N())}else if("string"==typeof e)E(e,"sizes");else{for(var o in e)x[o]||(x[o]={color:"",sizes:{}}),x[o].sizes[t]=e[o];i&&N&&(I(),N())}}(t,e)},animate:function(e){h||I();for(var i=1,a=h.slice(),n=0;n<a.length&&a[n].radius;n++);e=e||(r.meta.speed?r.meta.speed:M.speed.play),e/=n,k.dispatch(s,"animationstart"),function t(){i<n?(h=a.slice(0,i++),N(),o=setTimeout(t,1e3*e)):(h=a,k.dispatch(s,"animationend"))}()},stop:function(){clearTimeout(o)},listen:function(t,e){k.register(t,e)},unlisten:function(t,e){k.remove(t,e)},exportPNG:function(t){M.visible&&f&&t.drawImage(f,0,0)},exportSVG:function(){return function(){if("none"==c.style.display)return;for(var t="",e=M.stroke&&M.stroke.width?M.stroke.color||"#ffffff":null,i=0,a=h.length;i<a;i++){var n=h[i],r=x[n.id].color,o=p.center(n.id),s=mw.support.stripAlpha(r||M.color),l=mw.support.stripAlpha(e);t+='<circle id="c-'+n.id+'" cx="'+o.x+'" cy="'+o.y+'" r="'+n.pxradius+'" ',t+='fill="'+s.color+'" stroke="'+l.color+'"',s.opacity&&(t+=' fill-opacity="'+s.opacity+'"'),l.opacity&&(t+=' stroke-opacity="'+l.opacity+'"'),t+="/>"}return'<g id="circles">'+t+"</g>"}()}};function T(t){m=t,I(),L(M.legend?A:M.color)}function S(t){f&&(f.width=t.width,v.canvas.width=t.width,f.height=t.height,v.canvas.height=t.height),h&&M.sizefactor instanceof Function&&O(),N()}function C(){a=Math.max(0,a-1),M.visible&&!a&&(c.style.display="block"),I(),N()}function A(t){var e,i=M.legend,a=x[t].colors;return a&&i?(e=M.latest?(e=mw.support.latest(a,m,M.latest)).value:a[m],mw.support.legendColor(i,e)):M.nodata}function L(t){if(t instanceof Function||"string"==typeof t)for(var e=M.items||(p?p.items():[]),i=0,a=e.length;i<a;i++){var n=e[i];x[n]||(x[n]={color:"",sizes:{}}),x[n].color=t instanceof Function?t(n):t}else for(var n in t)x[n]&&(x[n].color=t[n]);N()}function E(i,a){n&&(n.style.display="block"),r.load(i,function(){n&&(n.style.display="none");var t=r.indicators[i];if(t){for(var e in"colors"==a&&(M.legend=r.parseLegend(i)),t.values)x[e]||(x[e]={color:"",sizes:{}}),x[e][a]=t.values[e];"sizes"==a&&I(),L(M.legend?A:M.color)}})}function z(t){N()}function P(t){I(),N()}function O(){for(var t=Math.sqrt,e=M.sizefactor instanceof Function?M.sizefactor():M.sizefactor,i=0,a=h.length;i<a;i++)h[i].pxradius=t(h[i].radius/u*e*M.totalsurface)}function I(){if(p){var t=Math.max;h=[],u=0;for(var e={},i=M.items||p.items(),a=0,n=i.length;a<n;a++){var r=i[a];if(l=x[r])for(var o in l.sizes)e[o]?e[o]+=l.sizes[o]:e[o]=l.sizes[o]}if(isNaN(+M.maximum))if("year"==M.maximum)if(M.latest){var s=mw.support.latest(e,m,M.latest);u=s.value}else u=e[m];else for(var o in e)u=t(u,e[o]);else u=+M.maximum;for(a=0,n=i.length;a<n;a++){var l;r=i[a];if(l=x[r]){var d;if(M.latest&&l.sizes)d=(s=mw.support.latest(l.sizes,m,M.latest)).value||0;else d=l.sizes&&l.sizes[m]?l.sizes[m]:0;var c={id:r,radius:d};h.push(c)}}h.sort(function(t,e){return t.radius>e.radius?-1:1}),O()}}function N(){if(l&&"none"!=c.style.display&&h&&!w){f?(g.clearRect(0,0,f.width,f.height),v.clearRect(0,0,f.width,f.height)):c.innerHTML="",b=0,y={};for(var t=M.stroke&&M.stroke.width?M.stroke.color||"#ffffff":null,e=0,i=h.length;e<i;e++){var a=h[e],n=a.id,r=p.center(n),o=x[n].color;l(n,t,o||M.color,r.x,r.y,a.pxradius)}}}function D(t,e,i,a,n,r){e&&(g.strokeStyle=M.stroke.color||"#ffffff",g.lineWidth=1),b+=mw.Map.HITCOLORSTEP,y[b]=t,g.fillStyle=i;var o=b.toString(16);v.fillStyle="#000000".slice(0,7-o.length)+o,g.beginPath(),v.beginPath(),g.arc(a,n,r,0,2*Math.PI,!0),g.closePath(),v.arc(a,n,r,0,2*Math.PI,!0),v.closePath(),e&&g.stroke(),g.fill(),v.fill()}function B(t){for(var e=mw.support.mousepos(t),i=v.getImageData(e.x-2,e.y-2,5,5),a=i.data,n=4*(2*i.width+3),r=0;r<=n;r+=4){var o=a[e=n+r]<<16|a[e+1]<<8|a[e+2];if(y[o])return y[o];if(r&&(o=a[e=n-r]<<16|a[e+1]<<8|a[e+2],y[o]))return y[o]}}function H(t,e,i,a,n,r){var o=Math.round,s=mw.Map.VMLSUBPIXEL;if("rgba"==i.substr(0,4)){var l=i.lastIndexOf(",");i="rgb"+i.substr(4,l-4)+')" opacity="'+i.substr(l+1,i.length-l-2)}var d='<v:shape id="'+t+'" filled="true"';e&&(d+=' stroked="true"'),d+=' style="position:absolute;width:10px;height:10px"',d+=' coordorigin="0 0" coordsize="'+10*s+" "+10*s+'" path="'+("ae "+o(s*a)+","+o(s*n)+" "+o(s*r)+" "+o(s*r)+" 0 23592960 x e")+'">',d+='<v:fill color="'+i+'"/>',e&&(d+='<v:stroke color="'+e+'"/>'),d+="</v:shape>",c.insertAdjacentHTML("BeforeEnd",d)}function F(t){if(t.srcElement.parentNode==c){var e=t.srcElement.id;return{from:e.substr(0,e.length/2),to:e.substr(e.length/2)}}}},mw=window.mw||{},mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.Highlight=function(options){var me,map,layer,tooltip,settings=mw.support.extend(options||{},{constrain:!0,persist:!1,template:"<div class='label'>{GEOITEM}</div><div class='value'>{VALUE}</div>"}),currentYear,currentIndicator,currentEvent,currentHoverKey,datamanager,adx,ady;return{init:initialize,toggle:function(t){return void 0===t&&(t=!("none"!=tooltip.style.display)),tooltip.style.display=t?"block":"none",t},show:function(t,e,i){currentHoverKey=null,tooltip.innerHTML='<div class="map-tooltip-anchor"></div><div class="map-tooltip-tip"></div>'+i,tooltip.className="map-tooltip",position(t,e)},hide:function(){currentHoverKey=null,tooltip&&(tooltip.className=tooltip.className.replace("map-tooltip","map-hidden-tooltip map-tooltip"))},set:function(t){mw.support.extend(t,settings)}};function position(t,e){var i=tooltip.firstChild;if(i&&settings.constrain){null==adx&&(adx=1-i.offsetLeft/tooltip.clientWidth,ady=i.offsetTop/tooltip.clientHeight);var a=tooltip.clientWidth*adx,n=tooltip.clientHeight*ady,r=tooltip.parentNode.clientWidth||tooltip.parentNode.parentNode.clientWidth,o="map-tooltip ";e-n<0&&(o+="anchor-top "),t-a<0?o+="anchor-left":r<t+a&&(o+="anchor-right"),tooltip.className=o}i&&(t-=i.offsetLeft,e-=i.offsetTop),tooltip.style.left=t+"px",tooltip.style.top=e+"px"}function onHover(e){if(e){var item1=datamanager?datamanager.geoitems[e.geoitem||e.from]:{},item2=datamanager?datamanager.geoitems[e.to]:{},hasdm=datamanager&&datamanager.value instanceof Function,geokey=(e.geoitem||e.from)+"-"+e.to,indic=e.indicator||currentIndicator,year=e.year||currentYear,t;if(geokey+"-"+year+"-"+indic!=currentHoverKey){if(t=settings.template instanceof Function?settings.template.call(tooltip,e):settings.template,!1===t)return onHover(null);var val=e.value;if(!val&&hasdm){var latest;if(settings.format)val=settings.latest?(latest=mw.support.latest(datamanager.tag("values",indic,e.geoitem),year,settings.latest),latest.value):datamanager.tag("values",indic,e.geoitem,year),null!=val&&(val=mw.support.format(settings.format,val),settings.latest&&year!=latest.year&&-1==t.indexOf("{YEAR}")&&(val+=" ("+latest.year+")"),settings.latest&&(year=latest.year));else if(settings.latest){var latest=datamanager.latest(indic,e.geoitem,year,datamanager.meta.nodata,settings.latest);val=latest.value,year!=latest.year&&null!=val&&-1==t.indexOf("{YEAR}")&&(val+=" ("+latest.year+")"),year=latest.year}else val=datamanager.value(indic,e.geoitem,year);null==val&&(val=datamanager.meta.nodata?datamanager.meta.nodata:"")}for(var pattern=/\{([^}]+)\}/g,replacements={},match;match=pattern.exec(t);)if("FROM"==match[1]&&item1)replacements[match[0]]=item1.label;else if("TO"==match[1]&&item2)replacements[match[0]]=item2.label;else if("INDICATOR"==match[1])replacements[match[0]]=datamanager.indicators[indic].label;else if("GEOITEM"==match[1].substr(0,7)&&item1){var g=match[1].split(":");replacements[match[0]]=item1[g[1]||"label"],item2&&(replacements[match[0]]+=" - "+item2[g[1]||"label"])}else if("YEAR"==match[1])replacements[match[0]]=year;else if("VALUE"==match[1].substr(0,5)){var iid=match[1].split(":");if(2==iid.length){var v=datamanager.value(iid[1],e.geoitem,year,0);settings.format&&(v=mw.support.format(settings.format,v)),replacements[match[0]]=v}else replacements[match[0]]=val}else if("UNIT"==match[1])replacements[match[0]]=indic?datamanager.indicators[indic].unit:"";else if("PERCENT"==match[1])replacements[match[0]]=e.hasOwnProperty("percent")?mw.support.format(e.percent):"";else if("TOTAL"==match[1])replacements[match[0]]=e.hasOwnProperty("total")?mw.support.format(e.total):"";else if("NOTE"==match[1])replacements[match[0]]=datamanager.tag("notes",indic,e.geoitem,year)||"no note";else if(e.geoitem&&hasdm){for(var indics=/[A-Za-z0-9_\.]+/g,expr=match[1];match2=indics.exec(match[1]);){var v=datamanager.value(match2[0],e.geoitem,year,0);if(settings.format&&(v=mw.support.format(settings.format,v)),expr=expr.replace(match2[0],v),match[1]==match2[0])break}match2&&match[1]==match2[0]?replacements[match[0]]=expr:replacements[match[0]]=eval(expr)}for(var key in replacements)t=t.replace(key,void 0===replacements[key]?"":replacements[key])}else t=!0;currentEvent=e,currentHoverKey=geokey+"-"+year+"-"+indic,!0!==t&&(tooltip.innerHTML='<div class="map-tooltip-anchor"></div><div class="map-tooltip-tip"></div>'+t,tooltip.className="map-tooltip"),position(e.x,e.y)}else settings.persist||(currentHoverKey&&(tooltip.className=tooltip.className.replace("map-tooltip","map-hidden-tooltip map-tooltip")),currentEvent=currentHoverKey=null)}function initialize(t){map=t,(layer=document.createElement("div")).className="map-highlight-layer",layer.style.position="absolute",layer.style.top=0,layer.style.left=0,(tooltip=document.createElement("div")).className="map-hidden-tooltip map-tooltip",tooltip.style.position="absolute",tooltip.style.pointerEvents="none",layer.appendChild(tooltip),datamanager=map.state().data(),settings.parent?settings.parent.appendChild(layer):map.panes().appendChild(layer),settings.latest=map.settings().latest,map.listen("indicator",function(t){var e=datamanager.indicators[t];e&&e.hover_label&&(settings.template=e.hover_label),currentIndicator=t}),map.listen("year",function(t){currentYear=t,"none"!=tooltip.style.display&&currentEvent&&onHover(currentEvent)}),map.listen("bounds",function(){currentHoverKey=currentEvent=null,tooltip.className="map-hidden-tooltip map-tooltip"}),map.listen("hover",onHover)}},mw=window.mw||{},mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.Info=function(t){var o,d,c,s,e,p={},h={},n=0,r=[],l=1,u=0,m=0,f=0,g=0,i={resizing:!1,zooming:!1,resized:!1},v=new mw.Dispatcher,b=mw.support.extend(t||{},{pin:"<div class='pin'></div>",events:{click:!0,hover:!1,add:!1,delete:!1,move:!1},visible:!0,width:null,height:null});return o={init:function(t){d=t,(c=document.createElement("div")).className="map-info-layer",c.style.position="absolute",c.style.top=0,c.style.left=0,t.settings.busy,b.visible||(c.style.display="none");b.events.click&&mw.support.attachEvent(c,"click",x);b.events.hover&&(mw.support.attachEvent(c,"mouseout",w),mw.support.attachEvent(c,"mouseover",y));b.parent?b.parent.appendChild(c):d.panes().appendChild(c);d.listen("bounds",M),d.listen("size",k),d.listen("ready",function(){for(var t in r)S(r[t])}),d.listen("resizestart",function(t){i.resizing=!0,i.resized=!1!==t,i.resized&&(c.style.display="none")}),d.listen("resizeend",function(t){i.resizing=!1,!b.visible||i.resized||i.zooming||(c.style.display="block")}),d.listen("zoomstart",function(){i.zooming=!0,c.style.display="none"}),d.listen("zoomend",function(){i.zooming=!1,!b.visible||i.resizing||i.resized||(c.style.display="block")})},toggle:function(t){return void 0===t&&(t=!b.visible),b.visible=t,c&&(c.style.display=t?"block":"none"),t},set:function(t){mw.support.extend(t,b)},destroy:function(){v.destroy(),b.events.click&&mw.support.removeEvent(c,"click",x),b.events.hover&&(mw.support.removeEvent(c,"mouseover",y),mw.support.removeEvent(c,"mouseout",w))},add:S,clear:function(){c&&(c.innerHTML=""),p={},h={},r=[]},listen:function(t,e){v.register(t,e)},unlisten:function(t,e){v.remove(t,e)},edit:function(t){e=t,c.style.height=e?(c||console.log("Info-layer: cannot enable editing on un-initialized layer"),c&&mw.support.attachEvent(c,"mousedown",a),c.style.width="100%"):(c&&mw.support.removeEvent(c,"mousedown",a),c.style.width="")}};function a(t){var e=(t=t||window.event).target||t.srcElement,r=e.id;if("map-info-layer"==e.className){if(b.events.add instanceof Function){var i=d.xy2xy(t.offsetX,t.offsetY);mw.support.extend(d.xy2latlng(t.offsetX,t.offsetY),i),b.events.add({position:i},d)}}else if(t.ctrlKey)p[r]&&b.events.delete instanceof Function&&(b.events.delete(p[r]),d&&(c.removeChild(h[r]),delete h[r],delete p[r]));else if(b.events.move instanceof Function){var a=h[r],o=t.pageX-a.offsetLeft-t.offsetX,s=t.pageY-a.offsetTop-t.offsetY;function l(t){t=t||window.event,a.style.left=t.pageX-o+"px",a.style.top=t.pageY-s+"px",mw.support.preventDefault(t)}mw.support.attachEvent(document,"mousemove",l),mw.support.attachEvent(document,"mouseup",function t(e){e=e||window.event,mw.support.removeEvent(document,"mousemove",l),mw.support.removeEvent(document,"mouseup",t),mw.support.removeEvent(document,"selectstart",mw.support.preventDefault),mw.support.preventDefault(e);var i=p[r],a=e.pageX-o,n=e.pageY-s;i.position=i.position.hasOwnProperty("lat")?d.xy2latlng(a,n):d.xy2xy(a,n),b.events.move(i,d)}),mw.support.attachEvent(document,"selectstart",mw.support.preventDefault)}}function x(t){var e=(t=t||window.event).target||t.srcElement;if(e!=c){var i=e.getAttribute("id");v.dispatch(o,"click",i)}}function y(t){var e=(t=t||window.event).target||t.srcElement;if(e!=c){var i=e.getAttribute("id"),a="follow"==b.events.hover;if(i!=s||i&&a){var n={target:o,pin:i};if(a){var r=mw.support.mousepos(t);n.x=r.x,n.y=r.y}else n.x=e.offsetLeft+.5*e.offsetWidth,n.y=e.offsetTop+.5*e.offsetHeight;v.dispatch(o,"hover",n),s=i}}}function w(t){s=null,v.dispatch(o,"hover",null)}function k(){0==f&&(f=b.width||d.width(),g=b.height||d.height());var t=d.width(),e=d.height();for(var i in p){var a=p[i],n=h[i];if(a.position.x)var r={x:l*(a.position.x/f*t+u),y:l*(a.position.y/g*e+m)};else r=d.latlng2xy(a.position.lat,a.position.lng);n.style.display=0<r.x&&0<r.y&&r.x<t&&r.y<e?"block":"none",n.style.left=r.x+"px",n.style.top=r.y+"px"}}function M(t){l=t.zoom,u=t.offset.x,m=t.offset.y,k()}function T(t){for(var e in t)S(t[e])}function S(t){if(d&&d.ready())if("string"!=typeof t){var e=t.pin||b.pin,i=document.createElement("div");if(i.innerHTML=e,1!=i.firstChild.nodeType?c.appendChild(i):c.appendChild(i=i.firstChild),i.id=t.id||"pin"+n++,t.title&&(i.title=t.title),i.style.position="absolute",t.position.x)i.style.left=l*(t.position.x+u)+"px",i.style.top=l*(t.position.y+m)+"px";else{var a=d.latlng2xy(t.position.lat,t.position.lng||t.position.lon);i.style.left=a.x+"px",i.style.top=a.y+"px"}p[i.id]=t,h[i.id]=i}else mw.support.ajax({url:t,success:T});else r.push(t)}},mw=window.mw||{},mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.Labels=function(t){var p,r,o,h={},e={resizing:!1,zooming:!1,resized:!1},u=mw.support.extend(t||{},{type:"width",items:null,sizes:[100,150],visible:!0});return{init:function(t){o=(p=t).state().data(),(r=document.createElement("div")).className="map-label-layer",r.style.position="absolute",r.style.top=0,r.style.left=0,u.visible||(r.style.display="none");u.parent?u.parent.appendChild(r):p.panes().appendChild(r);p.listen("bounds",a),p.listen("size",a),p.listen("region",i),p.listen("ready",i),p.listen("resizestart",function(t){e.resizing=!0,e.resized=!1!==t,r.style.display="none"}),p.listen("resizeend",function(t){e.resizing=!1,u.visible&&!e.zooming&&(a(),r.style.display="block")}),p.listen("zoomstart",function(){e.zooming=!0,r.style.display="none"}),p.listen("zoomend",function(){e.zooming=!1,u.visible&&!e.resizing&&(r.style.display="block")})},toggle:function(t){return void 0===t&&(t=!u.visible),u.visible=t,r&&(r.style.display=t?"block":"none"),t},set:function(t){mw.support.extend(t,u)}};function i(){var t=u.items||p.items();r.innerHTML="",h={};for(var e=0;e<t.length;e++){var i=t[e],a=o?o.geoitems[i]:{label:i},n=document.createElement("div");n.className="map-label",n.style.position="absolute",n.style.pointerEvents="none",n.setAttribute("data-label",a.label),n.setAttribute("data-id",i),r.appendChild(n),h[i]=n}}function a(t){var e=p.width(),i=p.height(),a=u.sizes,n=a.length,r=u.type instanceof Function?u.type:p[u.type];for(var o in h){var s=h[o],l=p.center(o),d=r(o);s.style.display=!isNaN(d)&&!1!==d&&void 0!==d&&0<l.x&&0<l.y&&l.x<e&&l.y<i?"block":"none";for(var c=0;c<n&&!(a[c]>d);c++);s.setAttribute("data-size",c),s.style.left=l.x+"px",s.style.top=l.y+"px"}}},mw=window.mw||{},mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.Legend=function(e){var a;return{init:function(t){(a=document.createElement("div")).className="map-legend",e.parent?e.parent.appendChild(a):t.panes().appendChild(a),t.listen("legend",function(t){var e="";for(var i in t){if(t[i].label&&""!=t[i].label)e+='<div class="map-legend-item"><div class="map-legend-swatch"',e+=' style="background-color: '+(t[i].color||t[i].cssColour)+'"></div>',e+=t[i].label,e+="</div>"}a.innerHTML=e})}}},mw=window.mw||{},mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.Slider=function(t){"ontouchstart"in document.documentElement||navigator.maxTouchPoints;var e,r,o,s=t&&t.hasOwnProperty("range"),l=mw.support.extend(t||{},{indicator:!0,orientation:"horizontal",play:!1,padding:{before:0,after:0},range:{minimum:1980,maximum:(new Date).getFullYear()}});return{init:function(i){var a,n;if((e=document.createElement("div")).className="year-slider",o=i.state().data(),l.parent?l.parent.appendChild(e):i.panes().appendChild(e),r=new mw.Slider(e,l),l.play){function t(){var e=!0===l.play?5:l.play;if("play-button"==a.className){if(i.play)i.play();else{if(l.range.minimum==1/0)return;l.value==l.range.maximum&&(l.value=l.range.minimum-1),function t(){l.value<l.range.maximum?(l.value++,i.year(l.value),r.set(l.value),n=setTimeout(t,1e3*e)):a.className="play-button"}()}a.className="stop-button"}else i.stop?i.stop():clearTimeout(n),a.className="play-button"}(a=document.createElement("div")).className="play-button",e.appendChild(a),mw.support.attachEvent(a,"mousedown",t),mw.support.attachEvent(a,"touchstart",t)}r.listen("update",function(t){i.year(t)}),l.value?i.year(l.value):i.year(r.value()),l.indicator&&i.listen("indicator",function(t){var e=o.indicators[t];if(e){var i=l.range.minimum,a=l.range.maximum,n=1;(!s||e.statistics.range.from<i)&&(i=e.statistics.range.from),(!s||e.statistics.range.to>a)&&(a=e.statistics.range.to),1<e.statistics.frequency&&(n=4==e.statistics.frequency?"Q":"M"),r.range(i,a,n)}}),i.listen("year",function(t){r.set(t),a&&t==l.range.maximum&&(a.className="play-button")})},range:function(t,e,i){l.range.minimum=t,l.range.maximum=e,i&&(l.range.step=i),r&&r.range(t,e,i)},value:function(){return r?r.value():l.range.maximum},destroy:function(){r.destroy(),e&&(e.parentNode&&e.parentNode.removeChild(e),delete e)}}},mw=window.mw||{},mw.map=mw.map||{},mw.map.layers=mw.map.layers||{},mw.map.layers.Tiles=function(t){var o,s,e,l,d,c=0,p={x:0,y:0},i=new mw.Dispatcher,h=mw.support.extend(t||{},{visible:!0,zoom:2,style:null,fade:!0,background:"#b3d1ff",center:{lat:0,lng:0}});return{init:function(t){o=t,(s=document.createElement("div")).className="map-tile-layer",s.style.position="absolute",s.style.top=0,s.style.left=0,s.style.width="100%",s.style.height="100%",e=o.settings("speed").zoom,h.visible?(o.toggleClass("tile-layer-active",!0),a()):s.style.display="none"},toggle:function(t){if(void 0===t&&(t=!("none"!=s.style.display)),h.visible!=t)return h.visible=t,s&&(s.style.display=t?"block":"none"),o&&(o.toggleClass("tile-layer-active",t),o.set({speed:{zoom:h.visible?.001:e}}),h.visible?l?(o.projection(u),f()):a():o.projection(!1)),t},set:function(t){mw.support.extend(t,h)},listen:function(t,e){i.register(t,e)},unlisten:function(t,e){i.remove(t,e)}};function u(t,e){var i=Math.sin(t*Math.PI/180);i<-.9999&&(i=-.9999),.9999<i&&(i=.9999);var a=c+e*(2*c/360),n=c+.5*Math.log((1+i)/(1-i))*(-2*c/(2*Math.PI));return{x:a-p.x,y:n-p.y}}function a(){l=new google.maps.Map(s,{disableDefaultUI:!0,backgroundColor:h.background,minZoom:1,center:h.center,zoom:h.zoom}),h.style&&(h.style instanceof Object?(l.mapTypes.set("custom",new google.maps.StyledMapType(h.style,{name:"Custom"})),l.setMapTypeId("custom")):mw.support.ajax({url:h.style,success:function(t){"string"==typeof t&&"{"==t.substr(0,1)&&(t=JSON.parse(t)),l.mapTypes.set("custom",new google.maps.StyledMapType(t,{name:"Custom"})),l.setMapTypeId("custom")}})),(d=new WrapOverlay).setMap(l),google.maps.event.addListenerOnce(l,"bounds_changed",m),google.maps.event.addListener(l,"resize",function(){setTimeout(function(){m(!0)},0)}),o.set({speed:{zoom:h.visible?.001:e}}),o.projection(u),h.parent?h.parent.appendChild(s):o.panes(mw.map.layers.BELOW).appendChild(s),o.listen("zoomstart",r),o.listen("zoomend",f),o.listen("pan",n)}function m(t){if(h.visible){c=256*Math.pow(2,l.getZoom()-1),p={x:0,y:0};var e=l.getBounds();if(e){p=u(e.getNorthEast().lat(),e.getSouthWest().lng());var i=d.getProjection();if(i){var a=i.getWorldWidth(),n=i.fromLatLngToContainerPixel(e.getSouthWest()).x,r=i.fromLatLngToContainerPixel(e.getNorthEast()).x;n<0&&p.x+s.clientWidth>a?p.x-=a:a<s.clientWidth&&(r+a>s.clientWidth&&a/2<n&&(r-=a),p.x-=r)}o.projection()?t||google.maps.event.trigger(l,"resize"):(l.setZoom(l.getZoom()-1),google.maps.event.addListenerOnce(l,"bounds_changed",m))}}}function n(t){l.panBy(-t.x,-t.y),p.x-=t.x,p.y-=t.y}function r(){h.visible&&h.fade&&(o.panes().style.opacity=0)}function f(t){setTimeout(function(){!function(t){var e,i;if(t){var a=o.box(t);e={lat:a[3],lng:a[0]},i={lat:a[1],lng:a[2]}}else e=o.xy2latlng(0,s.clientHeight,!0),i=o.xy2latlng(s.clientWidth,0,!0);e=new google.maps.LatLng(e.lat,e.lng,!0),i=new google.maps.LatLng(i.lat,i.lng,!0);var n=new google.maps.LatLngBounds(e,i);l.fitBounds(n),m(),h.fade&&google.maps.event.addListenerOnce(l,"idle",function(){o.panes().style.opacity=1})}(t)})}},window.google instanceof Object){function WrapOverlay(){}WrapOverlay.prototype=new google.maps.OverlayView,WrapOverlay.prototype.onAdd=function(){},WrapOverlay.prototype.draw=function(){},WrapOverlay.prototype.onRemove=function(){}}mw=window.mw||{},mw.chart=mw.chart||{},mw.Chart=function(t,K){var $,Z,Q,u,J,l,tt,et,it,at,d,o,n,nt,rt,s,c,r,p,ot,st,lt,dt,i=!0,a=!1,ct={},pt={},ht={x:{},y:{}},ut={title:null,exporting:{enabled:!1},chart:{animation:!1,spacingTop:10,spacingRight:12,spacingBottom:25},credits:{enabled:!1},tooltip:{enabled:!1},legend:{enabled:!1},plotOptions:{pie:{},column:{minPointLength:1},series:{center:["50%","50%"],connectNulls:!0,dataLabels:{enabled:!1},stickyTracking:!1,states:{},marker:{enabled:!1},point:{events:{mouseOver:k,mouseOut:k}}}},xAxis:{title:null,startOnTick:!1,endOnTick:!1,lineWidth:0,minorGridLineWidth:0,gridLineWidth:0,minorTickInterval:null,tickWidth:0,labels:{enabled:!1}},yAxis:{title:null,startOnTick:!1,reversedStacks:!1,endOnTick:!1,lineWidth:0,gridLineWidth:0,tickWidth:0,labels:{enabled:!1}}},mt={line:"line",bar:"bar",column:"column",donut:"pie",pie:"pie",pyramid:"bar",bubble:"bubble"},ft=new mw.Dispatcher,e=mw.support.extend(mw.chart.defaults||{});e=mw.support.extend(K||{},e);var gt=mw.support.extend(e,{type:"line",indicator:!1,geoitem:!1,year:!1,legend:!1,hover:"<div class='label'>{LABEL}</div><div class='value'>{VALUE}</div>",format:"%.02w",state:{manager:void 0,data:void 0,indicator:!0,year:!0,geoitem:!0},latest:!1,busy:null,background:"#ffffff",text:{charwidth:8.5,color:"#000000",font:"Arial",size:"10px",weight:"normal"},xaxis:{type:"timeseries",labels:5,multiples:!1,overlap:"hide",range:{minimum:"series",maximum:"series",extend:!0},format:null,text:null,offset:0},yaxis:{width:"auto",position:"left",labels:{prettify:!0,maximum:5,align:"default"},range:{minimum:"series",maximum:"series",zero:!0},format:null,text:null,offset:0,count:1},future:{from:!1,background:"#f0f0f0",style:"dash"},colors:!1,stacked:!1,line:{width:1,style:"solid",marker:!1,radius:3,secondary:"#cccccc",hover:{width:2,marker:"circle",radius:3}},column:{gradient:!1,hover:{color:"blue",background:"#f0f0f0"}},bar:{gradient:!1,hover:{color:"lighten",background:"#f0f0f0"}},donut:{radius:"60%"},pyramid:{},bubble:{radius:{minimum:5,maximum:"40%"},color:"region"},grid:{horizontal:{first:!0,last:!0,major:{width:1,color:"#dadada",style:"solid"},minor:{width:0,major:5,color:"#dadada",style:"solid"}},vertical:{first:!0,last:!0,major:{width:1,color:"#dadada",style:"solid"},minor:{width:0,major:10,color:"#dadada",style:"solid"}}},ticks:{width:1,color:"#dadada",length:7,major:!1,minor:!1,offset:0},export:{renderer:"https://www.mappingworlds.nl/export/",size:void 0,delay:1,template:void 0,selector:void 0,sheet:{type:"indicator",title:"id"},parameters:{}},options:{}});if(Z="string"==typeof t?document.getElementById(t):t,(Q=document.createElement("div")).style.position="relative",Q.style.width="100%",Q.style.height="100%",Q.className="chart-wrapper",Z.appendChild(Q),Z.setAttribute("data-chart-type",K.type),(u=document.createElement("div")).style.overflow="hidden",u.style.position="relative",u.className="chart-container",Q.appendChild(u),gt.state.manager instanceof mw.StateManager)n=gt.state.manager;else{var h=gt.state.data||gt.data;n=h instanceof mw.StateManager?h:new mw.StateManager({data:h}),null!==gt.busy||!h||h instanceof mw.DataManager||(gt.busy=!0)}gt.busy&&(!0===gt.busy&&(gt.busy=document.getElementById("busy"),gt.busy||(gt.busy=document.body.appendChild(document.createElement("div")),gt.busy.id="busy")),gt.busy.style.display="block");var m,f,g={geoitem:"indicator",indicator:"geoitem"};for(var v in g)if(("bubble"!=gt.type||"indicator"!=v)&&gt[v]instanceof Array){if("timeseries"==gt.xaxis.type||gt.xaxis.type==g[v]){for(var b=0;b<gt[v].length;b++)pt[gt[v][b]]=!0;st=pt}"string"==typeof gt.hover&&(gt.hover=gt.hover.replace("{LABEL}","{"+v.toUpperCase()+"}"))}if(gt.hover)if(gt.hover.init instanceof Function)l=gt.hover;else{var x={template:gt.hover};gt.format&&(x.format=gt.format),l=new mw.map.layers.Highlight(x)}gt.legend&&(tt=gt.legend.init instanceof Function?gt.legend:((m=gt.legend instanceof Object?mw.support.extend(gt.legend,{}):{interactive:gt.legend}).state&&(m.state=gt.state),new mw.chart.Legend(m)));("bubble"==gt.type&&("timeseries"==gt.xaxis.type&&gt.xaxis.type,gt.grid&&(gt.grid.horizontal.first=!0,gt.grid.horizontal.last=!0,gt.grid.vertical.first=!0,gt.grid.vertical.last=!0)),gt.values&&(ct=gt.values),"bar"!=mt[gt.type]&&"column"!=mt[gt.type]&&(gt.stacked=!1),K.xaxis&&K.xaxis.labels&&gt.xaxis.labels!==K.xaxis.labels&&(gt.xaxis.labels=K.xaxis.labels),function(){Highcharts.setOptions({chart:{style:bt(gt.text)}}),"donut"==gt.type&&(gt.xaxis.type=gt.indicator instanceof Array?"geoitem":"indicator",ut.plotOptions.series.innerSize=gt.donut.radius);"pyramid"==gt.type&&(ut.plotOptions.series.stacking="normal");"bubble"!=gt.type||gt.xaxis.labels instanceof Object||(gt.xaxis.labels=gt.yaxis.labels);!0===gt.stacked&&(gt.stacked="normal");var t=mt[gt.type];"pie"==t&&(ut.chart.margin=[0,0,0,0]);if("bar"==t){var e=gt.options.plotOptions?gt.options.plotOptions.bar:null;e&&e.hasOwnProperty("groupPadding")||(ut.plotOptions.series.groupPadding=0),e&&e.hasOwnProperty("pointPadding")||(ut.plotOptions.series.pointPadding=0)}"bar"!=t&&"column"!=t||gt.stacked&&(ut.plotOptions[t]||(ut.plotOptions[t]={}),ut.plotOptions[t].stacking=gt.stacked);ut.plotOptions.series.borderWidths="pie"==t?.5:0,ut.chart.type=t,ut.chart.renderTo=u,ut.chart.plotBackgroundColor=gt.background,ut.xAxis.type=gt.xaxis.type,ut.yAxis.type=gt.yaxis.type,ut.yAxis.opposite="right"==gt.yaxis.position,"bar"==t?(ut.yAxis.opposite=!ut.yAxis.opposite,"bar"==gt.type&&"auto"!=gt.yaxis.width&&(ut.xAxis.offset=gt.yaxis.width)):"auto"!=gt.yaxis.width&&(ut.yAxis.offset=gt.yaxis.width);gt.xaxis.offset&&(ut.xAxis.offset=gt.xaxis.offset);gt.yaxis.offset&&(ut.yAxis.offset=gt.yaxis.offset);"timeseries"!=gt.xaxis.type&&(ut.plotOptions.series.grouping=!1);var i=gt.line.style;i instanceof Array&&(i=i[i.length-1]);ut.plotOptions.series.dashStyle=i;var a=gt.line.width;a instanceof Array&&(a=a[a.length-1]);"bubble"!=gt.type&&(ut.plotOptions.series.lineWidth=a);var n=ut.plotOptions.series.marker;if("bubble"==gt.type)2==gt.indicator.length?(n.enabled=!0,n.symbol="circle",n.lineWidth=1,n.radius=parseInt(gt.bubble.radius.minimum)):(n.lineWidth=.5,n.lineColor="#fff",n.fillOpacity=1,ut.plotOptions.series.minSize=gt.bubble.radius.minimum,ut.plotOptions.series.maxSize=gt.bubble.radius.maximum),n.states={hover:{radiusPlus:1,lineWidth:2,lineWidthPlus:0,lineColor:"#fff"}},ut.plotOptions.series.states={hover:{halo:{opacity:1,size:2==gt.indicator.length?9:3}}};else{gt.line.marker&&(n.enabled=!0),gt.line.hover&&gt.line.hover.marker&&(n.states={hover:{enabled:!0,radius:gt.line.hover.radius,fillColor:null}},"circle"==gt.line.hover.marker&&(n.states.hover.lineWidth=a,n.states.hover.fillColor=gt.background));var r=gt.line.marker;!r&&gt.line.hover&&(r=gt.line.hover.marker),"circle"==r||"disc"==r?("circle"==r?(n.radius=gt.line.radius,n.lineWidth=a/2,n.fillColor=gt.background):n.radius=gt.line.radius,n.symbol="circle",n.lineColor=null):n.symbol=r}gt.future&&gt.future.from&&(ut.xAxis.plotBands=[{color:gt.future.background||"#c0c0c0",from:gt.future.from,to:999999}],dt="line"==gt.type&&gt.future.style!=gt.line.style&&gt.future.from);if("line"==gt.type&&gt.line.hover){dt&&(ut.plotOptions.series.events={mouseOut:M});var o=gt.line.hover.width;o instanceof Array&&(o=o[o.length-1]),ut.plotOptions.series.states.hover={lineWidth:o}}gt.ticks&&gt.ticks.minor&&(ut.xAxis.minorTickInterval=1,ut.xAxis.minorTickWidth=1,ut.xAxis.minorTickWidth=gt.ticks.minor.width,ut.xAxis.minorTickLength=gt.ticks.minor.length,ut.xAxis.minorTickColor=gt.ticks.minor.color,gt.ticks.length instanceof Array&&(ut.xAxis=[ut.xAxis,mw.support.extend(ut.xAxis,{})]));2==gt.yaxis.count&&(ut.yAxis=[ut.yAxis,mw.support.extend(ut.yAxis,{})],ut.yAxis[1].opposite=!ut.yAxis[1].opposite);if(gt.colors)if(gt.colors instanceof Function);else if(gt[gt.type].gradient){ut.colors=[];for(var s="lighten"==gt[gt.type].gradient?.1:-.1,l=0;l<gt.colors.length;l++){var d=gt.colors[l],c=mw.support.rgb2hsl(mw.support.css2rgb(d));c[2]=Math.max(0,Math.min(1,c[2]+s)),c=mw.support.rgb2css(mw.support.hsl2rgb(c)),ut.colors.push({linearGradient:{x1:0,y1:0,x2:1,y2:0},stops:[[0,d],[1,c]]})}}else ut.colors=gt.colors;else{ut.colors=[];for(var p=0;p<50;p++){var h=mw.support.hsl2rgb([Math.random(),.6,.6]);ut.colors.push(mw.support.rgb2css(h))}}}(),gt.state.year&&!gt.year&&"bubble"!=gt.type&&n.listen("year",w),gt.year&&!0!==gt.year&&!gt.year.init&&(rt=gt.year),gt.state.indicator&&n.listen("indicator",T),gt.state.geoitem&&n.listen("geoitem",S),(nt=n.data())&&nt.listen instanceof Function?(i=!1,nt.listen("ready",function(t){i=!0,setTimeout(C,0)})):setTimeout(C,0),gt.resize)&&mw.support.attachEvent(window,"resize",function(){clearTimeout(f),(u.clientWidth||u.offsetWidth)==r&&(u.clientHeight||u.offsetHeight)==p||(f=setTimeout(y,100))});return $={ready:function(){return i},destroy:function(){gt.state.year&&n.unlisten("year",w),gt.state.indicator&&n.unlisten("indicator",T),gt.state.geoitem&&n.unlisten("geoitem",S),ft.destroy(),J&&J.destroy(),l&&l.destroy&&l.destroy(),tt&&tt.destroy&&tt.destroy(),et&&et.destroy&&et.destroy(),Z.innerHTML=""},panes:function(){return Q},width:function(){return J?J.chartWidth:u.clientWidth||u.offsetWidth},height:function(){return J?J.chartHeight:u.clientHeight||u.offsetHeight},values:function(t){ct=t},year:function(t){gt.state.year&&!gt.year&&"bubble"!=gt.type?n.set("year",t):w(t)},redraw:function(t){t&&y(),vt()},add:function(t,e,i){var a;!0!==e&&!1!==e||void 0!==i||(i=e,e=null),a="bubble"==gt.type?"geoitem":gt.indicator instanceof Array&&"indicator"!=gt.xaxis.type?"indicator":"geoitem",gt.state[a]&&!e?n.set(a,t):(e?ct[t]=e:ct[t]||"indicator"!=a||(gt.indicator.push(t),S(gt.geoitem)),pt[t]=!0,(i||void 0===i)&&vt())},remove:function(t,e){pt[t]=!1,ft.dispatch($,"series",pt),(e||void 0===e)&&vt()},series:function(t,e){var i={};for(var a in pt)pt[a]&&-1==t.indexOf(a)&&(i[a]=!1);for(var n=0;n<t.length;n++)i[t[n]]=!0;ft.dispatch($,"series",pt=i),(e||void 0===e)&&vt()},state:function(){return n},position:function(t,e){return J?{x:J.xAxis[0].toPixels(t),y:J.yAxis[0].toPixels(e)}:{x:void 0,y:void 0}},set:function(t){mw.support.extend(t,gt),t.xaxis.labels&&(gt.xaxis.labels=t.xaxis.labels),(t.xaxis&&t.xaxis.range||t.yaxis&&t.yaxis.range)&&(lt=!1),vt()},settings:function(t){function e(){var t=[];for(var e in pt)pt[e]&&t.push(e);return t}return"geoitem"==t&&gt.geoitem instanceof Array?e():"indicator"==t?gt.indicator instanceof Array&&"bubble"!=gt.type?"indicator"==gt.xaxis.type?gt[t]:e():s||gt[t]:t?gt[t]:gt},type:function(t){return t?mt[gt.type]:gt.type},color:function(t){if(gt.legend.override&&gt.legend.override[t]&&gt.legend.override[t].color)return gt.legend.override[t].color;if(J){var e=J.get(t);if(e){var i=e.color;return i&&"string"!=typeof i?i.stops[0][1]:i}}return"#d5d7da"},highlight:function(a,t){if(J){function e(t){if(t instanceof Array){var e=0;for(var i in pt){if(i==a||e==t.length-1)break;e++}return t[e]}return t}if(it){var i=e(gt.line.width);if("line"==gt.type)(s=J.get(it))&&s.graph&&(s.graph.attr("stroke",s.color),s.graph.attr("stroke-width",s.graph.stroke==gt.line.secondary?i/2:i));if(at&&at.graph&&(at.graph.attr("stroke",at.color),at.graph.attr("stroke-width",at.graph.stroke==gt.line.secondary?i/2:i)),d)for(var a in d){if((s=J.get(a))&&s.graph&&(s.graph.attr("stroke",d[a]),s.graph.attr("stroke-width",i/2)),dt)(s=J.get(a+"-future"))&&s.graph&&(s.graph.attr("stroke",d[a]),s.graph.attr("stroke-width",i/2))}}var n=J.get(a);if(n){it=a;var r=e(gt.line.hover.width);"line"==gt.type&&n.graph&&(!t||t instanceof Array||n.graph.attr("stroke",t),n.graph.attr("stroke-width",r)),dt&&(at=J.get(a+"-future"))&&at.graph&&(!t||t instanceof Array||at.graph.attr("stroke",t),at.graph.attr("stroke-width",r))}if(t instanceof Array){d={};for(var o=0;o<t.length;o++){var s;a=t[o];if((s=J.get(a))&&s.graph)if(d[a]=s.graph.attr("stroke"),s.graph.attr("stroke",gt.line.secondary),dt)(s=J.get(a+"-future"))&&s.graph&&s.graph.attr("stroke",gt.line.secondary)}}}l&&l.hide()},export:function(t,e,i){return t=t||"png",null==i&&e instanceof Object?(i=e,e=void 0):i=i||{},!("png"==t&&!gt.export.renderer)&&("png"==t?function(t,e){var i=mw.support.extend(gt.export,{});mw.support.extend(A(),i.parameters),mw.support.extend(e,i),i.download=!0,i.format="png",i.template?i.content="":(i.content="<style>"+mw.support.captureCSS(Z)+"</style>",i.content+="<style>.chart-legend-input, .chart-legend-action { display: none !important }</style>");var a=Z.cloneNode(!0);a.style.height=$.height()+"px",i.content+=a.outerHTML,!1===i.selector?delete i.selector:i.template||null!=i.selector||(i.selector=".chart-wrapper");{if(t&&!0===t)return mw.support.sendToServer(!0,gt.export.renderer,i),!0;i.encoding="base64";var n=mw.support.sendToServer(!1,gt.export.renderer,i);if(!t)return n;var r=window.open("",t),o=r.document,s=o.createElement("img");s.src="data:image/png;base64,"+n,o.body.appendChild(s)}}(e,i):"xls"==t||"xlsx"==t||"csv"==t?function(t,e){var i=mw.support.extend(gt.export,{});mw.support.extend(A(),i.parameters),mw.support.extend(e,i);var a,n,r=i.sheet.type;a="bubble"==gt.type?"geoitem":"geoitem"==gt.xaxis.type?"indicator":"geoitem";n="geoitem"==a?"indicator":"geoitem";var o={},s=[];for(var l in pt)ct instanceof Function?o[l]=func(l):o[l]=ct[l],s.push(l);var d={},c=$.settings(n);if(a==r)var p=s,h=c instanceof Array?c:[c];else var p=c instanceof Array?c:[c],h=s;var u=i.sheet.title,m="id"==u?"label":u;for(var f in p){var g=p[f];if(!d[g]){var v="id"!=u&&nt?nt[r+"s"][g][u]:g,b=nt&&nt[r+"s"][g]?nt[r+"s"][g].label:g;d[g]={title:b||v,values:{}}}var x=a==r?n:a,y=d[g].values;for(var w in h){var k=h[w],M=nt&&nt[x+"s"][k]||{},v=M[m]||k;y[k]||(y[k]={values:o[a==r?g:k],title:v})}}i.content=d,i.download=!0,i.format=t,i.sheet=i.sheet.type,mw.support.sendToServer(!0,gt.export.renderer,i)}(t,i):function(t,e){var i=A();e.parameters&&mw.support.extend(e.parameters,i);i.title&&(i={title:{text:i.title}});var a=J.getSVG(i);{if(!0===t)return mw.support.sendToServer(!0,gt.export.renderer,{format:"svg",download:!0,content:a}),!0;if(t){var n=window.open("",t),r=n.document;return r.body.innerHTML=a,!0}return a}}(e,i))},listen:function(t,e){"ready"==t&&i&&a?e():ft.register(t,e)},unlisten:function(t,e){ft.remove(t,e)}};function y(){if(J){var t=u.clientWidth||u.offsetWidth,e=u.clientHeight||u.offsetHeight;t?(J.setSize(t,e,!1),r=t,p=e):(clearTimeout(f),f=setTimeout(y,100))}for(var i=Q.getBoundingClientRect().top,a=u.getBoundingClientRect().top,n=0;n<Q.children.length;n++)Q.children[n]!==u&&(Q.children[n].style.top=a-i+"px")}function w(t){rt=t,"timeseries"!=gt.xaxis.type&&vt(),ft.dispatch($,"year",t)}function k(t){if(clearTimeout(o),"bubble-dummy"!=this.id)if("mouseOut"==t.type)o=setTimeout(function(){ft.dispatch($,"hover",null),J.xAxis[0].removePlotBand("bar-hover")},10);else{var e={x:J.plotLeft,y:J.plotTop,point:this,target:$},i=gt[gt.type].hover;if(i&&i.background){var a=J.xAxis[0],n=this.barX+J.plotLeft;a.addPlotBand({id:"bar-hover",color:i.background,from:a.toValue(n),to:a.toValue(n+Math.ceil(this.pointWidth+1)),zIndex:1})}if("bar"==mt[gt.type]?(e.x=J.plotWidth-this.plotY+J.plotLeft+(this.y<0?.5:-.5)*this.shapeArgs.height,e.y=J.plotHeight-this.barX-.5*this.pointWidth+1):this.tooltipPos?(e.x+=this.tooltipPos[0],e.y+=this.tooltipPos[1]):("column"==gt.type?e.x+=this.barX+.5*this.pointWidth+1:e.x+=this.plotX,e.y+=this.plotY),"pyramid"==gt.type&&"geoitem"==gt.xaxis.type?e.indicator=gt[gt.xaxis.type][this.y<0?0:1]:"bubble"==gt.type?e.indicator=gt.indicator[2]:gt.indicator instanceof Array&&-1!=gt.indicator.indexOf(this.category)?e.indicator=this.category:gt.indicator instanceof Array&&"indicator"!=gt.xaxis.type?e.indicator=this.name||this.series.name:s?e.indicator=s:gt.indicator&&(e.indicator=gt.indicator),"pyramid"==gt.type&&"indicator"==gt.xaxis.type?e.geoitem=gt[gt.xaxis.type][this.y<0?0:1]:gt.geoitem instanceof Array&&-1!=gt.geoitem.indexOf(this.category)?e.geoitem=this.category:gt.geoitem instanceof Array&&"geoitem"!=gt.xaxis.type?e.geoitem=this.name||this.series.name:c?e.geoitem=c:gt.geoitem&&(e.geoitem=gt.geoitem),"pyramid"==gt.type){var r=e.indicator;e.indicator=e.geoitem,e.geoitem=r}"timeseries"==gt.xaxis.type?e.year=this.year||this.x:e.year=rt,this.total&&(e.total=this.total,e.percent=this.y/this.total*100),o=setTimeout(function(){ft.dispatch($,"hover",e)},10)}}function M(t){var e=this.userOptions.id,i=e.indexOf("-future"),a=J.get(-1==i?e+"-future":e.substr(0,i));a&&a.graph&&a.graph.attr("stroke-width",t.target.options.lineWidth)}function T(i){if(i)if(gt.indicator instanceof Array&&"indicator"!=gt.xaxis.type&&"bubble"!=gt.type)pt[i]=!pt[i],vt(),ft.dispatch($,"series",pt);else{if(gt.busy&&(gt.busy.style.display="block"),!gt.geoitem)return;nt.load(i,function(){var t=nt.indicators[i];if(gt.busy&&(gt.busy.style.display="none"),"pyramid"==gt.type){ct||(ct={left:!1,right:!1});var e=gt[gt.xaxis.type];i==e[0]?ct.left=t.values:ct.right=t.values}else"bubble"==gt.type?(ct||(ct=[]),gt.indicator[0]==i&&(ct[0]=t.values),gt.indicator[1]==i&&(ct[1]=t.values),gt.indicator[2]==i&&(ct[2]=t.values)):gt.indicator instanceof Array?ct[i]=t.values:ct=t.values;s=i,vt()})}else vt()}function S(i){if(i)if(!(gt.geoitem instanceof Array)||"geoitem"==gt.xaxis.type&&gt.indicator instanceof Array){if(!gt.indicator)return;nt.values({indicator:gt.indicator,geoitem:i},function(t){if(gt.busy&&(gt.busy.style.display="none"),"pyramid"==gt.type){ct||(ct={left:!1,right:!1});var e=gt[gt.xaxis.type];i==e[0]?ct.left=t:(e[1]=i,ct.right=t)}else gt.geoitem instanceof Array?ct[i]=t:ct=t;c=i,vt()})}else{if(i instanceof Array)for(var t=0;t<i.length;t++)pt[i[t]]=!0;else pt[i]=!0;vt(),ft.dispatch($,"series",pt)}else vt()}function vt(){if(ct&&!ot&&("pyramid"!=gt.type||ct.left&&ct.right)&&("bubble"!=gt.type||ct[0]&&ct[1])){if(!J){var t=mw.support.extend(gt.options,ut);"bubble"==t.chart.type&&2==gt.indicator.length&&(t.chart.type="scatter"),nt&&"bubble"==gt.type&&(gt.indicator[0]&&Q.setAttribute("data-x-axis-title",nt.indicators[gt.indicator[0]].label),gt.indicator[1]&&Q.setAttribute("data-y-axis-title",nt.indicators[gt.indicator[1]].label),gt.indicator[2]&&Q.setAttribute("data-z-axis-title",nt.indicators[gt.indicator[2]].label)),(J=new Highcharts.Chart(t)).addSeries({id:"fix-empty",color:"#fff",visible:!1,data:[]}),ft.dispatch($,"initialized")}var e;if(ct instanceof Function)for(var i in e=ct,ct={},pt)ct[i]=e(i);var a=1;lt&&"series"!=gt.xaxis.range.minimum&&"series"!=gt.xaxis.range.maximum&&"series"!=gt.yaxis.range.minimum&&"series"!=gt.yaxis.range.maximum?lt&&(a=lt.step):(a=function(){function u(t,e){return t?t instanceof Function?t(e):mw.support.format(t,e):e}function t(t,e,i,a){var n=!0,r=gt.yaxis,o="logarithmic"==gt[t.substr(0,1)+"axis"].type;if("dataset"==r.range.minimum){if(nt)if("string"==typeof a){var s=nt.indicators[a];(!o||0<r.range.minimum)&&(e.min=s.statistics.range.min)}else if(gt.stacked&&(e.min=0,"percent"!==gt.stacked))for(var l=0;l<a.length;l++){var s=nt.indicators[a[l]],d=s.statistics.range.min;d<0&&d<e.min&&(e.min=d)}}else"series"!=r.range.minimum&&((!o||0<r.range.minimum)&&(e.min=r.range.minimum),0!=e.min&&(n=!1));if("dataset"==r.range.maximum){if(nt)if("string"==typeof a){var s=nt.indicators[a];e.max=s.statistics.range.max}else if(gt.stacked)if("percent"==gt.stacked)e.max=100;else for(var l=e.max=0;l<a.length;l++){var s=nt.indicators[a[l]];e.max+=s.statistics.range.max}}else"series"!=r.range.maximum&&(e.max=r.range.maximum,n=!1);if(n&&r.range.zero&&"bubble"!=gt.type&&(0<e.min&&!o?e.min=0:e.max<0&&(e.max=0)),"pyramid"==gt.type){var c=Math.max(e.min,e.max);e={min:-c,max:c}}if(o&&e.min<=0&&(e.min=nt&&nt.indicators[a].statistics.range.min||.1),r.labels)if(r.labels.prettify)if(o){for(var p=mw.support.prettify_log(e.min,e.max,r.labels.maximum),l=0;l<p.length;l++)i[p[l]]=u(r.format||gt.format,p[l]);e.min=p[0],e.max=p[p.length-1]}else{if(n)var p=mw.support.prettify(e.min,e.max,r.labels.maximum);else var p=[parseFloat(e.min),parseFloat(e.max),(e.max-e.min)/r.labels.maximum];if(p[2])for(var l=p[0];l<=p[1];l+=p[2]){var h="pyramid"==gt.type?Math.abs(l):l;i[l]=u(r.format||gt.format,h)}r.range.zero&&(i[0]=u(r.format||gt.format,0)),e.min=p[0],e.max=p[1]}else if(r.labels instanceof Array)for(var l in r.labels){var h=r.labels[l];i[h]=h}else mw.support.extend(r.labels,i);"y"==t&&gt.stacked&&"column"==gt.type&&e.max<50&&J.update({plotOptions:{column:{minPointLength:0}}}),"bubble"!=gt.type&&J[t.substr(0,1)+"Axis"]["y2"==t?1:0].setExtremes(e.min,e.max+Math.min(1,.01*e.max),!1)}ht={x:{},y:{}},lt={x:{min:1/0,max:-1/0},y:{min:1/0,max:-1/0}},("bubble"==gt.type||2==gt.yaxis.count)&&("bubble"==gt.type&&(lt.x2={min:1/0,max:-1/0}),lt.y2={min:1/0,max:-1/0},ht.y2={});var e=gt.stacked&&("timeseries"==gt.xaxis.type||gt.indicator instanceof Array&&gt.geoitem instanceof Array),i=e&&"timeseries"!=gt.xaxis.type||"pyramid"==gt.type||"bubble"==gt.type?ct:{dummy:ct},a="bubble"==gt.type;if(a)for(var n in pt)if(pt[n]){a=!1;break}var r={},o="timeseries"==gt.xaxis.type;for(var s in i)if(2!=s){var l=i[s],d={},c=!1,p=0;for(var n in l){for(var h in gt.stacked&&pt[n]&&(d[n]=o?{}:{min:1/0,max:-1/0}),l[n]){if(o&&d[n]&&(d[n][h]={min:1/0,max:-1/0}),"dataset"==gt.xaxis.range.minimum||pt[n]||a){var m=parseInt(h),f="bubble"!=gt.type||0==s?lt.x:lt.x2;m<f.min&&(f.min=m),m>f.max&&(f.max=m)}if("dataset"==gt.yaxis.range.minimum||pt[n]||a){var m=parseFloat(l[n][h]);if(f=gt.stacked?o?d[n][h]:d[n]:"bubble"==gt.type&&0<s||2==gt.yaxis.count&&0<p?lt.y2:lt.y,gt.stacked&&o){for(var g in l)g!=n&&("dataset"==gt.yaxis.range.minimum||pt[g])&&l[g]&&l[g][h]&&(m+=parseFloat(l[g][h]));c=!0}m<f.min&&(f.min=m),m>f.max&&(f.max=m)}}if(c)break;p++}if(gt.stacked)if(f="bubble"==gt.type&&0<s||2==gt.yaxis.count&&0<p?lt.y2:lt.y,"percent"==gt.stacked)f.min=0,f.max=100;else{for(var n in e&&(f={min:1/0,max:-1/0}),d)if(o)for(var h in d[n])d[n][h].min<0&&d[n][h].min<f.min&&(f.min=d[n][h].min),f.max==-1/0?f.max=d[n][h].max:f.max=Math.max(f.max,d[n][h].max);else d[n].min<0&&d[n].min<f.min&&(f.min=d[n].min),f.max==-1/0?f.max=d[n].max:e?f.max+=d[n].max:f.max=Math.max(f.max,d[n].max);f.max-Math.floor(f.max)<1e-5&&(f.max=Math.floor(f.max)),e&&(r[s]=f)}}if(e)for(var s in e&&(f={min:1/0,max:-1/0}),r){var f=r[s];f.min<0&&f.min<lt.y.min&&(lt.y.min=d[n].min),lt.y.max=Math.max(lt.y.max,f.max)}if(lt.x.min==1/0||lt.x2&&lt.x2.min==1/0)return void(lt=!1);if("timeseries"==gt.xaxis.type){if("dataset"==gt.xaxis.range.minimum){if(nt&&"string"==typeof gt.indicator){var v=nt.indicators[gt.indicator];lt.x.min=v.statistics.range.from}}else"series"!=gt.xaxis.range.minimum&&(lt.x.min=gt.xaxis.range.minimum);if("dataset"==gt.xaxis.range.maximum){if(nt&&"string"==typeof gt.indicator){var v=nt.indicators[gt.indicator];lt.x.max=v.statistics.range.to}}else"series"!=gt.xaxis.range.maximum&&(lt.x.max=gt.xaxis.range.maximum);if(gt.xaxis.labels){var b=parseInt(gt.xaxis.labels);if(gt.xaxis.labels instanceof Array)for(var x in gt.xaxis.labels){var h=gt.xaxis.labels[x];ht.x[h]=h}else if(isNaN(b)&&"minmax"!=gt.xaxis.labels)ht.x=gt.xaxis.labels;else{var y=lt.x.min,w=lt.x.max,k=1;99999<y?(y=Math.floor(y/100),w=Math.floor(w/100),k=12,b=1):9999<y&&(y=Math.floor(y/10),w=Math.floor(w/10),k=4,b=1),"minmax"==gt.xaxis.labels?b=w-y:gt.xaxis.range.extend&&(y-=y%b,lt.x.min=y,w%b&&(w-=w%b-b,lt.x.max=w));for(var h=y;h<=w;h+=b){var M=h;ht.x[M]=gt.xaxis.format?u(gt.xaxis.format,h):h}gt.xaxis.range.extend||ht.x[lt.x.max]||ht.x[lt.x.max-1]||gt.xaxis.multiples&&lt.x.max%b!=0||1==k&&(ht.x[lt.x.max]=gt.xaxis.format?u(gt.xaxis.format,lt.x.max):lt.x.max)}}var y=lt.x.min,w=lt.x.max;99999<w?(y=Math.floor(y/100)+(y%100-1)/12,w=Math.floor(w/100)+(w%100-1)/12):9999<w&&(y=Math.floor(y/10)+(y%10-1)/4,w=Math.floor(w/10)+(w%10-1)/4),J.xAxis[0].setExtremes(y,w,!1),1<J.xAxis.length&&J.xAxis[1].setExtremes(y,w,!1)}else"bubble"==gt.type?(lt.x.min=Math.max(lt.x.min,lt.x2.min),lt.x.max=Math.min(lt.x.max,lt.x2.max)):gt.xaxis.labels instanceof Object&&(ht.x=gt.xaxis.labels);if(gt.year&&gt.year.range||et){var T=et||gt.year;gt.xaxis.labels instanceof Array?T.range(gt.xaxis.range.minimum,w=gt.xaxis.range.maximum,1):T.range(lt.x.min,w=lt.x.max,99999<lt.x.min?"M":9999<lt.x.min?"Q":1),w<rt&&(rt=lt.x.max)}if("bubble"==gt.type)"dataset"!=gt.xaxis.range.minimum&&"series"!=gt.xaxis.range.minimum&&(lt.x.min=gt.xaxis.range.minimum),"dataset"!=gt.xaxis.range.maximum&&"series"!=gt.xaxis.range.maximum&&(lt.x.max=gt.xaxis.range.maximum);else if("timeseries"!=gt.xaxis.type){var S=[],C=pt,A="geoitem"==gt.xaxis.type?"indicator":"geoitem";gt.stacked&&K[A]instanceof Array&&(C=ct);var L=document.createElement("textarea");for(var n in C)S.push(n),ht.x.hasOwnProperty(n)||(ht.x[n]=n,nt&&("pyramid"==gt.type||"donut"==gt.type?L.innerHTML=nt[A+"s"][n].label:L.innerHTML=nt[gt.xaxis.type+"s"][n].label,ht.x[n]=L.value));J.xAxis[0].setCategories(S,!1)}if("pie"!=mt[gt.type]){"bubble"==gt.type?(t("x",lt.y,ht.y,gt.indicator[0]),t("y",lt.y2,ht.y2,gt.indicator[1])):2==gt.yaxis.count?(t("y",lt.y,ht.y,gt.indicator[0]),t("y2",lt.y2,ht.y2,gt.indicator[1])):t("y",lt.y,ht.y,gt.indicator);var E=0;if("auto"==gt.yaxis.width)for(var z=0;z<gt.yaxis.count;z++){var P=0,O="bar"==mt[gt.type],I=O?ht.x:"bubble"==gt.type||1==z?ht.y2:ht.y;for(var x in I){var N=J.renderer.text(I[x]).add(),D=N.getBBox();0==D.width&&(D.width=I[x].length*gt.text.charwidth),P=Math.max(P,D.width),N.destroy()}J[O?"xAxis":"yAxis"][z].update({offset:P},!0),E+=P}else E=gt.yaxis.width;var B=1;if("bubble"!=gt.type&&"hide"===gt.xaxis.overlap){var N=J.renderer.text(lt.x.min).add(),D=N.getBBox();0==D.width&&(D.width=String(lt.x.min).length*gt.text.charwidth);var P=J.plotWidth-E,b=0;if(gt.xaxis.labels instanceof Array)b=gt.xaxis.labels.length;else for(var I in ht.x)b++;B=Math.ceil((D.width+1)/(P/b)),N.destroy()}}return B}(),lt&&(lt.step=a,rt=mw.support.validateYear(rt,99999<lt.x.min?12:9999<lt.x.min?4:1),ft.dispatch($,"year",rt)));var n=!1,r=!1,o=gt.legend.override||{};if("timeseries"==gt.xaxis.type){var s=0;for(var i in pt){var l=J.get(i);if(!(Y=o[i]&&o[i].color?o[i].color:null)&&gt.colors instanceof Function&&(Y=gt.colors(i)),pt[i]){var d=[],c=[],p=!0;if(lt.x){var h=lt.x.min,u=lt.x.max,m=1;99999<h?(h=Math.floor(h/100),u=Math.floor(u/100),m=12):9999<h&&(h=Math.floor(h/10),u=Math.floor(u/10),m=4);for(var f=h;f<=u;f++)for(var g=1;g<=m;g++){var v=f,b=f;1<m&&(v+=(g-1)/m,b+=(12==m&&g<10?"0":"")+g);var x=ct[i]?ct[i][b]:null;(!dt||f<=dt)&&d.push({x:+v,y:null==x?null:x,year:b}),dt&&dt<=f&&c.push({x:+v,y:null==x?null:x,year:b}),null!=x&&null!=x&&(p=!1)}}if(l){y={zIndex:s+1};Y&&(y.color=Y),l.update(y,!1),l.setData(d,!1)}else{var y={name:i,id:i,data:d,zIndex:s+1,yAxis:2==gt.yaxis.count?Math.min(1,s):0},w={};Y&&(y.color=Y),"line"==gt.type&&(gt.line.style instanceof Array&&s<gt.line.style.length&&(y.dashStyle=gt.line.style[s]),gt.line.width instanceof Array&&s<gt.line.width.length&&(y.lineWidth=gt.line.width[s]),y.color!=gt.line.secondary||gt.line.width instanceof Array||(y.lineWidth=gt.line.width/2),gt.line.hover.width instanceof Array&&s<gt.line.hover.width.length&&(w={states:{hover:{lineWidth:gt.line.hover.width[s]}}},y=mw.support.extend(w,y))),l=J.addSeries(y,!1)}if(c.length)if(M=J.get(i+"-future"))M.setData(c,!1);else{var k=mw.support.extend(w||{},{name:i,color:Y||l.color,dashStyle:gt.future.style,id:i+"-future",data:c,yAxis:2==gt.yaxis.count?Math.min(1,s):0});gt.line.width instanceof Array&&(k.lineWidth=gt.line.width[s]),J.addSeries(k,!1)}else if(dt){(M=J.get(i+"-future"))&&M.remove()}p||!d.length&&!c.length||(n=!0),s++}else{var M;l&&(l.remove(!1),dt&&(M=J.get(i+"-future"))&&M.remove(!1)),it==i&&(it=at=null),delete pt[i],r=!0}}}else{!rt&&lt&&(rt=lt.x.max);var T=[],S=0;if("pyramid"==gt.type){for(var i in T[0]=[],T[1]=[],pt){!(Y=o[i]&&o[i].color?o[i].color:null)&&gt.colors instanceof Function&&(Y=gt.colors(i));var C={id:i,name:i,y:-1*(ct.left[i]instanceof Object?ct.left[i][rt]:ct.left[i])};Y&&(C=Y);var A={id:i,name:i,y:ct.right[i]instanceof Object?ct.right[i][rt]:ct.right[i]};Y&&(A=Y),T[0].push(C),T[1].push(A)}(T[0].length||T[1].length)&&(n=!0)}else if("bubble"==gt.type){T[0]=[];for(var L={x:0,y:1,z:2},E={},z=-1,P=pt,O=0;O<=1;O++){for(var i in P)if(P[i]&&(1!=O||"C"==P[i].type)){var I={id:i,name:i,states:{hover:{}}};if(nt&&1==O&&"region"==gt.bubble.color){var N=nt.geoitems[i];if(gt.legend.override||(gt.legend.override={}),N.region){var D=N.region instanceof Array?N.region[0]:N.region,B=nt.geoitems[D]||{};gt.legend.override[D]?I.color=E[D]=gt.legend.override[D].color:(I.color=B.color||E[D],I.color||(gt.color instanceof Function?I.color=E[D]=gt.colors(D):I.color=E[D]=gt.colors[++z]||"#000"),gt.legend.override[D]={color:I.color})}}else gt.bubble.color&&"region"!=gt.bubble.color?I.color=gt.bubble.color:gt.color instanceof Function?I.color=gt.color(i):I.color=gt.colors[++z];for(var H in I.states.hover.fillColor=I.color,L){var F=L[H];ct[F]&&ct[F][i]&&(I[H]=ct[F][i]instanceof Object?ct[F][i][rt]:ct[F][i])}3!=gt.indicator.length||I.hasOwnProperty("z")&&null!=I.z||(I.z=0),null!=I.x&&null!=I.y&&T[0].push(I)}if(I||!nt)break;P=nt.geoitems}T[0].push({id:"bubble-dummy",x:lt.y.min,y:lt.y2.min,z:0,color:"transparent",marker:{states:{hover:{fillColor:"transparent"}}}}),T[0].push({id:"bubble-dummy",x:1.05*lt.y.max,y:lt.y2.max,z:0,color:"transparent",marker:{states:{hover:{fillColor:"transparent"}}}}),3==gt.indicator.length&&T[0].sort(function(t,e){return t.z>e.z?-1:1}),tt&&(st=0==O?pt:E)}else{var R=gt.stacked&&("timeseries"==gt.xaxis.type||gt.indicator instanceof Array&&gt.geoitem instanceof Array),W=R?ct:{dummy:ct},X=0;for(var G in W){cvalues=W[G],R||(T[X]=[]);var j=0;for(var i in pt)if(pt[i]){if(gt.latest)if(cvalues[i]instanceof Object)x=mw.support.latest(cvalues[i],rt,gt.latest).value;else x=cvalues[i];else x=cvalues[i]instanceof Object?cvalues[i][rt]:cvalues[i];var Y=o[i]&&o[i].color?o[i].color:null;"pie"!=mt[gt.type]&&(Y=gt.colors instanceof Function?gt.colors(i):gt.colors[0]);I={id:i,name:i,y:x||null};Y&&!R&&(I.color=Y),R?(T.length<=j&&(T[j]=[]),T[j].push(I)):T[X].push(I),S+=x||0,void 0!==x&&(n=!0),j++}else delete pt[i],r=!0;X++}}if(gt.percentage&&"pie"==mt[gt.type]){var _=Math.max(0,Math.min(360,Math.ceil(S/100*360)));if(_!=ut.plotOptions.pie.endAngle)return ut.plotOptions.pie.endAngle&&(ut.plotOptions.pie.animation=!1),ut.plotOptions.pie.endAngle=_,J.destroy(),J=null,void vt()}for(x=0;x<T.length;x++)if(!(T[x]instanceof Array)||T[x].length){s="series-"+(x+1);if(l=J.get(s))l.setData(T[x],!1);else{y={id:s,data:T[x]};J.addSeries(y,!1)}}}if(function(t){for(var e in J.xAxis[0].removePlotLine("plotline"),J.yAxis[0].removePlotLine("plotline"),ht){var i="x"==e;if("bubble"==gt.type){if(i)continue;i="y"==e}var a="bar"==mt[gt.type],n=lt[e],r="bubble"==gt.type?"y"==e?"x":"y":"y2"==e?"y":e,o="bubble"==gt.type?0:"y2"==e?1:0,s=J[r+"Axis"][o],l=gt.grid[i?"horizontal":"vertical"]||{},d=bt(gt[r+"axis"].text,gt.text),c=i&&gt.ticks?[]:null,p=gt.ticks.length instanceof Array?gt.ticks.length[0]:gt.ticks.length,h=gt[r+"axis"].offset+(c?gt.ticks.offset+p:0),u=!1;if(gt[r+"axis"].text)for(var m in gt[r+"axis"].text)gt.text.hasOwnProperty(m)||(u=!0,d[m]=gt[r+"axis"].text[m]);"y"==r&&2==gt.yaxis.count&&("legend"==d.color?d.color=$.color(gt.indicator["y2"==e?1:0]):"legend"==d.backgroundColor&&(d.backgroundColor=$.color(gt.indicator["y2"==e?1:0])));var f=i&&"timeseries"!=gt.xaxis.type,g="default"==gt.yaxis.labels.align?"left"==gt.yaxis.position?"right":"left":gt.yaxis.labels.align,v=!1,b=l.major,x=l.minor;x&&!x.major&&(x=!1);var y=0,w={},k=0;for(var M in ht[e]){if(b){var T=ht[e][M];if(null==T&&(T=""),void 0!==w[T]&&0<M*w[T])continue;s.addPlotLine({id:"plotline",value:f?y:M,width:null==b.width?1:b.width,dashStyle:b.style,color:!b.width||!l.first&&M==n.min||!l.last&&M==n.max?gt.background:b.color,zIndex:1,label:{text:"x"==e&&(M!=n.max||!f&&M-v<=t)&&y%t?"":T,x:(a?-5:i?-1:-10)+(i?0:h),y:(a?i?3:10:i?7+k:3)+(i&&!a?h:0),style:d,align:"y2"==e?"right":"left",useHTML:u,rotation:i&&"rotate"==gt.xaxis.overlap?45:0,verticalAlign:i||a?"bottom":"top",textAlign:a?M<0?"left":"right":"x"==r?"rotate"==gt.xaxis.overlap?"left":"center":"y2"==e?"left"==g?"right":"left":g}}),w[T]=M,"updown"==gt.xaxis.overlap&&(k=0==k?7:0)}if(!c||!gt.ticks.major||i&&y%t&&!gt.ticks.minor||c.push(parseFloat(M)),9999<lt.x.min){if(c&&gt.ticks.minor)for(var S=99999<lt.x.min?12:4,C=1;C<S;C++)c.push(T+C/S)}else if(x&&!1!==v)for(var A=Math.max(1,(M-v)/x.major),C=v+A;C<M;C+=A)x.width&&s.addPlotLine({id:"plotline",color:x.color,dashStyle:x.style,width:x.width,value:C,zIndex:1}),c&&gt.ticks.minor&&c.push(C);v=parseFloat(M),y++}if(c&&gt.ticks.minor&&lt&&lt.x.min<9999&&v<lt.x.max)for(var C=v+1;C<=lt.x.max;C++)c.push(C);if(c&&c.length){var h={tickPositions:c,tickLength:p,tickWidth:gt.ticks.width,tickColor:gt.ticks.color};if(gt.ticks.length instanceof Array){J.xAxis[1].update(h,!1);for(var L=(c=c.slice(0)).length-1;0<=L;L--)w[c[L]]||(c[L]=0);var h={tickPositions:c,tickLength:gt.ticks.length[1],tickWidth:gt.ticks.width,tickColor:gt.ticks.color}}s.update(h,!1)}}}(a),e&&(ct=e),r&&!(gt.colors instanceof Function)){var q=0;for(l=1;l<J.series.length;l++){Y=o[i=J.series[l].name]&&o[i].color?o[i].color:(q++,J.options.colors[l-1]),J.series[l].update({color:Y},!1)}J.counters&&(J.counters.color=q)}J.redraw();var V,U=-1!==Z.className.indexOf("no-data");n&&U?Z.className=Z.className.replace(/ ?no-data/,""):n||U||(Z.className+=" no-data"),st&&(tt&&nt&&"bubble"==gt.type&&"region"==gt.bubble.color?setTimeout((V=st,ft.dispatch($,"series",V),void tt.sort()),0):ft.dispatch($,"series",st),st=null)}}function bt(t,e){return e=e||{},{color:(t=t||{}).color||e.color||"#000",fontFamily:t.font||e.font||"Arial",fontSize:t.size||e.size||"10px",fontWeight:t.weight||e.weight||"normal"}}function C(){if(i){if(gt.busy&&(gt.busy.style.display="none"),l&&l.init($),tt&&tt.init($),!0===gt.year?(et=new mw.map.layers.Slider).init($):gt.year&&gt.year.init&&gt.year.init($),st=pt,gt.values)vt();else if("pyramid"==gt.type)"indicator"==gt.xaxis.type?(T(gt.indicator[0]),T(gt.indicator[1])):(S(gt.geoitem[0]),S(gt.geoitem[1]));else if("bubble"==gt.type)T(gt.indicator[0]),T(gt.indicator[1]),3==gt.indicator.length&&T(gt.indicator[2]);else{if(ot=!0,"string"==typeof gt.geoitem)S(gt.geoitem);else if("geoitem"==gt.xaxis.type)for(var t=0;t<gt.geoitem.length;t++)S(gt.geoitem[t]);if("string"==typeof gt.indicator)T(gt.indicator);else if("indicator"==gt.xaxis.type)for(t=0;t<gt.indicator.length;t++)T(gt.indicator[t]);ot=!1,vt()}a=!0,ft.dispatch($,"ready")}}function A(){for(var t=Z.previousSibling;t&&t.nodeType!=Node.ELEMENT_NODE;)t=t.previousSibling;var e=mw.support.extend(gt.export.parameters||{},{});return t&&("H1"==t.tagName||t.className.match("mw-chart-title"))&&(e.title=t.innerHTML),e}},mw=window.mw||{},mw.chart=mw.chart||{},mw.chart.Legend=function(t){var f,d,c,p,g,v,b,x,y,h={},u=mw.support.extend(t||{},{interactive:!0,sort:!1,maximum:1/0,placeholder:{geoitems:"add a country",indicators:"add a dataset"}});return{init:function(t){g=(f=t).state().data(),(d=document.createElement("div")).className="chart-legend",(c=document.createElement("div")).className="chart-legend-items",d.appendChild(c);var e=f.settings();v="geoitem"==e.xaxis.type?"indicators":"indicator"==e.xaxis.type?"geoitems":f.settings().geoitem instanceof Array?"geoitems":"indicators";if(d.className+=" chart-"+v,u.interactive){var i=document.createElement("div");i.className="chart-legend-item chart-legend-interactive";var a=document.createElement("div");a.className="chart-legend-swatch",i.appendChild(a),(p=document.createElement("input")).className="chart-legend-input chart-legend-label",p.type="text",p.placeholder=u.placeholder[v]||u.placeholder,mw.support.attachEvent(p,"focus",M),mw.support.attachEvent(p,"blur",S),mw.support.attachEvent(p,"keydown",C),mw.support.attachEvent(p,"keyup",A),i.appendChild(p);var n=document.createElement("div");n.className="chart-legend-action chart-legend-add",i.appendChild(n),d.appendChild(i),(b=document.createElement("ul")).className="chart-legend-suggest "+v,b.style.display="none",mw.support.attachEvent(b,"mousedown",T),d.appendChild(b);var r=/\{([^}]+)\}/g,o=!0===u.interactive?"{LABEL}":u.interactive;for(var s in x={},g[v]){for(var l=o;match=r.exec(l);)l=l.replace(match[0],g[v][s][match[1].toLowerCase()]);x[s]='<li data-series="'+s+'">'+l+"</li>"}}u.parent?u.parent.appendChild(d):f.panes().appendChild(d);f.listen("series",function(t){for(var e in h)h[e]&&!t[e]&&(k(e),!0);for(var e in t)!h[e]&&t[e]&&(w(e),!0);u.sort&&m(!1),h=mw.support.extend(t,{})})},sort:m};function m(t){if(c){for(var e=[],i=c.firstChild;i;i=i.nextSibling)e.push(i);t?e.reverse():e.sort(function(t,e){return t.innerText<e.innerText?-1:1});for(i=0;i<e.length;i++)c.appendChild(e[i])}}function l(){for(var t=c.childNodes,e=0,i=t.length;e<i;e++){var a=t[e];a.firstChild.style.borderColor=f.color(a.getAttribute("data-series"))}}function w(t,e){h[t]=!0,e&&f.add(t);var i=document.createElement("div");i.className="chart-legend-item",i.setAttribute("data-series",t);var a=document.createElement("div");a.className="chart-legend-swatch chart-series-"+f.type(!0),a.style.borderColor=f.color(t),i.appendChild(a);var n=document.createElement("div"),r=u.override&&u.override[t]?u.override[t]:{};n.className="chart-legend-label",r.label?n.innerHTML=r.label:g[v][t]?n.innerHTML=g[v][t].label||t:n.innerHTML=t,i.appendChild(n);var o=!g||g[v][t];if(u.interactive&&o){var s=document.createElement("div");s.className="chart-legend-action chart-legend-remove",i.appendChild(s),mw.support.attachEvent(s,"click",function(t){k(this.parentNode.getAttribute("data-series"),!0)})}c.appendChild(i),c.childNodes.length>u.maximum&&k(c.childNodes[0].getAttribute("data-series"),!0),u.sort&&e&&m(),setTimeout(function(){l()},0)}function k(t,e){for(var i=c.childNodes,a=0,n=i.length;a<n;a++)if(i[a].getAttribute("data-series")==t){c.removeChild(i[a]),delete h[t],e&&f.remove(t,!0);break}setTimeout(function(){l()},0)}function M(t){if(this!=document.activeElement){var e=this;setTimeout(function(){e.select()},100),b.innerHTML="",b.style.display="none"}}function T(t){var e=(t=t||window.event).target||t.srcElement;if((t.clientX>=e.clientWidth||t.clientY>=e.clientHeight)&&t.preventDefault(),e!==b){for(;e&&!e.hasAttribute("data-series");)e=e.parentNode;var i=e.getAttribute("data-series");i&&!h[i]&&w(i,!0),p.value="",b.innerHTML="",b.style.display="none"}}function S(t){this.value="",b.style.display="none"}function C(t){var e=t.keyCode;if(y)if(y.className="",27==e)b.innerHTML="",b.style.display="none",mw.support.preventDefault(t);else{if(13==e){var i=y.getAttribute("data-series");return i&&!h[i]&&w(i,!0),b.innerHTML="",b.style.display="none",this.value="",void mw.support.preventDefault(t)}if(40==e||38==e){for(var a=y;(y=40==e?y.nextSibling:y.previousSibling)&&"none"==y.style.display;);y||(y=a),mw.support.preventDefault(t)}else 36!=e&&35!=e||((y=36==e?y.firstChild:y.lastChild).scrollIntoView(36==e),mw.support.preventDefault(t))}y&&(y.className="selected")}function A(t){var e="",i=!1,a=!1,n=!1,r=this.value.toLowerCase().split(" "),o=r.length;if("geoitems"==v&&g){var s=f.settings("indicator");s instanceof Array?(s[0]&&(i=g.indicators[s[0]].values),s[1]&&(a=g.indicators[s[1]].values),s[2]&&(n=g.indicators[s[1]].values)):s&&(i=g.indicators[s].values)}var l=0,d=0,c=y?y.getAttribute("data-series"):null;for(var p in x){for(var h=x[p],u=0;u<o;u++){var m=i&&!i[p]||a&&!a[p]||n&&!n[p];if(m||(m=-1==h.toLowerCase().indexOf(r[u])&&-1==p.toLowerCase().indexOf(r[u])),m)break}if(m||(c==p&&(l=d),e+=x[p],d++),100==d){e+='<li class="note">Remaining matching items not shown...</li>';break}}b.innerHTML=e,(y=y?b.childNodes[l]:b.firstChild)&&(y.className="selected"),b.style.display="block"}},riot.mixin("imf-hierarchies",{init:function(){this.localeSort=function(t,e){return t.label<e.label?-1:1},this.localeReverseSort=function(t,e){return t.label>e.label?-1:1};try{"foo".localeCompare("bar","i")}catch(t){"RangeError"===t.name&&(this.localeSort=(a=document.documentElement.getAttribute("lang")||"en",function(t,e){return t.label.localeCompare(e.label,a)}),this.localeReverseSort=(i=document.documentElement.getAttribute("lang")||"en",function(t,e){return-1*t.label.localeCompare(e.label,i)}))}var i,a},hierarchies:function(l){var d=this;d.countries=[],d.groups=[],d.regions=[];var t=imf.data.datasets[d.opts.dataset],c=imf.state.get("geoitem"),e=imf.state.get("indicator"),i=imf.data.indicators[e],p=i&&i.values||{},h={regions:{},groups:{}};function r(t,e,i,a){var n=imf.data.geoitems[t],r=p.hasOwnProperty(t),o=c&&-1!=c.indexOf(t),s=n.label||t;l&&"countries"!==i?(h[i].hasOwnProperty(a)||(h[i][a]=d[i].length,d[i].push({label:imf.data.datasets[a].title,items:[],order:+imf.data.datasets[a].order})),d[i][h[i][a]].items.push({id:t,label:s,level:e,hasdata:r,selected:o})):d[i].push({id:t,label:s,level:e,hasdata:r,selected:o})}for(var a in imf.data.geoitems)"C"==imf.data.geoitems[a].type&&(t&&t.geoitems&&-1==t.geoitems.indexOf(a)||r(a,0,"countries"));for(var o in{groups:!0,regions:!0}){function s(t,e,i){for(var a in t){var n=t[a];r(n instanceof Object?n.code:n,e,o,i),n instanceof Object&&s(n[o],e+1,i)}}if(t&&t.hierarchies)s(t.hierarchies[o],0);else if(l)for(var n in imf.data.datasets)s(imf.data.datasets[n].hierarchies[o],0,n)}}});var imf=function(){var t,r,s=document.querySelector("base").getAttribute("href"),e=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),a={"#B74E4F":!1,"#3FADBF":!1,"#CB8C40":!1,"#72AA39":!1,"#9E718B":!1,"#298093":!1,"#FB594E":!1,"#018749":!1,"#895252":!1,"#969100":!1,"#FE7013":!1,"#1B6861":!1,"#D47ABA":!1,"#6BBD46":!1,"#7653A5":!1,"#6C6C6C":!1,"#ED008C":!1,"#9DCE38":!1,"#D7DF21":!1,"#D0E39A":!1,"#7F7FFF":!1,"#C4459A":!1,"#2ED883":!1,"#895F34":!1},n={},i={map:{buttons:{confirm:function(){var t=imf.state.get("settings");imf.data.indicators[imf.state.get("indicator")].legend=mw.support.extend(t.legend,{})},cancel:function(){var t=imf.state.get("settings"),e=imf.data.indicators[imf.state.get("indicator")];t.legend=e.legend=mw.support.extend(e["restore-legend"],{}),imf.state.set("settings",t)},reset:function(){var t=imf.state.get("settings"),e=imf.data.indicators[imf.state.get("indicator")];t.legend=e.legend=mw.support.extend(e["default-legend"],{}),imf.state.set("settings",t)}},settings:[{title:"map",settings:[{name:"legend",type:"legend"}]}]},chart:{settings:[{title:"chart",settings:[{name:"yaxis",type:"radio",value:"lin",disabled:function(){var t=imf.state.get("indicator"),e=imf.data.indicators[t]||{};return e.minvalue||e.maxvalue?0<e.minvalue&&0<e.maxvalue?null:"lin":e.statistics?0<e.statistics.range.min&&0<e.statistics.range.max?null:"lin":null},values:[{label:"linear",value:"lin"},{label:"logarithmic",value:"log"}]}]}]}},o={large:{ticks:{major:!0,minor:!0,color:"#77789e",offset:20,length:[5,15]},xaxis:{offset:40},yaxis:{offset:-3,labels:{align:"left"},text:{backgroundColor:"#fff"}},options:{chart:{marginTop:40,marginLeft:45,marginBottom:100,marginRight:45,events:{redraw:function(){var t=imf.chart.large.options.chart.marginBottom-40;this.axisrect&&this.axisrect.destroy(),this.axisrect=this.renderer.rect(0,this.chartHeight-t,this.chartWidth,t,0).attr({fill:"#e9ecef",zIndex:0}).add()}}}}},small:{grid:!1,colors:["#49499e"],xaxis:{labels:!1},yaxis:{labels:!1,range:{zero:!1}},year:!0}},l="api/?meta&geoitems&indicators&datasets";if(document.body.hasAttribute("data-preload")){l+="&values=";for(var d=document.body.getAttribute("data-preload").split(","),c=0;c<d.length;c++)l+=(0<c?",":"")+d[c].split("@")[0]}var v=new mw.DataManager({data:l}),p=new mw.StateManager({data:v,kickstart:!1});function h(t,e,i){var a;return i&&i.length?a=imf.data.datasets[t].title+" - "+imf.data.indicators[i[0]].label:t?(a=imf.data.datasets[t].title,e&&(a+=" - "+imf.data.datasets[t].hierarchies.indicators[e].label)):a=imf.data.meta.general_title,a}function u(t,e,i,a,n){var r=document.body.getAttribute("data-tool");("datamapper"==r||n)&&(r="");var o=r;if("profile"==r||i&&i.length){for(var s in i)o+="/"+i[s]+"@"+v.indicators[i[s]].dataset;a instanceof Array?o+="/"+a.join("/"):a&&(o+="/"+a.replace(/,/g,"/"))}else o+="datasets",t&&(o+="/"+t),e&&(o+="/"+e);return"/"==o[0]?o.substr(1):o}function b(t,e,i,a){p.set("dataset",t),p.set("group",e),p.set("indicator",i),p.set("geoitem",a),document.title=h(t,e,i),document.querySelector('meta[property="og:title"]').setAttribute("content",document.title),document.querySelector('meta[property="og:url"]').setAttribute("content",s+u(t,e,i)),document.querySelector('meta[property="og:description"]').setAttribute("content",i.length?imf.data.indicators[i[0]].description:t?imf.data.datasets[t].description:""),document.querySelector('meta[property="og:image"]').setAttribute("content",s+"images/dm-logo.png"),r||(r={dataset:t,group:e,indicators:i,geoitems:a.slice(0)})}function x(t,e,i,a,n){if(history.pushState){var r=window.location.href.substring(s.length,window.location.href.length-window.location.search.length),o=u(t,e,i,a);r!=o&&riot.route(o,h(t,e,i),n)}else b(t,e,i,a instanceof Array?a:a.split(","))}function m(){x(imf.state.get("dataset"),imf.state.get("group"),imf.state.get("indicator"),imf.state.get("geoitem"))}function f(){clearTimeout(t),t=setTimeout(m,10)}function g(t){if(t.target.classList.contains("dm-info-button")||t.target.classList.contains("dm-copyright"))(function(t){var e;if(t.target.classList.contains("dm-copyright"))e=v.meta.credits_text.replace(/\n/g,"<br/>");else{if(t.target.hasAttribute("data-key")&&!t.target.hasAttribute("data-geoitem")&&!t.target.hasAttribute("data-indicator")){var i=t.target.getAttribute("data-key");t.target.setAttribute(v.geoitems[i]?"data-geoitem":"data-indicator",i)}if(t.target.hasAttribute("data-geoitem")){var a=t.target.getAttribute("data-geoitem"),n=t.target.getAttribute("data-type");if(t.target.classList.contains("dm-profile-button"))e=(e="<b>{NAME}</b><ul><li>"+v.meta.profilepage+"</li>"+("C"==n?"<li>"+v.meta.countrypage+"</li>":"")+"</ul>").replace(/{NAME}/g,v.geoitems[a].label).replace(/{ISO3}/g,a);else if("C"==t.target.getAttribute("data-type"))e=v.meta.countrypage.replace(/{NAME}/g,v.geoitems[a].label).replace(/{ISO3}/g,a);else{for(var r=v.datasets[imf.state.get("dataset")].regions[a],o=[],s=0;s<r.length;s++)o.push(v.geoitems[r[s]].label);o.sort(),e=o.join(", ")}}else{if(!t.target.hasAttribute("data-indicator"))return!1;var l=v.indicators[t.target.getAttribute("data-indicator")];e=l.description+"<br/><br/><i>"+imf.translate("source")+" "+l.source+"</i>"}}var d=document.getElementById("info-popup");d.innerHTML=e;var c=t.target.getBoundingClientRect();return d.style.right=window.innerWidth-c.right+"px",d.style.top=c.top+document.body.scrollTop+window.scrollY+"px",d.style.display="block",setTimeout(function(){d.offsetLeft<0&&(d.style.right=window.innerWidth-c.right+d.offsetLeft+"px"),d.offsetTop-document.body.scrollTop+d.clientHeight>window.innerHeight&&(d.style.top=window.innerHeight-d.clientHeight+document.body.scrollTop+"px")}),!0})(t)&&t.preventDefault();else if(t.target.classList.contains("dm-profile-button")){var e=document.querySelector("base").getAttribute("href"),i=imf.state.get("dataset"),a=e+"profile/"+t.target.getAttribute("data-key")+"/"+i;window.self===window.top?window.location.href=a:window.open(a,"_blank")}else if(t.target.classList.contains("dm-help"))window.open(imf.data.meta.helpurl,"_blank");else if(t.target.classList.contains("dm-logo")||t.target.parentNode.classList.contains("dm-logo")){e=document.querySelector("base").getAttribute("href");window.location.href=e}else t.target.classList.contains("dm-legend-reset")?(imf.trigger("reset",!1),t.preventDefault()):document.getElementById("info-popup")&&(document.getElementById("info-popup").style.display="none")}function y(){var t=document.getElementById("dm-component");if(t){for(var e=0,i=t.parentNode.firstElementChild;i;i=i.nextElementSibling)i!==t&&(e+=i.offsetHeight);if(t.style.height="calc(100% - "+e+"px)",t._tag.map){var a=t._tag.map();a&&a.listen("ready",function(){a.redraw(!0);var t=riot.route.query();t.zoom&&a.zoom(t.zoom,.01),t.highlight&&setTimeout(function(){a.highlight(t.highlight)},100)})}setTimeout(function(){var t=document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)},0)}}function w(){riot.observable(imf),imf.on("reset",function(t){if(imf.state.set("custom-geoitems",[]),imf.state.set("exploded-regions",{}),imf.state.set("exploded-countries",[]),imf.state.set("geoitem",[]),imf.state.set("year",imf.state.get("initial-year")),t){document.body.setAttribute("data-tool","datamapper");var e="datamapper"==document.body.getAttribute("data-tool")?void 0:r.geoitems;imf.route(r.dataset,r.group,r.indicators,e)}else imf.route(imf.state.get("dataset"),imf.state.get("group"),imf.state.get("indicator"))}),riot.mount("imf-component"),p.listen("year",function(t){var e=imf.state.get("settings")||{};e.year=t,imf.state.set("settings",e)});var t=riot.route.query().year||(new Date).getFullYear();p.set("initial-year",t),p.set("year",t),riot.route.start(!0),p.listen("dataset",f),p.listen("group",f),p.listen("indicator",f),p.listen("geoitem",function(t){var e=imf.data.datasets[imf.state.get("dataset")];t.length&&e&&t.join(",")!=e.initchart&&imf.state.set("custom-geoitems",t),f()}),document.body.classList.add("initialized"),imf.on("resize",y),setTimeout(y,100);var i=!1,a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};for(var e in a(function t(){var e=document.querySelector("mw-map");if(e&&e.previousElementSibling){if(!1===i&&"IMF-SETTINGS"!=e.previousElementSibling.nodeName)return;e.offsetHeight!=i&&(e.parentNode.style.height=(i=e.offsetHeight)+"px"),a(t)}else a(t)}),v.indicators){var n=v.indicators[e];n.legend&&(n["default-legend"]=mw.support.extend(n.legend,{}))}}riot.route.base(s.substr(e.length)),riot.route(function(){var t=document.body.getAttribute("data-tool"),e=arguments.length&&arguments[0]==t?1:0,i=arguments.length;window.location.hash.substr(1)===arguments[i-1]&&i--;var a=window.location.search;"?"==a[0]&&(a=a.substr(1)),a===arguments[i-1]&&i--;var n,r,o=[],s=[],l=imf.state.get("custom-geoitems");if("datamapper"!=t||"profile"!=arguments[e])if("profile"!=t||"datasets"!=arguments[e])if("profile"!=t||e!=i){if("datasets"==arguments[e])imf.data.datasets[arguments[++e]]&&(n=arguments[e++],imf.data.datasets[n].hierarchies.indicators[arguments[e]]&&(r=arguments[e]));else{var d=arguments[e];if(-1==d.indexOf("@")&&!v.geoitems[d]){if(imf.data.datasets[d])return x(d,void 0,[(p=imf.data.datasets[d]).indicator],p.initchart);for(var c in imf.data.datasets){var p;if(1==(p=imf.data.datasets[c]).order)return x(c,void 0,[p.indicator],p.initchart)}}for(var h=e;h<i;h++)if(-1!=arguments[h].indexOf("@")){var u=arguments[h].split("@");o.push(u[0]),n||(n=u[1])}else s.push(arguments[h]);if(s.length||(s=l||[]),!s.length&&"ranking"!==t)return x(n,void 0,o,imf.data.datasets[n].initchart,!0)}var m=imf.state.get("indicator");m instanceof Array&&(m=m[0]);var f=n!=imf.state.get("dataset")||r!=imf.state.get("group")||o[0]!=m;b(n,r,o,s),f&&window.scrollTo(0,0)}else b(void 0,void 0,[],[]);else{g=document.querySelector("base").getAttribute("href");window.location.href=g+[].slice.call(arguments).join("/")}else{var g=document.querySelector("base").getAttribute("href");window.location.href=g+[].slice.call(arguments).join("/")}});var k=2;riot.compile(function(){--k||w()}),v.listen("ready",function(){for(var t in v.datasets){var e=v.datasets[t];e.description&&-1==e.description.indexOf("<p")&&(e.description="<p>"+e.description.replace(/[\r\n]+/g,"</p><p>")+"</p>")}--k||w()}),document.body.addEventListener("touchstart",g),document.body.addEventListener("click",g);var M=document.getElementById("dm-main"),T=M?M.offsetTop:Math.POSITIVE_INFINITY;return window.addEventListener("scroll",function(){var t=window.pageYOffset||document.documentElement.scrollTop;5<t?document.body.classList.add("scrolled"):document.body.classList.remove("scrolled"),T&&(T<=t?document.body.classList.add("fixed-header"):document.body.classList.remove("fixed-header"))}),{state:p,data:v,translate:function(t){var e=v.meta;if(!(t instanceof Element))return e[t]||"{"+t+"}";for(var i=t.querySelectorAll("[data-babel]"),a=0;a<i.length;a++){var n=i[a],r=n.getAttribute("data-babel"),o=r.substr(1);if("@"==r[0]){var s=n.getAttribute(o);n.setAttribute(o,e[s]||"{"+s+"}")}else"#"==r[0]&&(n.innerHTML=e[o]||"{"+o+"}");n.removeAttribute("data-babel")}},route:x,panel:function(t){for(var e=t.target;e;e=e.parentNode){var i;if(e.hasAttribute("indicator")&&(i=[e.getAttribute("indicator")]),e.hasAttribute("dataset")){var a=e.getAttribute("dataset"),n=e.getAttribute("group");return imf.route(a,n,i,imf.state.get("geoitem"))}}},chart:o,settings:i,deeplink:function(){var t=p.get("indicator");t instanceof Array&&t.length&&(t=[t[0]]);var e=imf.state.get("custom-geoitems");e&&e.length||(e=p.get("geoitem"));var i=s+u(p.get("dataset"),p.get("group"),t,e,!0),a=imf.state.get("settings"),n={};for(var r in a)"legend"!=r&&(n[encodeURIComponent(r)]=encodeURIComponent(a[r]));for(var o in n)i+=(-1==i.indexOf("?")?"?":"&")+o+(""!=n[o]?"="+n[o]:"");return i},colors:{get:function(t){if(-1!=(imf.state.get("exploded-countries")||[]).indexOf(t))return"#ccc";if(!n[t]){for(var e in a)if(!a[e]){a[e]=t,n[t]=e;break}if(!n[t]){var i=mw.support.hsl2rgb([Math.random(),.6,.6]);n[t]=mw.support.rgb2css(i),a[n[t]]=t}}return n[t]},free:function(t){n[t]&&(a[n[t]]=!1),n[t]=!1}}}}();mw.chart.defaults=mw.support.extend({future:{style:"dot",background:"#fff"},line:{width:2,secondary:"#ccc",hover:{width:3}},grid:{vertical:{major:{color:"transparent"}}},colors:imf.colors.get,text:{font:"Open Sans",color:"#575757",size:"11pt",charwidth:14}},mw.chart.defaults),riot.tag2("imf-breadcrumbs",'<nav class="dm-navigation" data-crumbs="{crumbs.length}"> <div class="dm-breadcrumb" each="{crumbs}"> <a data-route="{route}" data-dataset="{dataset}" data-group="{group}">{label}</a> </div> </nav>','imf-breadcrumbs,[riot-tag="imf-breadcrumbs"],[data-is="imf-breadcrumbs"]{ display: block; padding: 0 10px; background-color: #fff; } imf-breadcrumbs .dm-breadcrumb,[riot-tag="imf-breadcrumbs"] .dm-breadcrumb,[data-is="imf-breadcrumbs"] .dm-breadcrumb{ display: table-cell; position: relative; padding-right: 30px; height: 55px; vertical-align: middle; } imf-breadcrumbs .dm-breadcrumb:after,[riot-tag="imf-breadcrumbs"] .dm-breadcrumb:after,[data-is="imf-breadcrumbs"] .dm-breadcrumb:after{ content: ""; position: absolute; top: 50%; right: 11px; width: 8px; height: 16px; margin-top: -10px; z-index: 1; cursor: pointer; -moz-background-size: 8px 16px; -webkit-background-size: 8px 16px; background-size: 8px 16px; background-position: center; background-repeat: no-repeat; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20%20width%3D\'8\'%20height%3D\'16\'%20viewBox%3D\'0%200%2027%2044\'%3E%3Cpath%20d%3D\'M27%2C22L27%2C22L5%2C44l-2.1-2.1L22.8%2C22L2.9%2C2.1L5%2C0L27%2C22L27%2C22z\'%20fill%3D\'%231b335f\'%2F%3E%3C%2Fsvg%3E"); } imf-breadcrumbs .dm-breadcrumb:last-of-type,[riot-tag="imf-breadcrumbs"] .dm-breadcrumb:last-of-type,[data-is="imf-breadcrumbs"] .dm-breadcrumb:last-of-type{ margin-right: 0; padding-right: 0; } imf-breadcrumbs a,[riot-tag="imf-breadcrumbs"] a,[data-is="imf-breadcrumbs"] a{ display: table-cell; font-size: 13px; height: 55px; color: #000; cursor: pointer; vertical-align: middle; border-bottom: 3px solid #fff; } imf-breadcrumbs .dm-breadcrumb:last-of-type a,[riot-tag="imf-breadcrumbs"] .dm-breadcrumb:last-of-type a,[data-is="imf-breadcrumbs"] .dm-breadcrumb:last-of-type a{ color: #0cafae; cursor: auto; border-bottom: 3px solid #0cafae; } imf-breadcrumbs .dm-breadcrumb:last-of-type:after,[riot-tag="imf-breadcrumbs"] .dm-breadcrumb:last-of-type:after,[data-is="imf-breadcrumbs"] .dm-breadcrumb:last-of-type:after{ content: none; }',"",function(i){var e,a=document.body.getAttribute("data-tool"),n=this;n.on("mount",function(){n.root.addEventListener("click",function(t){var e=t.target;e.hasAttribute("data-route")&&(i.geoitem?riot.route("profile",imf.translate("profiles")):imf.route(e.getAttribute("data-dataset"),e.getAttribute("data-group")))})}),n.on("update",function(){if("profile"==a)n.crumbs=[{label:imf.translate("profiles"),route:!0}],i.geoitem&&n.crumbs.push({label:imf.data.geoitems[i.geoitem].label});else if(n.crumbs=[{label:imf.translate("datasets"),route:!0}],i.dataset){var t=imf.data.datasets[i.dataset]||{};!i.group&&i.indicator&&(i.group=imf.data.indicators[i.indicator].group),n.crumbs.push({label:t.title,dataset:i.dataset,route:!0}),i.group&&n.crumbs.push({label:t.hierarchies.indicators[i.group].label,dataset:i.dataset,group:i.group,route:!0}),i.indicator&&n.crumbs.push({label:imf.data.indicators[i.indicator].label})}}),n.on("updated",function(){var t=n.root.querySelector(".dm-breadcrumb:last-child");t.innerHTML!=e&&(t.parentNode.scrollLeft=2*window.innerWidth,e=t.innerHTML)})}),riot.tag2("raw","","","",function(t){this.on("update",function(){this.root.innerHTML=this.opts.content})}),riot.tag2("imf-component","<yield></yield>",'imf-component,[riot-tag="imf-component"],[data-is="imf-component"]{ display: block; }','class="dm-component"',function(t){var e,r=this;function i(){var t=document.body.getAttribute("data-tool"),e=imf.state.get("indicator"),i=imf.state.get("geoitem");r.show_selector="profile"==t?null==i||0==i.length:null==e||0==e.length,r.show_tool=!r.show_selector,r.deeplink=imf.deeplink(),window.requestAnimationFrame?requestAnimationFrame(r.update):r.update()}function o(){clearTimeout(e),e=setTimeout(i,10)}r.statemanager=imf.state,r.datamanager=imf.data,r.nodata=imf.data.meta.nodata||"",r.state={},r.related=[],r.property=function(t,e){var i=new RegExp("[?&](no-)?"+t+"(=([^&#])+)?").exec(location.search);return i&&i[0]?!i[1]&&"=false"!=i[2]&&(null==i[2]||"=true"==i[2]||i[3]):e},r.embed=r.property("embed",!1),r.header=r.property("header",!r.embed),r.footer=r.property("footer",!r.embed),r.fixedyear=r.property("year",!1),r.onYear=function(t){r.statemanager.set("year",t)},r.show_selector=!1,r.show_tool=!1,r.deeplink=imf.deeplink(),imf.state.listen("dataset",function(t){r.state.dataset=t,r.dataset=imf.data.datasets[t]||{},o()}),imf.state.listen("group",function(t){r.state.group=t,o()}),imf.state.listen("indicator",function(t){var e=(r.state.indicators=t)instanceof Array?t[0]:t;r.state.indicator=e,r.indicator=imf.data.indicators[e]||{},r.indicator.mode=r.indicator.legend?"color":"circles",e&&r.state.dataset&&(r.related=imf.data.datasets[r.state.dataset].hierarchies.indicators[r.indicator.group].indicators.slice(0),r.related.splice(r.related.indexOf(e),1)),o()}),imf.state.listen("geoitem",function(t){var e=(r.state.geoitems=t)instanceof Array?t[0]:t;if(r.state.geoitem=e,r.geoitem=imf.data.geoitems[e]||{},r.state.exploded)for(var i=0;i<t.length;i++){var a=r.state.exploded.indexOf(t[i]);-1!=a&&r.state.exploded.splice(a,1)}o()}),imf.state.listen("year",function(t){r.year=t,o()}),imf.state.listen("exploded-regions",function(t){imf.state.get("dataset");var e=[];for(var i in t)for(var a=t[i],n=0;n<a.length;n++)-1==r.state.geoitems.indexOf(a[n])&&e.push(a[n]);imf.state.set("exploded-countries",r.state.exploded=e),o()}),r.one("update",function(){r.root.style.visibility="visible"}),r.on("updated",function(){imf.translate(r.root)})}),riot.tag2("imf-countries-panel",'<h3 if="{countries.length}" data-babel="#relatedcountrypages"></h3> <div class="dm-country-pages"> <a each="{countries}" href="http://www.imf.org/external/country/{id}/index.htm" target="_blank" class="dm-country-page" data-geoitem="{id}">{label}</a> </div>','imf-countries-panel,[riot-tag="imf-countries-panel"],[data-is="imf-countries-panel"]{ display: block; position: relative; } imf-countries-panel h3,[riot-tag="imf-countries-panel"] h3,[data-is="imf-countries-panel"] h3{ text-transform: uppercase; text-align: center; color: #1b335f; line-height: 30px; margin-top: 35px; padding: 10px 0; } imf-countries-panel .dm-country-pages,[riot-tag="imf-countries-panel"] .dm-country-pages,[data-is="imf-countries-panel"] .dm-country-pages{ text-align: center; } imf-countries-panel .dm-country-page,[riot-tag="imf-countries-panel"] .dm-country-page,[data-is="imf-countries-panel"] .dm-country-page{ display: inline-block; padding: 0 20px; margin-bottom: 10px; white-space: nowrap; text-decoration: none; color: #000; background: #fff; height: 54px; border-radius: 27px; border: 1px solid #c8cbce; margin-right: 20px; line-height: 54px; cursor: pointer; -webkit-transition: background-color 0.5s linear; -moz-transition: background-color 0.5s linear; transition: background-color 0.5s linear; } imf-countries-panel .dm-country-page:hover,[riot-tag="imf-countries-panel"] .dm-country-page:hover,[data-is="imf-countries-panel"] .dm-country-page:hover{ color: #1b335f; background: rgba(0, 0, 0, 0.04); } imf-countries-panel .dm-country-page img,[riot-tag="imf-countries-panel"] .dm-country-page img,[data-is="imf-countries-panel"] .dm-country-page img{ display: inline-block; height: 30px; position: relative; margin-right: 10px; top: calc(50% - 18px); }',"",function(i){var a=this;a.countries=[],a.on("update",function(){for(var t in a.countries=[],i.geoitems){var e=imf.data.geoitems[i.geoitems[t]];"C"==e.type&&a.countries.push({label:e.label,id:i.geoitems[t]})}})}),riot.tag2("imf-dataset-panel",'<h3 if="{hasdata}"> <b>{dataset.title}</b> <span>{count} indicator<virtual if="{count > 1}">s</virtual>, {dataset.minyear} - {dataset.maxyear}</span> <button if="{count > 4}"><span data-babel="#showall"></span></button> </h3> <div if="{hasdata}" class="indicators"> <virtual each="{indicator,index in indicators}"> <imf-indicator-panel indicator="{index < maximum ? indicator : \'\'}" geoitem="{state.geoitem}" future="{dataset.projectionyear}" on-click="{onPanelClick}"></imf-indicator-panel> </virtual> </div>','imf-dataset-panel h3,[riot-tag="imf-dataset-panel"] h3,[data-is="imf-dataset-panel"] h3{ text-transform: uppercase; text-align: center; background: #1b335f; color: #fff; line-height: 30px; padding: 30px 0; } imf-dataset-panel h3 span,[riot-tag="imf-dataset-panel"] h3 span,[data-is="imf-dataset-panel"] h3 span{ display: inline-block; margin: 0 20px; } imf-dataset-panel button,[riot-tag="imf-dataset-panel"] button,[data-is="imf-dataset-panel"] button{ border: none; display: inline-block; white-space: nowrap; padding: 0; border-radius: 10px; text-align: center; font-size: 11pt; text-transform: uppercase; color: #fff; background-color: #0cafae; transition: opacity 0.5s linear; } imf-dataset-panel button:focus,[riot-tag="imf-dataset-panel"] button:focus,[data-is="imf-dataset-panel"] button:focus{ outline: none; } imf-dataset-panel .indicators,[riot-tag="imf-dataset-panel"] .indicators,[data-is="imf-dataset-panel"] .indicators{ width: 100%; max-height: 282px; overflow: hidden; padding: 0 3px; } imf-dataset-panel.expanded .indicators,[riot-tag="imf-dataset-panel"].expanded .indicators,[data-is="imf-dataset-panel"].expanded .indicators{ max-height: 9999px; transition: max-height 0.5s linear; } imf-dataset-panel .indicators:after,[riot-tag="imf-dataset-panel"] .indicators:after,[data-is="imf-dataset-panel"] .indicators:after{ content: ""; display: table; clear: both; } imf-dataset-panel imf-indicator-panel,[riot-tag="imf-dataset-panel"] imf-indicator-panel,[data-is="imf-dataset-panel"] imf-indicator-panel{ float: left; margin: 6px 3px 0 3px; width: calc(25% - 6px); height: 270px !important; } imf-dataset-panel imf-indicator-panel .geoitem,[riot-tag="imf-dataset-panel"] imf-indicator-panel .geoitem,[data-is="imf-dataset-panel"] imf-indicator-panel .geoitem{ display: none; } imf-dataset-panel imf-indicator-panel[data-indicator],[riot-tag="imf-dataset-panel"] imf-indicator-panel[data-indicator],[data-is="imf-dataset-panel"] imf-indicator-panel[data-indicator]{ cursor: pointer; } @media only screen and (min-width: 801px) and (max-width: 1080px) { imf-dataset-panel imf-indicator-panel,[riot-tag="imf-dataset-panel"] imf-indicator-panel,[data-is="imf-dataset-panel"] imf-indicator-panel{ width: calc(33.3% - 6px); } } @media only screen and (min-width: 501px) and (max-width: 800px) { imf-dataset-panel .indicators,[riot-tag="imf-dataset-panel"] .indicators,[data-is="imf-dataset-panel"] .indicators{ max-height: 558px; } imf-dataset-panel imf-indicator-panel,[riot-tag="imf-dataset-panel"] imf-indicator-panel,[data-is="imf-dataset-panel"] imf-indicator-panel{ width: calc(50% - 6px); } } @media only screen and (max-width: 500px) { imf-dataset-panel imf-indicator-panel,[riot-tag="imf-dataset-panel"] imf-indicator-panel,[data-is="imf-dataset-panel"] imf-indicator-panel{ width: calc(100% - 6px); } }',"",function(r){var o=this;o.mixin("imf-hierarchies"),o.hierarchies(!1),o.maximum=4,o.expanded=!1,o.default=!1,o.onPanelClick=function(t){for(var e=t.target;"BODY"!=e.nodeName;e=e.parentNode){var i;if(e.hasAttribute("indicator")&&(i=[e.getAttribute("indicator")]),e.hasAttribute("dataset")){var a=e.getAttribute("dataset"),n=document.querySelector("base").getAttribute("href");if(!i)return;var r=imf.state.get("geoitem")[0],o=n+i+"@"+a+"/"+r;"C"==imf.data.geoitems[r].type&&(o+="?zoom="+r+"&highlight="+r),window.location.href=o}}},o.on("mount",function(){var i=o.root.querySelector("button");i&&i.addEventListener("click",function(t){var e=!o.root.classList.contains("expanded");o.root.classList.toggle("expanded"),i.style.opacity=0,setTimeout(function(){i.style.opacity=1,i.firstChild.innerHTML=e?imf.data.meta.collapse:imf.data.meta.showall,o.maximum=e?o.count:4,o.expanded=e,o.update()},500)})}),o.on("update",function(){o.dataset=imf.data.datasets[r.dataset];var t=!!r.geoitem&&imf.data.geoitems[r.geoitem].type;if(o.hasdata="C"==t,t&&"C"!=t)for(var e=0,i=o["R"==t?"regions":"groups"];e<i.length;e++)if(i[e].id==r.geoitem){o.hasdata=!0;break}for(var e in o.count=0,o.dataset.hierarchies.indicators)o.count+=o.dataset.hierarchies.indicators[e].indicators.length;if(r.default&&!o.default){o.root.classList.add("default"),o.root.classList.add("expanded"),o.maximum=o.count;var a=o.root.querySelector("button");a&&(a.firstChild.innerHTML=imf.data.meta.collapse,o.default=!0)}if(o.dataset.profile)o.indicators=o.dataset.profile.split(/\s*,\s*/);else for(var e in o.indicators=[],o.dataset.hierarchies.indicators)for(var n=0;n<o.dataset.hierarchies.indicators[e].indicators.length;n++)o.indicators.push(o.dataset.hierarchies.indicators[e].indicators[n])});var t=2;o.on("updated",function(){0==--t&&o.update()})}),riot.tag2("imf-dataset-selector",'<div class="dm-component-header"> <h1>{label}</h1> <div class="dm-description" data-role="description"></div> </div> <div if="{groups}" class="dm-panels"> <h3 data-babel="#indicatorgroups"></h3> <div data-panels="{groups.length}" class="dm-group-panels"> <imf-group-panel each="{group in groups}" class="swiper-slide" dataset="{dataset}" group="{group}" on-click="{imf.panel}"></imf-group-panel> </div> </div> <virtual if="{indicators}"> <div class="dm-panels"> <h3> {geoitem.label} <a class="dm-profile-button" href="profile/{gid}/{opts.dataset}" data-babel="#profile"></a> </h3> <imf-indicator-panel each="{item in indicators}" load-indicator="{true}" class="swiper-slide" dataset="{parent.dataset}" indicator="{item}" future="{parent.future}" on-click="{imf.panel}"></imf-indicator-panel> </div> <div if="{more.length}" class="dm-related-datasets darkblue"> <h3 if="{more.length != 1}"><span data-babel="#moregroupspre"></span> {more.length} <span data-babel="#moregroupspost"></span>: {moretitle}</h3> <h3 if="{more.length == 1}"><span data-babel="#othergroup"></span>: {moretitle}</h3> <swiper-panel items="{more}"> <imf-group-panel dataset="{item.dataset}" group="{item.group}" on-click="{imf.panel}"></imf-group-panel> </swiper-panel> </div> </virtual> <div if="{datasets}" class="dm-panels"> <h3 if="{groups}"><span data-babel="#moredatasetspre"></span> {datasets.length} <span data-babel="#moredatasetspost"></span></h3> <div if="{datasets}" class="dm-related-datasets"> <swiper-panel class="{disabled: !groups}" items="{datasets}"> <imf-group-panel dataset="{item}" on-click="{imf.panel}"></imf-group-panel> </swiper-panel> </div> </div>','imf-dataset-selector,[riot-tag="imf-dataset-selector"],[data-is="imf-dataset-selector"]{ display: block; background: #e9ecef; } imf-dataset-selector h3,[riot-tag="imf-dataset-selector"] h3,[data-is="imf-dataset-selector"] h3{ text-transform: uppercase; text-align: center; color: #1b335f; line-height: 30px; padding: 10px 0; margin-top: 35px; position: relative; min-height: 40px; } imf-dataset-selector .dm-panels:first-of-type h3 > span,[riot-tag="imf-dataset-selector"] .dm-panels:first-of-type h3 > span,[data-is="imf-dataset-selector"] .dm-panels:first-of-type h3 > span{ position: absolute; top: 0; } imf-dataset-selector .dm-panels:first-of-type h3 > span:first-child,[riot-tag="imf-dataset-selector"] .dm-panels:first-of-type h3 > span:first-child,[data-is="imf-dataset-selector"] .dm-panels:first-of-type h3 > span:first-child{ left: 20px; } imf-dataset-selector .dm-panels:first-of-type h3 > span:last-child,[riot-tag="imf-dataset-selector"] .dm-panels:first-of-type h3 > span:last-child,[data-is="imf-dataset-selector"] .dm-panels:first-of-type h3 > span:last-child{ right: 20px; } imf-dataset-selector[dataset] .dm-component-header,[riot-tag="imf-dataset-selector"][dataset] .dm-component-header,[data-is="imf-dataset-selector"][dataset] .dm-component-header{ background-image: url(images/dotted-world.svg); background-size: 80%; background-position: center 50px; background-repeat: no-repeat; } imf-dataset-selector[group] .dm-component-header,[riot-tag="imf-dataset-selector"][group] .dm-component-header,[data-is="imf-dataset-selector"][group] .dm-component-header{ background-image: none; } imf-dataset-selector .dm-description,[riot-tag="imf-dataset-selector"] .dm-description,[data-is="imf-dataset-selector"] .dm-description{ padding-top: 40px; } imf-dataset-selector .dm-description p,[riot-tag="imf-dataset-selector"] .dm-description p,[data-is="imf-dataset-selector"] .dm-description p{ padding: 10px 30px; line-height: 20pt; white-space: pre-line; max-width: 1000px; margin: 0 auto; font-size: 13pt; } imf-dataset-selector .dm-description > p:first-child,[riot-tag="imf-dataset-selector"] .dm-description > p:first-child,[data-is="imf-dataset-selector"] .dm-description > p:first-child{ font-weight: bold; } imf-dataset-selector font,[riot-tag="imf-dataset-selector"] font,[data-is="imf-dataset-selector"] font{ font-family: inherit !important; font-weight: bold; } imf-dataset-selector .dm-panels,[riot-tag="imf-dataset-selector"] .dm-panels,[data-is="imf-dataset-selector"] .dm-panels{ background: #e9ecef; padding-bottom: 10px; } imf-dataset-selector .darkblue,[riot-tag="imf-dataset-selector"] .darkblue,[data-is="imf-dataset-selector"] .darkblue{ background-color: #1b335f; } imf-dataset-selector .darkblue.dm-panels,[riot-tag="imf-dataset-selector"] .darkblue.dm-panels,[data-is="imf-dataset-selector"] .darkblue.dm-panels{ padding-bottom: 0; } imf-dataset-selector .darkblue > h3,[riot-tag="imf-dataset-selector"] .darkblue > h3,[data-is="imf-dataset-selector"] .darkblue > h3{ color: #fff; } imf-dataset-selector .dm-panels .swiper-slide,[riot-tag="imf-dataset-selector"] .dm-panels .swiper-slide,[data-is="imf-dataset-selector"] .dm-panels .swiper-slide{ float: left; border: 4px solid #e9ecef; } imf-dataset-selector[dataset] .dm-panels .swiper-slide,[riot-tag="imf-dataset-selector"][dataset] .dm-panels .swiper-slide,[data-is="imf-dataset-selector"][dataset] .dm-panels .swiper-slide{ border: 2px solid #e9ecef; } imf-dataset-selector .dm-panels:after,[riot-tag="imf-dataset-selector"] .dm-panels:after,[data-is="imf-dataset-selector"] .dm-panels:after{ content: ""; clear: both; display: table; } imf-dataset-selector .dm-related-datasets,[riot-tag="imf-dataset-selector"] .dm-related-datasets,[data-is="imf-dataset-selector"] .dm-related-datasets{ } imf-dataset-selector .dm-related-datasets:after,[riot-tag="imf-dataset-selector"] .dm-related-datasets:after,[data-is="imf-dataset-selector"] .dm-related-datasets:after{ content: ""; clear: both; display: table; } imf-dataset-selector .more,[riot-tag="imf-dataset-selector"] .more,[data-is="imf-dataset-selector"] .more{ padding-bottom: 50px; position: relative; } imf-dataset-selector .more:before,[riot-tag="imf-dataset-selector"] .more:before,[data-is="imf-dataset-selector"] .more:before{ content: attr(data-more); width: 100px; position: absolute; bottom: 0; left: 50%; margin-left: -50px; background: #0cafae; padding: 10px; border-radius: 5px; color: #fff; cursor: pointer; display: inline-block; text-transform: uppercase; -webkit-box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); -moz-box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); } imf-dataset-selector .opened.more:before,[riot-tag="imf-dataset-selector"] .opened.more:before,[data-is="imf-dataset-selector"] .opened.more:before{ content: attr(data-less); } imf-dataset-selector .more > p,[riot-tag="imf-dataset-selector"] .more > p,[data-is="imf-dataset-selector"] .more > p{ display: none; } imf-dataset-selector .opened.more > p,[riot-tag="imf-dataset-selector"] .opened.more > p,[data-is="imf-dataset-selector"] .opened.more > p{ display: block; }',"",function(s){var l=this,d=!1,c=!1;l.on("update",function(){if(d!=s.dataset||c!=s.group){delete l.indicators,delete l.groups,delete l.more,delete l.datasets;var i=imf.data.datasets;if(i){var t=i[s.dataset];if(t&&(l.gid=t.initchart.split(",")[0],l.geoitem=imf.data.geoitems[l.gid]),s.group){var e=t.hierarchies.indicators[s.group];for(var a in l.label=e.label,l.description=t["group"+s.group+"long"]||"",l.dataset=s.dataset,l.future=t.projectionyear,l.moretitle=t.title,l.indicators=e.indicators,l.more=[],t.hierarchies.indicators)a!=s.group&&l.more.push({dataset:s.dataset,group:a})}else if(s.dataset){var n=t.hierarchies.indicators;for(var a in l.label=t.title,l.description=t.description,l.dataset=s.dataset,l.groups=[],n)l.groups.push(a)}else l.label=imf.translate("datasets"),l.description=imf.translate("datasetsdescription");if(!s.group){for(var r in l.datasets=[],i)r!=s.dataset&&l.datasets.push(r);l.datasets.sort(function(t,e){return+i[t].order<+i[e].order?-1:1})}var o=l.root.querySelector('[data-role="description"]');if(o){-1==l.description.indexOf("<p")?o.innerHTML="<p>"+l.description+"</p>":o.innerHTML=l.description;window.innerWidth;o.style.display=""!=l.description?"block":"none"}d=s.dataset,c=s.group}}}),l.on("updated",function(){imf.translate(l.root)})}),riot.tag2("imf-geoitem-selector",'<div class="dm-popup-header" data-babel="#add"></div> <radio-group> <div class="dm-popup-pane" data-babel="@data-title" data-title="country"> <div data-level="{level}" data-geoitem="{id}" class="{dm-geoitem: true, disabled:!hasdata, selected: selected}" each="{parent.countries}">{label}</div> </div> <div class="dm-popup-pane" data-babel="@data-title" data-title="region"> <div data-level="{level}" data-geoitem="{id}" class="{dm-geoitem: true, disabled:!hasdata, selected: selected}" each="{parent.regions}">{label}</div> </div> <div class="dm-popup-pane" data-babel="@data-title" data-title="group"> <div data-level="{level}" data-geoitem="{id}" class="{dm-geoitem: true, disabled:!hasdata, selected: selected}" each="{parent.groups}">{label}</div> </div> </radio-group> <div class="dm-popup-footer"> <div class="dm-button-wrapper"> <button class="cancel" data-babel="#cancel"></button> </div> <div class="dm-button-wrapper"> <button class="add" data-babel="#ok"></button> </div> </div>','imf-geoitem-selector,[riot-tag="imf-geoitem-selector"],[data-is="imf-geoitem-selector"]{ display: none; position: absolute; left: 0; right: 0; top: 0; text-align: center; color: #fff; z-index: 2000; background: #1b335f; height: 560px; -webkit-box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); -moz-box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); } imf-geoitem-selector.opened,[riot-tag="imf-geoitem-selector"].opened,[data-is="imf-geoitem-selector"].opened{ display: block; } imf-geoitem-selector radio-group,[riot-tag="imf-geoitem-selector"] radio-group,[data-is="imf-geoitem-selector"] radio-group{ height: calc(100% - 145px); } imf-geoitem-selector .dm-popup-header,[riot-tag="imf-geoitem-selector"] .dm-popup-header,[data-is="imf-geoitem-selector"] .dm-popup-header,imf-geoitem-selector .dm-popup-footer,[riot-tag="imf-geoitem-selector"] .dm-popup-footer,[data-is="imf-geoitem-selector"] .dm-popup-footer{ padding: 20px; font-size: 14pt; text-transform: uppercase; } imf-geoitem-selector .dm-popup-header,[riot-tag="imf-geoitem-selector"] .dm-popup-header,[data-is="imf-geoitem-selector"] .dm-popup-header{ height: 65px; } imf-geoitem-selector .dm-popup-footer,[riot-tag="imf-geoitem-selector"] .dm-popup-footer,[data-is="imf-geoitem-selector"] .dm-popup-footer{ height: 80px; border-top: 1px solid #44587c; } imf-geoitem-selector .dm-popup-pane,[riot-tag="imf-geoitem-selector"] .dm-popup-pane,[data-is="imf-geoitem-selector"] .dm-popup-pane{ text-align: left; margin-top: 10px; height: calc(100% - 45px); overflow: auto; } imf-geoitem-selector .dm-button-wrapper,[riot-tag="imf-geoitem-selector"] .dm-button-wrapper,[data-is="imf-geoitem-selector"] .dm-button-wrapper{ width: 49%; display: inline-block; margin: 0 auto; } imf-geoitem-selector button,[riot-tag="imf-geoitem-selector"] button,[data-is="imf-geoitem-selector"] button{ border: none; font-size: 10pt; cursor: pointer; padding: 10px 20px; min-width: 100px; color: #fff; text-transform: uppercase; border-radius: 5px; } imf-geoitem-selector button.cancel,[riot-tag="imf-geoitem-selector"] button.cancel,[data-is="imf-geoitem-selector"] button.cancel{ background: #50616e; } imf-geoitem-selector button.add,[riot-tag="imf-geoitem-selector"] button.add,[data-is="imf-geoitem-selector"] button.add{ background: #0cafae; } imf-geoitem-selector .dm-radio-buttons,[riot-tag="imf-geoitem-selector"] .dm-radio-buttons,[data-is="imf-geoitem-selector"] .dm-radio-buttons{ margin: 0; } imf-geoitem-selector .dm-geoitem,[riot-tag="imf-geoitem-selector"] .dm-geoitem,[data-is="imf-geoitem-selector"] .dm-geoitem{ position: relative; cursor: pointer; padding: 15px 30px; } imf-geoitem-selector .selected.dm-geoitem,[riot-tag="imf-geoitem-selector"] .selected.dm-geoitem,[data-is="imf-geoitem-selector"] .selected.dm-geoitem{ background: #165877; } imf-geoitem-selector .selected.dm-geoitem:after,[riot-tag="imf-geoitem-selector"] .selected.dm-geoitem:after,[data-is="imf-geoitem-selector"] .selected.dm-geoitem:after{ position: absolute; right: 20px; content: "\\2713"; } imf-geoitem-selector .disabled.dm-geoitem,[riot-tag="imf-geoitem-selector"] .disabled.dm-geoitem,[data-is="imf-geoitem-selector"] .disabled.dm-geoitem{ opacity: 0.5; pointer-events: none; } imf-geoitem-selector .dm-geoitem:hover,[riot-tag="imf-geoitem-selector"] .dm-geoitem:hover,[data-is="imf-geoitem-selector"] .dm-geoitem:hover{ background: #165877; } imf-geoitem-selector [data-level="1"],[riot-tag="imf-geoitem-selector"] [data-level="1"],[data-is="imf-geoitem-selector"] [data-level="1"]{ padding-left: 60px; } imf-geoitem-selector [data-level="2"],[riot-tag="imf-geoitem-selector"] [data-level="2"],[data-is="imf-geoitem-selector"] [data-level="2"]{ padding-left: 90px; }',"",function(t){var r=this;function e(t){var e=t.target,i=e.classList,a=imf.state.get("geoitem")||[];if("BUTTON"==e.nodeName)i.contains("add")&&imf.state.set("geoitem",a),r.root.classList.remove("opened");else if(e.hasAttribute("data-geoitem")){var n=e.getAttribute("data-geoitem");i.contains("selected")?(a.splice(a.indexOf(n),1),i.remove("selected")):(a.push(n),i.add("selected"))}}r.mixin("imf-hierarchies"),r.root.addEventListener("mouseover",function(t){imf.state.set("highlight",t.target.getAttribute("data-geoitem"))}),r.on("mount",function(){imf.translate(r.root),r.root.classList.add("opened"),r.root.addEventListener("click",e)}),r.on("unmount",function(){r.root.removeEventListener("click",e)}),r.on("mount",function(){r.root.style.top="";var t=r.root.getBoundingClientRect();t.height>window.innerHeight?(r.root.style.top=window.innerHeight-t.top+"px",r.root.style.height=window.innerHeight+"px"):t.top+t.height>window.innerHeight&&(r.root.style.top=window.innerHeight-t.top-t.height+"px")}),r.on("update",function(){r.hierarchies(),r.countries.sort(r.localeSort)})}),riot.tag2("imf-group-panel",'<h1>{label}</h1> <div if="{!ccount}" class="numindics"> <span class="highlight">{icount}</span> <div data-babel="#indicators"></div> </div> <table if="{ccount}"> <tr><td data-babel="#indicators"></td><td align="right"><span class="highlight">{icount}</span></td></tr> <tr><td data-babel="#timerange"></td><td align="right">{first} - {last}</td></tr> <tr><td data-babel="#countries"></td><td align="right">{ccount}</td></tr> <tr><td data-babel="#regionsandgroups"></td><td align="right">{gcount}</td></tr> </table>','imf-group-panel,[riot-tag="imf-group-panel"],[data-is="imf-group-panel"]{ display: block; color: #fff; font-size: 11pt; background-color: #1b335f; padding: 15px 30px; position: relative; height: 280px; box-shadow: inset 0 0 0 1px #dedfe1; } imf-group-panel[group],[riot-tag="imf-group-panel"][group],[data-is="imf-group-panel"][group]{ color: #000; background-color: #fff; } imf-group-panel h1,[riot-tag="imf-group-panel"] h1,[data-is="imf-group-panel"] h1{ font-size: 105%; height: 45px; font-weight: bold; text-align: center; text-overflow: ellipsis; overflow: hidden; } imf-group-panel table,[riot-tag="imf-group-panel"] table,[data-is="imf-group-panel"] table{ width: 100%; border-spacing: 0; } imf-group-panel td,[riot-tag="imf-group-panel"] td,[data-is="imf-group-panel"] td{ padding: 3px 0; white-space: nowrap; } imf-group-panel .highlight,[riot-tag="imf-group-panel"] .highlight,[data-is="imf-group-panel"] .highlight{ padding: 5px 10px; background: #0cafae; color: #fff; } imf-group-panel p,[riot-tag="imf-group-panel"] p,[data-is="imf-group-panel"] p{ line-height: 18pt; height: 50px; text-align: center; } imf-group-panel:after,[riot-tag="imf-group-panel"]:after,[data-is="imf-group-panel"]:after{ content: ""; position: absolute; left: 0; right: 0; bottom: 0; top: 0; pointer-events: none; background-color: rgba(0,0,0,0); -webkit-transition: background-color 0.5s linear; -moz-transition: background-color 0.5s linear; transition: background-color 0.5s linear; } imf-group-panel:hover,[riot-tag="imf-group-panel"]:hover,[data-is="imf-group-panel"]:hover{ background-color: #165877; } imf-group-panel[group]:hover,[riot-tag="imf-group-panel"][group]:hover,[data-is="imf-group-panel"][group]:hover{ color: #1b335f; background-color: #fff; } imf-group-panel:hover:after,[riot-tag="imf-group-panel"]:hover:after,[data-is="imf-group-panel"]:hover:after{ background-color: rgba(0,0,0,0.04); } imf-group-panel .numindics,[riot-tag="imf-group-panel"] .numindics,[data-is="imf-group-panel"] .numindics{ text-transform: lowercase; text-align: center; } imf-group-panel .numindics .highlight,[riot-tag="imf-group-panel"] .numindics .highlight,[data-is="imf-group-panel"] .numindics .highlight{ font-size: 30px; font-weight: 200; display: inline-block; padding: 2px 16px; margin-bottom: 10px; }',"",function(o){var s=this;s.mixin("imf-hierarchies"),s.on("mount",function(){o.onClick&&s.root.addEventListener("click",o.onClick)}),s.on("update",function(){var t=imf.data.datasets[o.dataset];s.label=t.title,s.description=o.group?t["group"+o.group+"short"]:t.shortdescription,s.icount=0,s.first=Number.MAX_VALUE,s.last=Number.MIN_VALUE;var e=[];for(var i in t.hierarchies&&(e=o.group?[t.hierarchies.indicators[o.group]]:t.hierarchies.indicators),e){var a=e[i];s.icount+=a.indicators.length;for(var n=0;n<a.indicators.length;n++){var r=imf.data.indicators[a.indicators[n]];s.first=Math.min(s.first,r.minyear||t.minyear),s.last=Math.max(s.last,r.maxyear||t.maxyear)}o.group&&(s.label=a.label)}o.group||(s.regions||s.hierarchies(),s.ccount=t.numcountries,s.gcount=s.regions.length+s.groups.length)})}),riot.tag2("imf-indicator-panel",'<div class="header"> <h1>{indicator.label || iid}</h1> <div class="unit">{indicator.unit || \'\'}</div> </div> <div class="value">{value || nodata}</div> <div class="wordify">{wordify}</div> <mw-chart name="chart" datamanager="{datamanager}" indicators="{[iid]}" geoitems="{[gid]}" year="{year}" on-year="{onYear}" future="{future}" options="{chartoptions}"></mw-chart> <div class="geoitem"> {geoitem.label || gid} </div>','imf-indicator-panel,[riot-tag="imf-indicator-panel"],[data-is="imf-indicator-panel"]{ display: block; height: 300px !important; background-color: #fff; padding: 15px 30px; text-align: center !important; box-shadow: inset 0 0 0 1px #dedfe1; cursor: pointer; } imf-indicator-panel .header,[riot-tag="imf-indicator-panel"] .header,[data-is="imf-indicator-panel"] .header{ height: 65px; } imf-indicator-panel h1,[riot-tag="imf-indicator-panel"] h1,[data-is="imf-indicator-panel"] h1{ font-size: 105%; font-weight: bold; max-height: 65px; text-overflow: ellipsis; overflow: hidden; } imf-indicator-panel p,[riot-tag="imf-indicator-panel"] p,[data-is="imf-indicator-panel"] p{ height: 45px; overflow: hidden; } imf-indicator-panel .unit,[riot-tag="imf-indicator-panel"] .unit,[data-is="imf-indicator-panel"] .unit{ font-style: italic; font-size: 13px; } imf-indicator-panel .geoitem,[riot-tag="imf-indicator-panel"] .geoitem,[data-is="imf-indicator-panel"] .geoitem{ font-size: 13px; margin-top: 10px; } imf-indicator-panel .value,[riot-tag="imf-indicator-panel"] .value,[data-is="imf-indicator-panel"] .value{ margin-top: 10px; font-size: 35px; height: 40px; font-weight: 200; color: #1b335f; } imf-indicator-panel .wordify,[riot-tag="imf-indicator-panel"] .wordify,[data-is="imf-indicator-panel"] .wordify{ font-size: 14px; color: #1b335f; height: 16px; } imf-indicator-panel .chart-container,[riot-tag="imf-indicator-panel"] .chart-container,[data-is="imf-indicator-panel"] .chart-container{ height: 100px; pointer-events: none; } imf-indicator-panel mw-chart,[riot-tag="imf-indicator-panel"] mw-chart,[data-is="imf-indicator-panel"] mw-chart{ clear: both; height: 100px; } imf-indicator-panel .year-slider,[riot-tag="imf-indicator-panel"] .year-slider,[data-is="imf-indicator-panel"] .year-slider{ position: relative; left: 4px; width: calc(100% + 28px); } imf-indicator-panel .year-slider[data-frequency="1"],[riot-tag="imf-indicator-panel"] .year-slider[data-frequency="1"],[data-is="imf-indicator-panel"] .year-slider[data-frequency="1"]{ width: calc(100% + 18px); } imf-indicator-panel .slider-handle,[riot-tag="imf-indicator-panel"] .slider-handle,[data-is="imf-indicator-panel"] .slider-handle{ position: relative; top: -25px; padding: 5px; } imf-indicator-panel .slider-handle > span,[riot-tag="imf-indicator-panel"] .slider-handle > span,[data-is="imf-indicator-panel"] .slider-handle > span{ display: inline-block; white-space: nowrap; width: 56px; padding: 1px 8px 3px; margin-left: -28px; border-radius: 13px; text-align: center; font-size: 11pt; color: #fff; background-color: #0cafae; } imf-indicator-panel [data-frequency="M"] .slider-handle > span,[riot-tag="imf-indicator-panel"] [data-frequency="M"] .slider-handle > span,[data-is="imf-indicator-panel"] [data-frequency="M"] .slider-handle > span,imf-indicator-panel [data-frequency="Q"] .slider-handle > span,[riot-tag="imf-indicator-panel"] [data-frequency="Q"] .slider-handle > span,[data-is="imf-indicator-panel"] [data-frequency="Q"] .slider-handle > span{ width: 80px; margin-left: -40px; } imf-indicator-panel .slider-handle > div,[riot-tag="imf-indicator-panel"] .slider-handle > div,[data-is="imf-indicator-panel"] .slider-handle > div{ position: absolute; border-left: 1px solid #aeaeae; } imf-indicator-panel .slider-handle > div:before,[riot-tag="imf-indicator-panel"] .slider-handle > div:before,[data-is="imf-indicator-panel"] .slider-handle > div:before{ content: ""; position: absolute; top: -4px; left: -4px; width: 5px; height: 5px; border: 1px solid #8c98ae; background-color: #16335f; transform: rotate(45deg); } imf-indicator-panel:hover,[riot-tag="imf-indicator-panel"]:hover,[data-is="imf-indicator-panel"]:hover{ color: #1b335f; background-color: #f5f5f5; } imf-indicator-panel:hover rect,[riot-tag="imf-indicator-panel"]:hover rect,[data-is="imf-indicator-panel"]:hover rect,imf-indicator-panel:hover path[fill="#fff"],[riot-tag="imf-indicator-panel"]:hover path[fill="#fff"],[data-is="imf-indicator-panel"]:hover path[fill="#fff"]{ fill: #f5f5f5; } imf-indicator-panel .chart-wrapper,[riot-tag="imf-indicator-panel"] .chart-wrapper,[data-is="imf-indicator-panel"] .chart-wrapper{ cursor: auto; }',"",function(a){var n,r,o,s=this;function i(){var t=s.tags.chart.chart();if(t&&s.year){var e=s.indicator.values[s.gid];if(!e)return;var i=t.position(s.year,e[s.year]),a=s.root.querySelector(".slider-handle");a&&("DIV"!=a.lastChild.nodeName&&a.appendChild(document.createElement("div")),a.lastChild.style.display=isNaN(i.y)?"none":"block",a.lastChild.style.top=i.y-o+25+"px",a.lastChild.style.height=o-20-i.y+"px")}}s.datamanager=imf.data,s.chartoptions=mw.support.extend(imf.chart.small,{}),s.year=(new Date).getFullYear(),s.onYear=function(t){s.year=t,s.update()},s.on("mount",function(){var i;a.onClick&&(s.root.addEventListener("mousedown",function(t){i=!1;for(var e=t.target;"IMF-INDICATOR-PANEL"!=e.nodeName;e=e.parentNode)(e.classList.contains("year-slider")||e.classList.contains("dm-profile-button"))&&(i=!0)},!0),s.root.addEventListener("mouseup",function(t){i||a.onClick(t)}));function t(){if(r!==s.root.offsetWidth){r=s.root.offsetWidth;var t=s.tags.chart.chart();t&&t.redraw()}}function e(){clearTimeout(n),n=setTimeout(t,250)}r=s.root.offsetWidth,window.addEventListener("resize",e),window.addEventListener("orientationchage",e)}),s.on("update",function(){if(a.loadIndicator&&a.indicator!=s.iid)s.one("updated",function(){imf.data.load(a.indicator,function(){s.tags.chart.update(),i()})});else if(0==s.root.clientWidth)return;if(s.iid=a.indicator,s.gid=a.geoitem,!s.gid){var t=imf.data.datasets[a.dataset];t&&(s.gid=t.initchart.split(",")[0])}if(s.future=a.future,s.iid&&s.gid){s.indicator=imf.data.indicators[s.iid],s.geoitem=imf.data.geoitems[s.gid];var e=imf.data.latest(s.iid,s.gid,s.year);-1==e.value.indexOf(" ")||e.value==imf.data.meta.nodata?(s.value=s.indicator.statistics?e.value:"",s.wordify=""):(s.value=String(e.value).replace(/(.*)\s+(\w+)/,"$1"),s.wordify=String(e.value).replace(/(.*)\s+(\w+)/,"$2")),e.value==imf.data.meta.nodata&&imf.data.load(s.iid,function(){!s.indicator.values[s.gid]&&s.indicator.defaultgeoitem&&(a.geoitem=s.indicator.defaultgeoitem,s.update())})}}),s.on("updated",function(){if(!o){var t=s.root.querySelector(".chart-container");t&&(o=t.clientHeight)}o&&s.indicator&&s.indicator.values&&i()})}),riot.tag2("imf-legend",'<ul class="dm-legend-container"> <li each="{items}" class="dm-legend-item" data-key="{id}"> <div class="dm-legend-swatch" riot-style="background-color: {color}"></div> <div class="dm-legend-label"> <span>{label}</span> <div data-type="{type}" data-key="{id}" title="{help.profiles}" class="dm-profile-button">{imf.data.meta.profile||\'{profile}\'}</div> <div data-type="{type}" data-key="{id}" title="{help.explode}" class="{explode}"></div> <div data-type="{type}" data-key="{id}" title="{help.countries}" class="dm-info-button"></div> </div> <div class="dm-legend-value">{value}</div> </li> <div class="dm-legend-item"> <button class="dm-legend-add" data-babel="#addtochart"></button> <span class="dm-legend-reset" data-babel="#reset"></span> <div id="geoitem-popup"></div> </div> </ul>','imf-legend,[riot-tag="imf-legend"],[data-is="imf-legend"]{ display: block; background: #fff; } imf-legend .dm-legend-container,[riot-tag="imf-legend"] .dm-legend-container,[data-is="imf-legend"] .dm-legend-container{ padding: 0; margin: 0 8px; width: calc(100% - 16px); } imf-legend .dm-legend-container:after,[riot-tag="imf-legend"] .dm-legend-container:after,[data-is="imf-legend"] .dm-legend-container:after{ content: ""; clear: both; display: table; } imf-legend .dm-legend-item,[riot-tag="imf-legend"] .dm-legend-item,[data-is="imf-legend"] .dm-legend-item{ display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; position: relative; padding: 10px 20px 5px 50px; margin: 0; height: 46px; list-style: none; background: #fff; border-bottom: 1px solid #dbdbda; } imf-legend .dm-legend-swatch,[riot-tag="imf-legend"] .dm-legend-swatch,[data-is="imf-legend"] .dm-legend-swatch{ position: absolute; left: 22px; top: 14px; } imf-legend .dm-legend-swatch:before,[riot-tag="imf-legend"] .dm-legend-swatch:before,[data-is="imf-legend"] .dm-legend-swatch:before{ content: ""; width: 18px; height: 18px; position: absolute; left: 0; top: -2px; border-radius: 9px; background-color: inherit; } imf-legend.indicators .dm-legend-swatch:before,[riot-tag="imf-legend"].indicators .dm-legend-swatch:before,[data-is="imf-legend"].indicators .dm-legend-swatch:before{ border-radius: 0; top: 5px; height: 4px; } imf-legend .dm-legend-swatch:after,[riot-tag="imf-legend"] .dm-legend-swatch:after,[data-is="imf-legend"] .dm-legend-swatch:after{ content: ""; width: 10px; height: 10px; position: absolute; left: 4px; top: 2px; cursor: pointer; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20width%3D\'10\'%20height%3D\'10\'%20viewBox%3D\'0%200%2018%2018\'%3E%3Cpath%20d%3D\'M0%2C0l18%2C18M0%2C18L18%2C0\'%20stroke-width%3D\'2\'%20stroke%3D\'%23fff\'%2F%3E%3C%2Fsvg%3E"); } imf-legend[interactive="false"] .dm-legend-swatch:after,[riot-tag="imf-legend"][interactive="false"] .dm-legend-swatch:after,[data-is="imf-legend"][interactive="false"] .dm-legend-swatch:after{ cursor: auto; content: none; } imf-legend .dm-legend-label,[riot-tag="imf-legend"] .dm-legend-label,[data-is="imf-legend"] .dm-legend-label{ display: inline-block; width: 100%; } imf-legend .dm-legend-label > span,[riot-tag="imf-legend"] .dm-legend-label > span,[data-is="imf-legend"] .dm-legend-label > span{ display: inline-block; max-width: calc(100% - 130px); overflow: hidden; white-space: nowrap; text-overflow: ellipsis; } imf-legend .dm-legend-value,[riot-tag="imf-legend"] .dm-legend-value,[data-is="imf-legend"] .dm-legend-value{ display: inline-block; text-align: right; white-space: nowrap; width: 120px } imf-legend .dm-legend-add,[riot-tag="imf-legend"] .dm-legend-add,[data-is="imf-legend"] .dm-legend-add{ color: #fff; background: #0cafae; font-weight: 300; border: none; border-radius: 5px; display: inline-block; margin-left: -35px; padding: 3px 10px 3px 40px; position: relative; top: -4px; cursor: pointer; text-transform: uppercase; -webkit-box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); -moz-box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); } imf-legend .dm-legend-add:before,[riot-tag="imf-legend"] .dm-legend-add:before,[data-is="imf-legend"] .dm-legend-add:before{ content: ""; position: absolute; left: 8px; top: 8px; width: 16px; height: 16px; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%2017%2017\'%3E%3Cpath%20d%3D\'M0%2C8h17M8%2C0v17\'%20stroke%3D\'%23fff\'%2F%3E%3C%2Fsvg%3E"); } imf-legend .dm-explode-button,[riot-tag="imf-legend"] .dm-explode-button,[data-is="imf-legend"] .dm-explode-button{ display: inline-block; cursor: pointer; border-radius: 5px; border: 1px solid #e1e2e1; width: 36px; height: 16px; margin: 0 5px; color: #000; position: relative; top: 2px; } imf-legend.indicators .dm-explode-button,[riot-tag="imf-legend"].indicators .dm-explode-button,[data-is="imf-legend"].indicators .dm-explode-button{ display: none; } imf-legend .dm-explode-button:before,[riot-tag="imf-legend"] .dm-explode-button:before,[data-is="imf-legend"] .dm-explode-button:before{ position: absolute; line-height: 16px; content: "+"; top: -1.5px; left: 22px; } imf-legend .dm-explode-button:after,[riot-tag="imf-legend"] .dm-explode-button:after,[data-is="imf-legend"] .dm-explode-button:after{ content: ""; position: absolute; top: 0px; left: 0px; width: 17px; height: 12px; border-radius: 4px; background-color: #e9ecef; border: 1px solid #e9ecef; transition: left 0.25s linear; } imf-legend .exploded.dm-explode-button:before,[riot-tag="imf-legend"] .exploded.dm-explode-button:before,[data-is="imf-legend"] .exploded.dm-explode-button:before{ content: "-"; top: -3px; left: 6px; } imf-legend .exploded.dm-explode-button:after,[riot-tag="imf-legend"] .exploded.dm-explode-button:after,[data-is="imf-legend"] .exploded.dm-explode-button:after{ left: 16px; } imf-legend .dm-explode-button[data-type="C"],[riot-tag="imf-legend"] .dm-explode-button[data-type="C"],[data-is="imf-legend"] .dm-explode-button[data-type="C"],imf-legend .dm-explode-button[data-key*="WORLD"],[riot-tag="imf-legend"] .dm-explode-button[data-key*="WORLD"],[data-is="imf-legend"] .dm-explode-button[data-key*="WORLD"]{ display: none; }',"",function(c){var p,h,a,u=this,m=0;u.root.addEventListener("mouseover",function(t){var e=t.target;if(e.hasAttribute("data-key")||(e=e.parentNode),e.hasAttribute("data-key")){var i=e.getAttribute("data-key");i!=a&&(imf.state.set("highlight",i),a=i)}}),u.root.addEventListener("mouseout",function(t){imf.state.set("highlight",a=null)}),u.on("mount",function(){imf.translate(u.root),imf.on("reset",function(){p="",u.update()})}),u.on("update",function(){if(c.geoitems&&c.indicators){if(null==h)if((h=1<c.indicators.length)&&(u.root.setAttribute("interactive","false"),c.interactive="false"),u.root.classList.add(h?"indicators":"geoitems"),"false"==c.interactive){var t=u.root.querySelector("ul");t.removeChild(t.lastElementChild)}else u.root.addEventListener("click",function(t){var e=t.target;if(e.classList.contains("dm-legend-swatch")){var i=e.parentNode.getAttribute("data-key");(n=imf.state.get("geoitem")).splice(n.indexOf(i),1),delete(o=imf.state.get("exploded-regions")||{})[i],imf.state.set("geoitem",n),imf.state.set("exploded-regions",o)}else if(e.classList.contains("dm-explode-button")){i=e.getAttribute("data-key");var a=imf.state.get("dataset"),n=imf.data.datasets[a].regions[i],r=!t.target.classList.contains("exploded"),o=imf.state.get("exploded-regions")||{};r?o[i]=n:r||delete o[i],imf.state.set("exploded-regions",o),t.target.classList.toggle("exploded")}else e.classList.contains("dm-legend-add")&&riot.mount("#geoitem-popup","imf-geoitem-selector",{dataset:imf.state.get("dataset")})});var e=h?c.indicators:c.geoitems,i=e.join(",");if(i!==p){u.items=[];for(var a=imf.state.get("exploded-regions")||{},n=0;n<e.length;n++){var r=e[n],o=imf.data[h?"indicators":"geoitems"][r];if(o){var s=h?r:c.indicators[0],l=h?c.geoitems[0]:r;u.items.push({id:r,label:(o.label||r)+(o.unit?" ("+o.unit+")":""),color:imf.colors.get(r),type:o.type,explode:a[r]?"exploded dm-explode-button":"dm-explode-button",value:c.year?imf.data.value(s,l,c.year):"",help:{profiles:(imf.data.meta.helpprofiles||"").replace(/{NAME}/g,o.label),explode:(imf.data.meta.helpexplode||"").replace(/{NAME}/g,o.label),countries:(imf.data.meta.helpcountries||"").replace(/{NAME}/g,o.label)}})}}p=i,u.items.length!=m&&(imf.trigger("resize"),m=u.items.length)}else if(c.year){var d=u.root.querySelectorAll(".dm-legend-value");Array.prototype.forEach.call(d,function(t){var e=t.parentNode.getAttribute("data-key"),i=h?e:c.indicators[0],a=h?c.geoitems[0]:e;t.innerHTML=imf.data.value(i,a,c.year)})}}})}),riot.tag2("imf-profile-selector",'<div class="dm-component-header"> <h1 data-babel="#profileheader"></h1> </div> <div class="dm-description" data-babel="#profileintro"></div> <radio-group> <div class="dm-popup-pane" data-babel="@data-title" data-title="country"> <virtual each="{parent.letters}"> <h3>{letter}</h3> <a data-geoitem="{id}" each="{items}">{label}</a> </virtual> </div> <div class="dm-popup-pane" data-babel="@data-title" data-title="region"> <virtual each="{parent.regions}"> <h3>{label}</h3> <a data-geoitem="{id}" each="{items}">{label}</a> </virtual> </div> <div class="dm-popup-pane" data-babel="@data-title" data-title="group"> <virtual each="{parent.groups}"> <h3>{label}</h3> <a data-geoitem="{id}" each="{items}">{label}</a> </virtual> </div> </radio-group>','imf-profile-selector,[riot-tag="imf-profile-selector"],[data-is="imf-profile-selector"]{ } imf-profile-selector radio-group,[riot-tag="imf-profile-selector"] radio-group,[data-is="imf-profile-selector"] radio-group{ text-align: center; } imf-profile-selector .dm-description,[riot-tag="imf-profile-selector"] .dm-description,[data-is="imf-profile-selector"] .dm-description{ padding: 40px 30px 10px; line-height: 20pt; white-space: pre-line; max-width: 1000px; margin: 0 auto; font-size: 13pt; text-align: center; } imf-profile-selector .dm-description > p:first-child,[riot-tag="imf-profile-selector"] .dm-description > p:first-child,[data-is="imf-profile-selector"] .dm-description > p:first-child{ font-weight: bold; } imf-profile-selector h3,[riot-tag="imf-profile-selector"] h3,[data-is="imf-profile-selector"] h3{ padding: 5px !important; margin: 15px 0; text-transform: uppercase; text-align: center; color: #1b335f; background-color: #fff; line-height: 30px; padding: 30px 0; } imf-profile-selector .geoitems,[riot-tag="imf-profile-selector"] .geoitems,[data-is="imf-profile-selector"] .geoitems{ text-align: center;: padding: 10px 20px; } imf-profile-selector .geoitems:after,[riot-tag="imf-profile-selector"] .geoitems:after,[data-is="imf-profile-selector"] .geoitems:after{ content: ""; display: table; clear: both; } imf-profile-selector [data-geoitem],[riot-tag="imf-profile-selector"] [data-geoitem],[data-is="imf-profile-selector"] [data-geoitem]{ display: inline-block; padding: 5px 0; cursor: pointer; } imf-profile-selector [data-geoitem] + [data-geoitem]:before,[riot-tag="imf-profile-selector"] [data-geoitem] + [data-geoitem]:before,[data-is="imf-profile-selector"] [data-geoitem] + [data-geoitem]:before{ content: " | "; } imf-profile-selector .dm-component-header,[riot-tag="imf-profile-selector"] .dm-component-header,[data-is="imf-profile-selector"] .dm-component-header{ padding-bottom: 0; min-height: 0; margin-bottom: -10px; }',"",function(t){var r=this;function e(t){"INPUT"==t.target.nodeName?r.root.setAttribute("data-tab",t.target.value):t.target.hasAttribute("data-geoitem")&&imf.state.set("geoitem",t.target.getAttribute("data-geoitem"))}function i(t){if(t.target.hasAttribute("data-geoitem")){var e=t.target.getAttribute("data-geoitem");if("C"!==imf.data.geoitems[e].type)for(var i in imf.data.datasets)imf.data.datasets[i].regions[e]&&imf.data.datasets[i].regions[e]}}r.mixin("imf-hierarchies"),r.on("mount",function(){imf.translate(r.root),r.root.addEventListener("click",e),r.root.addEventListener("mouseover",i)}),r.on("unmount",function(){r.root.removeEventListener("click",e),r.root.removeEventListener("mouseover",i)}),r.on("update",function(){for(var t in r.hierarchies(!0),r.countries.sort(r.localeSort),r.regions)r.regions[t].items.sort(r.localeSort);for(var t in r.groups)r.groups[t].items.sort(r.localeSort);r.letters=[];var e,i=[];for(var a in r.countries){var n=r.countries[a].label[0];e&&n!=e&&(r.letters.push({letter:e,items:i}),i=[]),e=n,i.push(r.countries[a])}r.letters.push({letter:e,items:i})})}),riot.tag2("imf-publications-panel",'<h3 if="{related.length}" data-babel="#relatedpublications"></h3> <swiper-panel items="{related}"> <a href="{item.url}" target="_blank"> <img if="{item.image}" riot-src="{item.image}"> <div> <span class="title">{item.title}</span> <span class="subtitle">{item.subtitle}</span> <span class="date">{item.date}</span> </div> </a> </swiper-panel>','imf-publications-panel,[riot-tag="imf-publications-panel"],[data-is="imf-publications-panel"]{ display: block; position: relative; padding-bottom: 30px; } imf-publications-panel h3,[riot-tag="imf-publications-panel"] h3,[data-is="imf-publications-panel"] h3{ text-transform: uppercase; text-align: center; color: #1b335f; line-height: 30px; margin-top: 20px; padding: 10px 0; } imf-publications-panel a,[riot-tag="imf-publications-panel"] a,[data-is="imf-publications-panel"] a{ text-decoration: none; display: block; color: #000; background: #fff; cursor: pointer; height: 130px; border: 1px solid #dedfe1; -webkit-transition: background-color 0.5s linear; -moz-transition: background-color 0.5s linear; transition: background-color 0.5s linear; -webkit-box-shadow: 0px 1px 0.91px 0.09px rgba(0, 0, 0, 0.4); -moz-box-shadow: 0px 1px 0.91px 0.09px rgba(0, 0, 0, 0.4); box-shadow: 0px 1px 0.91px 0.09px rgba(0, 0, 0, 0.4); } imf-publications-panel a:hover,[riot-tag="imf-publications-panel"] a:hover,[data-is="imf-publications-panel"] a:hover{ color: #1b335f; background: rgba(0, 0, 0, 0.04); } imf-publications-panel a > div,[riot-tag="imf-publications-panel"] a > div,[data-is="imf-publications-panel"] a > div{ padding: 10px 20px; } imf-publications-panel span,[riot-tag="imf-publications-panel"] span,[data-is="imf-publications-panel"] span{ max-height: 44px; line-height: 22px; overflow: hidden; text-overflow: ellipsis; display: block; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; } imf-publications-panel img,[riot-tag="imf-publications-panel"] img,[data-is="imf-publications-panel"] img{ padding: 10px 20px; float: left; height: 100px; outline: none; border: none; } imf-publications-panel .title,[riot-tag="imf-publications-panel"] .title,[data-is="imf-publications-panel"] .title{ font-weight: bold; } imf-publications-panel .date,[riot-tag="imf-publications-panel"] .date,[data-is="imf-publications-panel"] .date{ padding-top: 4px; font-size: 80%; }',"",function(e){var i,a,n=this,r=[],o=!(n.related=[]);n.on("update",function(){if(!(o||i==e.dataset&&a==e.indicator&&e.geoitems&&r.length==e.geoitems.length)){var t=document.querySelector("base").getAttribute("href");mw.support.ajax({url:t+"/related-publications",data:{dataset:n.opts.dataset,indicator:n.opts.indicator,geoitems:n.opts.geoitems},success:function(t){n.related=t,o=!0,n.update(),o=!1}}),i=e.dataset,a=e.indicator,e.geoitems&&(r=e.geoitems.slice())}}),n.on("updated",function(){imf.translate(n.root)})}),riot.tag2("imf-ranking",'<radio-group collapse="{collapse}"> <div each="{parent.items}" class="{dm-ranking-table: true, disabled: rows.length == 0}" data-title="{label}"> <div class="dm-ranking-header"> <div class="dm-ranking-value"> <span no-reorder each="{columns}" data-sort="{type}">{label}</span> </div> </div> <div class="dm-ranking-rows"> <div data-key="{id}" class="dm-ranking-row" no-reorder each="{rows}"> <div class="dm-ranking-value"> <span>{label}</span> <span no-reorder each="{value, i in formatted}">{value}</span> </div> </div> </div> </div> </radio-group>','imf-ranking,[riot-tag="imf-ranking"],[data-is="imf-ranking"]{ display: block; text-align: center; background: #fff; } imf-ranking radio-group,[riot-tag="imf-ranking"] radio-group,[data-is="imf-ranking"] radio-group{ height: 100%; } imf-ranking .dm-ranking-header,[riot-tag="imf-ranking"] .dm-ranking-header,[data-is="imf-ranking"] .dm-ranking-header{ height: 30px; margin-bottom: 10px; } imf-ranking .dm-ranking-header span:first-of-type,[riot-tag="imf-ranking"] .dm-ranking-header span:first-of-type,[data-is="imf-ranking"] .dm-ranking-header span:first-of-type{ padding-left: 8px; } imf-ranking .dm-ranking-table,[riot-tag="imf-ranking"] .dm-ranking-table,[data-is="imf-ranking"] .dm-ranking-table{ position: relative; text-align: left; height: calc(100% - 60px) } imf-ranking .dm-ranking-rows,[riot-tag="imf-ranking"] .dm-ranking-rows,[data-is="imf-ranking"] .dm-ranking-rows{ width: calc(100% - 16px); font-size: 11pt; overflow: auto; margin: 0 8px 30px 8px; height: calc(100% - 65px); } imf-ranking .dm-ranking-row,[riot-tag="imf-ranking"] .dm-ranking-row,[data-is="imf-ranking"] .dm-ranking-row{ border-bottom: 1px solid #dbdbda; } imf-ranking .dm-ranking-row:first-of-type,[riot-tag="imf-ranking"] .dm-ranking-row:first-of-type,[data-is="imf-ranking"] .dm-ranking-row:first-of-type{ border-top: 1px solid #dbdbda; } imf-ranking .dm-ranking-value,[riot-tag="imf-ranking"] .dm-ranking-value,[data-is="imf-ranking"] .dm-ranking-value{ position: relative; padding: 1px 0 0 32px; margin: 0 15px; cursor: pointer; } imf-ranking .dm-ranking-value span:first-of-type,[riot-tag="imf-ranking"] .dm-ranking-value span:first-of-type,[data-is="imf-ranking"] .dm-ranking-value span:first-of-type{ display: inline-block; } imf-ranking span:nth-of-type(1n+2),[riot-tag="imf-ranking"] span:nth-of-type(1n+2),[data-is="imf-ranking"] span:nth-of-type(1n+2){ float: right; display: inline-block; text-align: right; } imf-ranking span:nth-child(2),[riot-tag="imf-ranking"] span:nth-child(2),[data-is="imf-ranking"] span:nth-child(2){ padding-right: 15px; } imf-ranking .dm-ranking-row:after,[riot-tag="imf-ranking"] .dm-ranking-row:after,[data-is="imf-ranking"] .dm-ranking-row:after{ content: ""; display: table; clear: both; } imf-ranking .dm-ranking-rows .dm-ranking-value:hover,[riot-tag="imf-ranking"] .dm-ranking-rows .dm-ranking-value:hover,[data-is="imf-ranking"] .dm-ranking-rows .dm-ranking-value:hover{ color: #fff; background: #06bebd; background: -moz-linear-gradient(left, #06bebd 0%, #0797a3 100%); background: -webkit-linear-gradient(left, #06bebd 0%,#0797a3 100%); background: linear-gradient(to right, #06bebd 0%,#0797a3 100%); filter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\'#06bebd\', endColorstr=\'#0797a3\',GradientType=1 ); } imf-ranking .dm-ranking-header span,[riot-tag="imf-ranking"] .dm-ranking-header span,[data-is="imf-ranking"] .dm-ranking-header span{ cursor: pointer; color: #999; text-transform: lowercase; padding-bottom: 4px; } imf-ranking .dm-ranking-header span:nth-child(2),[riot-tag="imf-ranking"] .dm-ranking-header span:nth-child(2),[data-is="imf-ranking"] .dm-ranking-header span:nth-child(2){ padding-right: 32px; } imf-ranking .up[data-sort],[riot-tag="imf-ranking"] .up[data-sort],[data-is="imf-ranking"] .up[data-sort],imf-ranking .down[data-sort],[riot-tag="imf-ranking"] .down[data-sort],[data-is="imf-ranking"] .down[data-sort]{ color: #000; padding-right: 20px; } imf-ranking .down:after,[riot-tag="imf-ranking"] .down:after,[data-is="imf-ranking"] .down:after,imf-ranking .up:after,[riot-tag="imf-ranking"] .up:after,[data-is="imf-ranking"] .up:after{ content: ""; width: 12px; height: 12px; position: absolute; background-size: contain; top: 7px; margin-left: 6px; } imf-ranking .up:after,[riot-tag="imf-ranking"] .up:after,[data-is="imf-ranking"] .up:after{ background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%209%209\'%3E%3Cpath%20d%3D\'M0%2C2L4%2C6L8%2C2\'%20stroke%3D\'%23000\'%20fill%3D\'none\'%2F%3E%3C%2Fsvg%3E"); } imf-ranking .down:after,[riot-tag="imf-ranking"] .down:after,[data-is="imf-ranking"] .down:after{ background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%209%209\'%3E%3Cpath%20d%3D\'M0%2C6L4%2C2L8%2C6\'%20stroke%3D\'%23000\'%20fill%3D\'none\'%2F%3E%3C%2Fsvg%3E"); }',"",function(z){var t,P=this,O={column:"label",direction:"up"},I=[];function i(t,e){return t.values[O.column]<e.values[O.column]?-1:1}function a(t,e){return t.values[O.column]>e.values[O.column]?-1:1}function N(){for(var t="label"==O.column?"up"==O.direction?P.localeSort:P.localeReverseSort:"up"==O.direction?i:a,e=0;e<P.items.length;e++)P.items[e].rows.sort(t);P.tags["radio-group"].update()}P.mixin("imf-hierarchies"),P.items=[],P.mergetabs=-1!=window.location.href.indexOf("no-tabs"),P.on("mount",function(){imf.translate(P.root);var t=riot.route.query();if(t.years)for(var e,i=(new Date).getFullYear(),a=(new Date).getMonth()+1,n=t.years.split(",").reverse(),r=0;r<n.length;r++){var o=n[r];o.match(/^\d+$/)?I.push(+o):(e=o.match(/^(Y(\d*))?(([-+])(\d+))?$/))&&I.push(i+(e[2]>a?-1:0)+(e[4]?"+"==e[4]?+e[5]:-e[5]:0))}P.root.addEventListener("click",function(t){var e=t.target;if(e.hasAttribute("data-sort"))e.getAttribute("data-sort")!=O.column?(O.column=e.getAttribute("data-sort"),O.direction="label"==e.getAttribute("data-sort")?"up":"down"):O.direction="up"==O.direction?"down":"up",N();else if((e.hasAttribute("data-key")||e.parentNode.parentNode.hasAttribute("data-key"))&&1==z.indicators.length){var i=e.getAttribute("data-key")||e.parentNode.parentNode.getAttribute("data-key"),a=imf.state.get("geoitem"),n=a.indexOf(i);-1!=n&&a.splice(n,1),a.push(i),imf.state.set("geoitem",a)}}),P.tags["radio-group"].on("updated",function(){for(var t=P.root.querySelectorAll("[data-sort]"),e=0;e<t.length;e++)t[e].classList.remove("up","down"),t[e].getAttribute("data-sort")==O.column&&t[e].classList.add(O.direction)})}),P.on("update",function(){P.collapse=z.geoitems&&0<z.geoitems.length,z.dataset!=t&&(t=z.dataset,P.items=[],P.hierarchies(),"value"!=O.column&&(O={column:"label",direction:"up"},N())),z.indicators&&z.year&&(P.root.classList.add(z.indicators instanceof Array&&1<z.indicators.length?"indicators":"geoitems"),function(){var t=z.indicators instanceof Array&&1<z.indicators.length,e=z.year,i=!1,a=imf.state.get("geoitem").slice(0).reverse(),n=1<I.length&&1==a.length,r=z.yearLabel?e:"value",o=z.yearLabel&&!n?" ("+e+")":"";if(!P.items.length){i=!0;var s={};if(t){for(var l in z.indicators){var d=z.indicators[l],c=P.mergetabs?"_all_":imf.data.indicators[d].dataset;s[c]||(s[c]=[]),s[c].push(d)}var p=[{label:"indicator"+o,type:"label"}];if(n)for(var h=0;h<I.length;h++)p.push({label:I[h],type:h});else for(var u=0;u<a.length;u++)p.push({label:1==a.length?r:imf.data.geoitems[a[u]].label,type:u});for(var m in s){var f=s[m],g=[];for(l=0;l<f.length;l++){var v=imf.data.indicators[f[l]];g.push({id:f[l],label:v.label+" ("+v.unit+")",values:[],formatted:[]})}P.items.push({label:m,rows:g,columns:p})}}else{var b={country:"countries",region:"regions",group:"groups"},x=!(!z.geoitems||!z.geoitems.length)&&z.geoitems;for(var y in b){var w=P[b[y]];if(w){for(g=[],l=0;l<w.length;l++){var k=w[l];x&&-1==x.indexOf(k.id)||g.push({id:k.id,label:k.label,values:[],formatted:[]})}P.mergetabs&&P.items.length?P.items[0].rows.push.apply(P.items[0].rows,g):P.items.push({label:imf.translate(y).toLowerCase(),rows:g,columns:[{label:P.mergetabs?"name":imf.translate(y),type:"label"},{label:r,type:0}]})}}}}l=0;for(var M=P.items.length;l<M;l++)for(var T=0,S=(k=P.items[l]).rows.length;T<S;T++)for(var C=k.rows[T],A=t?n?I.length:a.length:1,L=0;L<A;L++){d=t?C.id:z.indicators[0],m=t?n?a[0]:a[L]:C.id;var E=imf.data.tag("values",d,m,n?I[L]:e);null==E&&(E=Number.NEGATIVE_INFINITY),C.values[L]=E,C.formatted[L]=imf.data.value(d,m,n?I[L]:e)}"label"!=O.column||i?N():P.tags["radio-group"].update()}())}),P.on("updated",function(){var t=riot.route.query();if(t.zoom){var e=document.querySelector('.dm-ranking-row[data-key="'+t.zoom+'"]');e&&e.parentNode.scrollTo(0,e.offsetTop-40)}})}),riot.tag2("imf-search-panel",'<div class="dm-search-button"></div> <input data-babel="@placeholder" placeholder="searchfor" name="input"> <div if="{indicators.length || profiles.length}" class="dm-search-header" data-babel="#searchresults"></div> <ul class="dm-search-results"> <li if="{indicators.length}" class="dm-search-header" data-babel="#indicators"></li> <li each="{indicators}" data-geoitem="{gid}" data-dataset="{did}" data-indicator="{iid}"> <ul><li>{dataset}</li><li>{group}</li><li><raw content="{indicator}"></raw></li></ul> <raw content="{description}"></raw> </li> <li if="{profiles.length}" class="dm-search-header" data-babel="#profiles"></li> <li each="{profiles}" data-geoitem="{gid}"> <ul><li>Profiles</li><li>{geoitem}</li></ul> <raw content="{description}"></raw> </li> </ul>','imf-search-panel,[riot-tag="imf-search-panel"],[data-is="imf-search-panel"]{ display: block; position: relative; z-index: 1001; height: 55px; pointer-events: none; } imf-search-panel > *,[riot-tag="imf-search-panel"] > *,[data-is="imf-search-panel"] > *{ pointer-events: all; } imf-search-panel .dm-search-header,[riot-tag="imf-search-panel"] .dm-search-header,[data-is="imf-search-panel"] .dm-search-header{ width: 100%; left: 0; display: none; font-weight: 300; color: white; text-align: center; } imf-search-panel > .dm-search-header,[riot-tag="imf-search-panel"] > .dm-search-header,[data-is="imf-search-panel"] > .dm-search-header{ position: absolute; background: #0cafae; height: 120px; text-transform: lowercase; font-size: 40px; padding: 40px; line-height: 40px; top: 55px; } imf-search-panel .dm-search-results .dm-search-header,[riot-tag="imf-search-panel"] .dm-search-results .dm-search-header,[data-is="imf-search-panel"] .dm-search-results .dm-search-header{ background: #1b335f; height: 60px; font-size: 30px; text-transform: uppercase; padding: 20px; line-height: 20px; } imf-search-panel .dm-search-button,[riot-tag="imf-search-panel"] .dm-search-button,[data-is="imf-search-panel"] .dm-search-button{ position: absolute; top: 0; right: 0; width: 55px; height: 55px; cursor: pointer; transform: scale(-1,1); background-image: url(images/search.svg); background-size: 30px 30px; background-repeat: no-repeat; background-position: center center; } imf-search-panel .highlight,[riot-tag="imf-search-panel"] .highlight,[data-is="imf-search-panel"] .highlight{ color: #fff; background: #0cafae; border-radius: 4px; padding: 0 5px; display: inline-block; } imf-search-panel raw,[riot-tag="imf-search-panel"] raw,[data-is="imf-search-panel"] raw{ color: #777; } imf-search-panel .dm-search-results,[riot-tag="imf-search-panel"] .dm-search-results,[data-is="imf-search-panel"] .dm-search-results{ display: none; width: 100%; position: absolute; left: 0; top: 175px; overflow: auto; height: calc(100% - 175px); } imf-search-panel ul,[riot-tag="imf-search-panel"] ul,[data-is="imf-search-panel"] ul{ list-style-type: none; padding: 0; margin: 0; } imf-search-panel li[data-dataset],[riot-tag="imf-search-panel"] li[data-dataset],[data-is="imf-search-panel"] li[data-dataset],imf-search-panel li[data-geoitem],[riot-tag="imf-search-panel"] li[data-geoitem],[data-is="imf-search-panel"] li[data-geoitem]{ border-bottom: 1px solid #e9ecef; background: #fff; position: relative; min-height: 70px; padding: 20px; cursor: pointer; } imf-search-panel li[data-dataset]:after,[riot-tag="imf-search-panel"] li[data-dataset]:after,[data-is="imf-search-panel"] li[data-dataset]:after,imf-search-panel li[data-geoitem]:after,[riot-tag="imf-search-panel"] li[data-geoitem]:after,[data-is="imf-search-panel"] li[data-geoitem]:after{ content: ""; position: absolute; width: 36px; height: 56px; top: calc(50% - 28px); right: 0; -moz-background-size: 15px 30px; -webkit-background-size: 15px 30px; background-size: 15px 30px; border-top-left-radius: 7px; border-bottom-left-radius: 7px; background-repeat: no-repeat; background-position: center center; background-color: #0cafae; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%2027%2044\'%3E%3Cpath%20d%3D\'M27%2C22L27%2C22L5%2C44l-2.1-2.1L22.8%2C22L2.9%2C2.1L5%2C0L27%2C22L27%2C22z\'%20fill%3D\'%23fff\'%2F%3E%3C%2Fsvg%3E"); } imf-search-panel li[data-dataset] ul,[riot-tag="imf-search-panel"] li[data-dataset] ul,[data-is="imf-search-panel"] li[data-dataset] ul{ padding-bottom: 20px; } imf-search-panel li li,[riot-tag="imf-search-panel"] li li,[data-is="imf-search-panel"] li li{ display: inline-block; position: relative; padding-right: 30px; line-height: 30px; } imf-search-panel li li:after,[riot-tag="imf-search-panel"] li li:after,[data-is="imf-search-panel"] li li:after{ content: ""; position: absolute; top: 50%; right: 11px; width: 8px; height: 16px; margin-top: -8px; z-index: 10; cursor: pointer; -moz-background-size: 8px 16px; -webkit-background-size: 8px 16px; background-size: 8px 16px; background-position: center; background-repeat: no-repeat; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%2027%2044\'%3E%3Cpath%20d%3D\'M27%2C22L27%2C22L5%2C44l-2.1-2.1L22.8%2C22L2.9%2C2.1L5%2C0L27%2C22L27%2C22z\'%20fill%3D\'%231b335f\'%2F%3E%3C%2Fsvg%3E"); } imf-search-panel li li:last-child raw,[riot-tag="imf-search-panel"] li li:last-child raw,[data-is="imf-search-panel"] li li:last-child raw{ color: #0cafae; } imf-search-panel li li:last-child:after,[riot-tag="imf-search-panel"] li li:last-child:after,[data-is="imf-search-panel"] li li:last-child:after{ content: none; } imf-search-panel input,[riot-tag="imf-search-panel"] input,[data-is="imf-search-panel"] input{ display: none; height: 55px; border: none; padding: 10px; font-size: 28px; font-weight: 300; line-height: 30px; text-align: center; width: calc(100% - 55px); } imf-search-panel ::-webkit-input-placeholder,[riot-tag="imf-search-panel"] ::-webkit-input-placeholder,[data-is="imf-search-panel"] ::-webkit-input-placeholder{ font-style: italic; color: #0cafae; } imf-search-panel ::-moz-placeholder,[riot-tag="imf-search-panel"] ::-moz-placeholder,[data-is="imf-search-panel"] ::-moz-placeholder{ font-style: italic; color: #0cafae; } imf-search-panel :-ms-input-placeholder,[riot-tag="imf-search-panel"] :-ms-input-placeholder,[data-is="imf-search-panel"] :-ms-input-placeholder{ font-style: italic; color: #0cafae; } imf-search-panel :-moz-placeholder,[riot-tag="imf-search-panel"] :-moz-placeholder,[data-is="imf-search-panel"] :-moz-placeholder{ font-style: italic; color: #0cafae; } imf-search-panel input:focus,[riot-tag="imf-search-panel"] input:focus,[data-is="imf-search-panel"] input:focus{ outline: none; } .search-active imf-search-panel,.search-active [riot-tag="imf-search-panel"],.search-active [data-is="imf-search-panel"]{ width: 100%; height: 100%; } .search-active imf-search-panel input,.search-active [riot-tag="imf-search-panel"] input,.search-active [data-is="imf-search-panel"] input{ display: block; } .search-active imf-search-panel .dm-search-header,.search-active [riot-tag="imf-search-panel"] .dm-search-header,.search-active [data-is="imf-search-panel"] .dm-search-header{ display: block; } .search-active imf-search-panel .dm-search-results,.search-active [riot-tag="imf-search-panel"] .dm-search-results,.search-active [data-is="imf-search-panel"] .dm-search-results{ display: block; } imf-search-panel li:before,[riot-tag="imf-search-panel"] li:before,[data-is="imf-search-panel"] li:before{ content: ""; position: absolute; left: 0; right: 0; bottom: 0; top: 0; pointer-events: none; background-color: rgba(0,0,0,0); -webkit-transition: background-color 0.5s linear; -moz-transition: background-color 0.5s linear; transition: background-color 0.5s linear; } imf-search-panel li:not(.dm-search-header):hover,[riot-tag="imf-search-panel"] li:not(.dm-search-header):hover,[data-is="imf-search-panel"] li:not(.dm-search-header):hover{ color: #1b335f; } imf-search-panel li:not(.dm-search-header):hover:before,[riot-tag="imf-search-panel"] li:not(.dm-search-header):hover:before,[data-is="imf-search-panel"] li:not(.dm-search-header):hover:before{ background-color: rgba(0,0,0,0.04); }',"",function(t){var e,u=this;function i(){var t=new RegExp("(^|\\s)"+u.input.value,"i");if(u.indicators=[],u.profiles=[],""!=u.input.value){for(var e in imf.data.geoitems){var i=imf.data.geoitems[e];if(i.label.toLowerCase().match(t)||e.toLowerCase().match(t)){var a=imf.data.meta["C"==i.type?"country":"G"==i.type?"group":"region"],n=[];for(var r in imf.data.datasets){var o=imf.data.datasets[r];"C"==i.type&&0<=o.geoitems.indexOf(e)?n.push(r):"C"!=i.type&&o.regions[e]&&n.push(r)}n.length&&(a+=", in <i>"+n.join("</i>, <i>")+"</i>"),u.profiles.push({geoitem:i.label,description:a,gid:e})}}for(var r in imf.data.datasets){var s=(o=imf.data.datasets[r]).title.toLowerCase().match(t)||r.toLowerCase().match(t),l=o.hierarchies.indicators;for(var e in l)for(var d=l[e].indicators,c=0;c<d.length;c++){var p=d[c],h=imf.data.indicators[p];(s||h.label.toLowerCase().match(t))&&u.indicators.push({dataset:o.title,group:l[e].label,indicator:h.label,description:h.description||"",did:r,iid:p})}}}u.update()}function a(t,e,i){if("profile"==document.body.getAttribute("data-tool"))if(null==t&&null==e)imf.route(null,null,[],i);else{var a=document.querySelector("base").getAttribute("href");window.location.href=a+e+"@"+t+"/"+i}else if(null==t&&null==e){a=document.querySelector("base").getAttribute("href");window.location.href=a+"profile/"+i}else imf.route(t,null,[e],i)}u.indicators=[],u.profiles=[],u.root.addEventListener("click",function(t){if(t.target.classList.contains("dm-search-button"))document.body.classList.toggle("search-active"),document.body.classList.contains("search-active")&&(u.input.focus(),u.input.select());else if(document.body.classList.contains("search-active")){for(var e=t.target;e&&e!=document&&!e.hasAttribute("data-dataset")&&!e.hasAttribute("data-geoitem");e=e.parentNode);e!=document&&e.hasAttribute("data-dataset")&&(document.body.classList.remove("search-active"),a(e.getAttribute("data-dataset"),e.getAttribute("data-indicator"),imf.state.get("geoitem"))),e!=document&&e.hasAttribute("data-geoitem")&&(document.body.classList.remove("search-active"),a(null,null,e.getAttribute("data-geoitem")))}}),u.input.addEventListener("keyup",function(t){clearTimeout(e),13==t.keyCode&&(u.profiles.length||u.indicators.length)?(document.body.classList.remove("search-active"),u.indicators.length?a(u.indicators[0].did,u.indicators[0].iid,imf.state.get("geoitem")):a(null,null,u.profiles[0].gid)):e=setTimeout(i,250)}),u.on("update",function(){imf.translate(u.root)})}),riot.tag2("imf-settings",'<div class="dm-popup-header" data-babel="#settings"></div> <div class="dm-popup-pane"> <div each="{settings}" class="dm-setting-section"> <div class="dm-setting-section-title">{title}</div> <div each="{settings}" class="dm-setting"> <table id="{id}" if="{type == \'radio\'}"> <tr class="{disabled: disable}"> <td each="{values}"> <input type="radio" name="{name}" id="{id}" value="{value}" __checked="{value==parent.value}"> <label for="{id}">{label}</label> </td> </tr> </table> <virtual if="{type == \'toggle\'}"> <input type="checkbox" name="{name}" id="{id}" __checked="{value}"> <label for="{id}">{label}</label> </virtual> <table id="{id}" class="legend" if="{type == \'legend\'}"> <tr> <td data-babel="#from"></td> <td data-babel="#upto"></td> <td data-babel="#label"></td> <td data-babel="#color"></td> <td></td> </tr> <tr class="{disabled: disable}" each="{values}" no-reorder> <td><input class="legend-input" type="text" name="min" value="{min}"></td> <td><input class="legend-input" type="text" name="max" value="{max}"></td> <td><input class="legend-input" type="text" name="label" value="{label}"></td> <td><input class="legend-input legend-color" type="text" value="{color}" spellcheck="false" riot-style="background-color: {color}"></td> <td><div class="clear-legend"></div></td> </tr> </table> </div> </div> </div> <div class="dm-popup-footer"> <div class="dm-button-wrapper"> <button each="{label, callback in buttons}" data-id="{label}" class="add">{label}</button> </div> </div>','imf-settings,[riot-tag="imf-settings"],[data-is="imf-settings"]{ display: block; position: absolute; right: 0; top: 0; width: 50px; height: 65px; opacity: 0.2; z-index: 1000; transition: opacity 0.5s linear; } imf-settings > *,[riot-tag="imf-settings"] > *,[data-is="imf-settings"] > *{ display: none; } imf-settings:hover,[riot-tag="imf-settings"]:hover,[data-is="imf-settings"]:hover{ opacity: 1; } imf-settings:after,[riot-tag="imf-settings"]:after,[data-is="imf-settings"]:after{ position: absolute; width: 50px; height: 65px; right: 0; top: 0; text-align: center; line-height: 65px; font-family: dm-icons; content: "\\e995"; color: #000; font-size: 26px; cursor: pointer; } imf-settings.opened,[riot-tag="imf-settings"].opened,[data-is="imf-settings"].opened{ z-index: 5000; right: 0; top: 0; opacity: 1; width: auto; height: auto; text-align: center; color: #fff; background: #1b335f; padding: 0 20px; -webkit-box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); -moz-box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); } imf-settings.opened:after,[riot-tag="imf-settings"].opened:after,[data-is="imf-settings"].opened:after{ color: #fff; } imf-settings.opened > *,[riot-tag="imf-settings"].opened > *,[data-is="imf-settings"].opened > *{ display: block; } imf-settings .dm-popup-header,[riot-tag="imf-settings"] .dm-popup-header,[data-is="imf-settings"] .dm-popup-header,imf-settings .dm-popup-footer,[riot-tag="imf-settings"] .dm-popup-footer,[data-is="imf-settings"] .dm-popup-footer{ padding: 20px; font-size: 14pt; text-transform: uppercase; } imf-settings .dm-popup-header,[riot-tag="imf-settings"] .dm-popup-header,[data-is="imf-settings"] .dm-popup-header{ height: 65px; border-bottom: 1px solid #596B8A; } imf-settings .dm-popup-header:after,[riot-tag="imf-settings"] .dm-popup-header:after,[data-is="imf-settings"] .dm-popup-header:after{ } imf-settings .dm-popup-footer,[riot-tag="imf-settings"] .dm-popup-footer,[data-is="imf-settings"] .dm-popup-footer{ height: 80px; border-top: 1px solid #44587c; } imf-settings .dm-popup-pane,[riot-tag="imf-settings"] .dm-popup-pane,[data-is="imf-settings"] .dm-popup-pane{ text-align: left; margin-top: 10px; height: calc(100% - 145px); overflow: auto; } imf-settings .dm-setting-section,[riot-tag="imf-settings"] .dm-setting-section,[data-is="imf-settings"] .dm-setting-section{ border-bottom: 1px solid #596B8A; padding: 20px 0; } imf-settings .dm-setting-section-title,[riot-tag="imf-settings"] .dm-setting-section-title,[data-is="imf-settings"] .dm-setting-section-title{ padding-bottom: 20px; font-size: 14pt; } imf-settings table,[riot-tag="imf-settings"] table,[data-is="imf-settings"] table{ border-spacing: 0; width: 100%; table-layout: fixed; } imf-settings td,[riot-tag="imf-settings"] td,[data-is="imf-settings"] td{ padding: 0; } imf-settings label,[riot-tag="imf-settings"] label,[data-is="imf-settings"] label{ cursor: pointer; } imf-settings input[type="radio"],[riot-tag="imf-settings"] input[type="radio"],[data-is="imf-settings"] input[type="radio"]{ display: none; } imf-settings input[type="radio"] + label,[riot-tag="imf-settings"] input[type="radio"] + label,[data-is="imf-settings"] input[type="radio"] + label{ background: #fff; padding: 10px; display: block; text-align: center; color: #000; } imf-settings td:first-child label,[riot-tag="imf-settings"] td:first-child label,[data-is="imf-settings"] td:first-child label{ border-top-left-radius: 4px; border-bottom-left-radius: 4px; } imf-settings td:last-child label,[riot-tag="imf-settings"] td:last-child label,[data-is="imf-settings"] td:last-child label{ border-top-right-radius: 4px; border-bottom-right-radius: 4px; } imf-settings input[type="radio"]:checked + label,[riot-tag="imf-settings"] input[type="radio"]:checked + label,[data-is="imf-settings"] input[type="radio"]:checked + label{ background: #0cafae; color: #fff; } imf-settings input[type="checkbox"],[riot-tag="imf-settings"] input[type="checkbox"],[data-is="imf-settings"] input[type="checkbox"]{ -webkit-appearance: none; -moz-appearance: none; -ms-appearance: none; appearance: none; background-color: #44535e; border-radius: 26px; cursor: pointer; height: 32px; position: relative; width: 52px; outline: none; vertical-align: top; transition: border .25s .15s, box-shadow .25s .3s, padding .25s; float: right; margin-right: 10px; } imf-settings input[type="checkbox"]:after,[riot-tag="imf-settings"] input[type="checkbox"]:after,[data-is="imf-settings"] input[type="checkbox"]:after{ background-color: #b6bbc4; border-radius: 24px; box-shadow: inset 0 -3px 3px hsla(0,0%,0%,.025), 0 1px 4px hsla(0,0%,0%,.15), 0 4px 4px hsla(0,0%,0%,.1); content: \'\'; display: block; width: 32px; height: 32px; left: 0; position: absolute; right: 16px; top: 0; transition: border .25s .15s, left .25s .1s, right .15s .175s; } imf-settings input[type="checkbox"]:checked,[riot-tag="imf-settings"] input[type="checkbox"]:checked,[data-is="imf-settings"] input[type="checkbox"]:checked{ padding-left: 18px; background-color: #0d7c7b; transition: border .25s, box-shadow .25s, padding .25s .15s; } imf-settings input[type="checkbox"]:checked:after,[riot-tag="imf-settings"] input[type="checkbox"]:checked:after,[data-is="imf-settings"] input[type="checkbox"]:checked:after{ left: 20px; right: 0; background-color: #40c5c4; transition: border .25s, left .15s .25s, right .25s .175s; } imf-settings .dm-button-wrapper,[riot-tag="imf-settings"] .dm-button-wrapper,[data-is="imf-settings"] .dm-button-wrapper{ display: inline-block; margin: 0 auto; white-space: nowrap; } imf-settings button,[riot-tag="imf-settings"] button,[data-is="imf-settings"] button{ border: none; font-size: 10pt; cursor: pointer; padding: 10px 20px; min-width: 100px; color: #fff; text-transform: uppercase; border-radius: 5px; margin: 0 5px; } imf-settings button.cancel,[riot-tag="imf-settings"] button.cancel,[data-is="imf-settings"] button.cancel{ background: #50616e; } imf-settings button.add,[riot-tag="imf-settings"] button.add,[data-is="imf-settings"] button.add{ background: #0cafae; } imf-settings .disabled label,[riot-tag="imf-settings"] .disabled label,[data-is="imf-settings"] .disabled label,imf-settings .disabled input,[riot-tag="imf-settings"] .disabled input,[data-is="imf-settings"] .disabled input,imf-settings .disabled button,[riot-tag="imf-settings"] .disabled button,[data-is="imf-settings"] .disabled button{ opacity: 0.2; cursor: auto; pointer-events: none; } imf-settings .legend .disabled input,[riot-tag="imf-settings"] .legend .disabled input,[data-is="imf-settings"] .legend .disabled input{ pointer-events: auto; } imf-settings .legend td,[riot-tag="imf-settings"] .legend td,[data-is="imf-settings"] .legend td{ width: 80px; padding: 4px; white-space: nowrap; } imf-settings .legend td:nth-child(3),[riot-tag="imf-settings"] .legend td:nth-child(3),[data-is="imf-settings"] .legend td:nth-child(3){ width: 100%; } imf-settings .legend td:nth-child(4),[riot-tag="imf-settings"] .legend td:nth-child(4),[data-is="imf-settings"] .legend td:nth-child(4),imf-settings .legend td:nth-child(5),[riot-tag="imf-settings"] .legend td:nth-child(5),[data-is="imf-settings"] .legend td:nth-child(5){ width: 40px; } imf-settings .legend input,[riot-tag="imf-settings"] .legend input,[data-is="imf-settings"] .legend input{ border: none; width: 100%; padding: 2px; border: 1px solid #fff; } imf-settings .legend-color::selection,[riot-tag="imf-settings"] .legend-color::selection,[data-is="imf-settings"] .legend-color::selection{ color: transparent; } imf-settings .legend-color,[riot-tag="imf-settings"] .legend-color,[data-is="imf-settings"] .legend-color{ cursor: pointer; color: transparent; } imf-settings .clear-legend,[riot-tag="imf-settings"] .clear-legend,[data-is="imf-settings"] .clear-legend{ width: 16px; height: 16px; cursor: pointer; background-repeat: no-repeat; background-position: top right; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%2016%2016%27%3E%3Cpath%20d%3D%27M1%2C1L15%2C15M15%2C0L0%2C15%27%20stroke%3D%27%23fff%27%20stroke-width%3D%222%22%2F%3E%3C%2Fsvg%3E"); } .color-code { border: none; width: 100%; padding: 0; }',"",function(l){var d=this,c=!1,t=imf.state.get("settings")||{};d.settings=mw.support.extend(l.settings,{}),d.buttons=l.buttons||{close:function(){}};var e=riot.route.query(),i="dm-setting-"+Date.now()+"-";for(var a in d.settings)for(var n in d.settings[a].title=imf.translate(d.settings[a].title),d.settings[a].settings){var r=d.settings[a].settings[n];if(r.label&&(r.label=imf.translate(r.label)),e[r.name])"true"===(o=e[r.name])&&(o=!0),"false"===o&&(o=!1),r.value=o,t[r.name]=o;if(r.id=i+a,"radio"==r.type)for(var o in r.values)r.values[o].id=i+a+"-"+o,r.values[o].label=imf.translate(r.values[o].label)}function s(t,e){for(var i=!0,a=t.querySelectorAll("input"),n=0;n<a.length;n++)i&=3==n||""==a[n].value;t.classList.remove("disabled"),i&&!e&&(t.classList.add("disabled"),a.length&&(a[3].style.backgroundColor="#fff"))}function p(t){if(t.target.classList.contains("clear-legend")){for(var e=t.target.parentNode.parentNode,i=e.querySelectorAll("input"),a=0;a<i.length;a++)i[a].value="";s(e),u({target:e.querySelector(".legend-input")})}else if("BUTTON"==t.target.nodeName||"IMF-SETTINGS"==t.target.nodeName&&d.root.classList.contains("opened")&&t.offsetY<50&&t.offsetX-d.root.clientWidth-50)"BUTTON"==t.target.nodeName&&d.buttons[t.target.getAttribute("data-id")]&&d.buttons[t.target.getAttribute("data-id")](),d.root.classList.remove("opened"),d.update();else if(!d.root.classList.contains("opened")){for(var n=d.root.querySelectorAll(".legend tr"),r=0;r<n.length;r++)s(n[r]);d.root.classList.add("opened")}}function h(t){t.target.classList.contains("legend-input")&&s(t.target.parentNode.parentNode,"focus"==t.type)}function u(t){var e=imf.state.get("settings")||{};if(t.target.classList.contains("legend-input")){for(var i=t.target.parentNode;"TABLE"!=i.nodeName;i=i.parentNode);for(var a=i.querySelectorAll("tr"),n=[],r=0;r<a.length;r++){var o=a[r].querySelectorAll("input");!o.length||""==o[0].value&&""==o[1].value&&""==o[2].value||n.push({min:+o[0].value,max:+o[1].value,label:o[2].value,color:o[3].value})}e.legend=n}else e[t.target.name]="radio"==t.target.type?t.target.value:t.target.checked;imf.state.set("settings",e)}function m(t,e){var i=new CP(e),a=document.createElement("input");function n(){if(this.value.length){var t=CP.__instance__[this.getAttribute("data-index")];t.set(this.value),t.fire("change",[this.value.slice(1)])}}i.picker.firstChild.appendChild(a),i.target.onclick=function(t){var e=CP.__instance__[this.getAttribute("data-index")],i=this.value;setTimeout(function(){e.set(i),e.picker.firstChild.lastChild.value=i},0),t.preventDefault()},e.setAttribute("data-index",t),a.className="color-code",a.placeholder="#rrggbb",a.pattern="^#[A-Fa-f0-9]{6}$",a.type="text",a.setAttribute("data-index",t),i.on("enter",function(){this.picker.firstChild.lastChild.value="#"+CP._HSV2HEX(this.get())}),i.on("change",function(t){this.target.value="#"+t,this.target.style.backgroundColor="#"+t,this.picker.firstChild.lastChild.value="#"+t,u({target:this.target})}),a.oncut=n,a.onpaste=n,a.onkeyup=n,a.oninput=n}d.on("mount",function(){imf.translate(d.root),d.root.style.display="block",d.root.addEventListener("click",p),d.root.addEventListener("change",u),d.root.addEventListener("focus",h,!0),d.root.addEventListener("blur",h,!0);for(var t=d.root.querySelectorAll(".legend-color"),e=0;e<t.length;e++)m(e,t[e])}),d.on("update",function(){for(var t in l.legendIndicator!=c&&(c=l.legendIndicator)&&(imf.data.indicators[c]["restore-legend"]=mw.support.extend(imf.data.indicators[c].legend,{})),d.settings)for(var e in d.settings[t].settings){var i=d.settings[t].settings[e];if(i.disabled instanceof Function){i.disable=i.disabled();var a=document.getElementById(i.id);if(a)if(a.classList.remove("disabled"),null!=i.disable&&a.classList.add("disabled"),"radio"==i.type)for(var n in i.values)i.values[n].value==i.disable&&(document.getElementById(i.values[n].id).checked=!0);else a.checked=i.disable}if("legend"==i.type){var r=imf.data.indicators[c]||{legend:[]};i.values=Array(10);for(var o=0;o<10;o++)i.values[o]={min:"",max:"",label:"",color:"#fff",disable:!0};o=0;for(var s in r.legend)CP.__instance__.length&&CP.__instance__[o].set(r.legend[s].color||"#fff"),i.values[o++]={min:r.legend[s].min||0,max:r.legend[s].max||0,label:r.legend[s].label||"",color:r.legend[s].color||"#fff",disable:!1}}}}),d.on("unmount",function(){d.root.removeEventListener("click",p),d.root.removeEventListener("change",u),d.root.removeEventListener("focus",h,!0),d.root.removeEventListener("blur",h,!0)}),d.on("mount",function(){var t=d.root.getBoundingClientRect();t.top+t.height>window.innerHeight&&(d.root.style.top=Math.max(0,window.innerHeight-t.top-t.height)+"px")}),d.one("mount",function(){var t=imf.state.get("settings")||{};imf.state.set("settings",t)})}),riot.tag2("imf-share-panel",'<div class="dm-share-buttons"> <div class="dm-share"> <span data-babel="#selecteddata"></span> <button class="dm-share-button" data-type="excel" data-what="selected" data-babel="#excel"></button> </div> <div class="dm-share"> <span data-babel="#alldata"></span> <button class="dm-share-button" data-type="excel" data-what="all" data-babel="#excel"></button> </div> <div class="dm-share"> <span data-babel="#map"></span> <button class="dm-share-button" data-type="png" data-what="map" data-babel="#png"></button> </div> <div class="dm-share"> <span data-babel="#chart"></span> <button class="dm-share-button" data-type="png" data-what="chart" data-babel="#png"></button> </div> <div class="dm-share fix"> <span class="social-label" data-babel="#socialmedia"></span> <div class="dm-share-button dm-social"> <input type="radio" name="social" id="fld-1" value="twitter"> <input type="radio" name="social" id="fld-2" value="facebook"> <input type="radio" name="social" id="fld-3" value="linkedin"> <input type="radio" name="social" id="fld-4" value="mail"> <span> <label for="fld-1"></label> <label for="fld-2"></label> <label for="fld-3"></label> <label for="fld-4" class="mail"></label> </span> <span data-babel="#thankyou" class="noie9 thank"></span> <span data-babel="#share" class="noie9"></span> </div> </div> </div> <div class="dm-deeplink"> <div data-babel="#deeplink_desc"></div> <input value="{url}"><button class="dm-copy-button" data-babel="#copy"></button> </div>','imf-share-panel,[riot-tag="imf-share-panel"],[data-is="imf-share-panel"]{ display: block; color: #000; text-align: center; padding: 0px 30px; } imf-share-panel .dm-deeplink,[riot-tag="imf-share-panel"] .dm-deeplink,[data-is="imf-share-panel"] .dm-deeplink{ clear: both; margin: 20px; padding-left: 60px; } imf-share-panel .dm-share-buttons,[riot-tag="imf-share-panel"] .dm-share-buttons,[data-is="imf-share-panel"] .dm-share-buttons{ } imf-share-panel .dm-share,[riot-tag="imf-share-panel"] .dm-share,[data-is="imf-share-panel"] .dm-share{ display: inline-block; padding: 10px 20px; overflow: hidden; } imf-share-panel .dm-share.fix,[riot-tag="imf-share-panel"] .dm-share.fix,[data-is="imf-share-panel"] .dm-share.fix{ position: relative; top: -5px; } imf-share-panel .dm-share span,[riot-tag="imf-share-panel"] .dm-share span,[data-is="imf-share-panel"] .dm-share span{ display: block; } imf-share-panel input,[riot-tag="imf-share-panel"] input,[data-is="imf-share-panel"] input{ height: 34px; min-width: 200px; color: #838282; border: 1px solid #e2e2e3; } imf-share-panel button:focus,[riot-tag="imf-share-panel"] button:focus,[data-is="imf-share-panel"] button:focus,imf-share-panel input:focus,[riot-tag="imf-share-panel"] input:focus,[data-is="imf-share-panel"] input:focus{ outline: none; } imf-share-panel .dm-share-button,[riot-tag="imf-share-panel"] .dm-share-button,[data-is="imf-share-panel"] .dm-share-button,imf-share-panel .dm-copy-button,[riot-tag="imf-share-panel"] .dm-copy-button,[data-is="imf-share-panel"] .dm-copy-button,imf-share-panel .dm-social,[riot-tag="imf-share-panel"] .dm-social,[data-is="imf-share-panel"] .dm-social{ color: #fff; height: 30px; background: #0cafae; font-weight: 300; border: none; padding: 5px 10px; cursor: pointer; text-transform: uppercase; } imf-share-panel .dm-copy-button,[riot-tag="imf-share-panel"] .dm-copy-button,[data-is="imf-share-panel"] .dm-copy-button{ border-radius: 4px; margin-left: 10px; display: inline-block; -webkit-box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); -moz-box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); } imf-share-panel .dm-share-button,[riot-tag="imf-share-panel"] .dm-share-button,[data-is="imf-share-panel"] .dm-share-button{ padding: 5px 20px; } imf-share-panel .spinner.dm-share-button,[riot-tag="imf-share-panel"] .spinner.dm-share-button,[data-is="imf-share-panel"] .spinner.dm-share-button{ pointer-events: none; cursor: auto; opacity: 0.5; color: transparent; width: 140px; position: relative; } imf-share-panel .spinner.dm-share-button:before,[riot-tag="imf-share-panel"] .spinner.dm-share-button:before,[data-is="imf-share-panel"] .spinner.dm-share-button:before{ left: 6px; top: 6px; } imf-share-panel .spinner.dm-share-button:after,[riot-tag="imf-share-panel"] .spinner.dm-share-button:after,[data-is="imf-share-panel"] .spinner.dm-share-button:after{ content: "please wait"; position: absolute; left: 30px; line-height: 30px; top: 0; color: #fff; } imf-share-panel .dm-share-button,[riot-tag="imf-share-panel"] .dm-share-button,[data-is="imf-share-panel"] .dm-share-button,imf-share-panel .dm-social,[riot-tag="imf-share-panel"] .dm-social,[data-is="imf-share-panel"] .dm-social{ border-radius: 15px; } imf-share-panel .dm-social,[riot-tag="imf-share-panel"] .dm-social,[data-is="imf-share-panel"] .dm-social{ position: relative; background: #1b335f; overflow: hidden; top: 3px; height: 29px; } imf-share-panel .social-label,[riot-tag="imf-share-panel"] .social-label,[data-is="imf-share-panel"] .social-label{ position: relative; top: 3px; } imf-share-panel .dm-social .thank,[riot-tag="imf-share-panel"] .dm-social .thank,[data-is="imf-share-panel"] .dm-social .thank,imf-share-panel .dm-social span:last-child,[riot-tag="imf-share-panel"] .dm-social span:last-child,[data-is="imf-share-panel"] .dm-social span:last-child{ position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: inherit; display: block; line-height: 30px; background: #0cafae; transition: .3s ease-out; transform-origin: 50% 0; } imf-share-panel .dm-social .thank,[riot-tag="imf-share-panel"] .dm-social .thank,[data-is="imf-share-panel"] .dm-social .thank{ background: none; color: white; transform: translateY(-100%); transition: .3s .5s ease-out; } imf-share-panel .dm-social input,[riot-tag="imf-share-panel"] .dm-social input,[data-is="imf-share-panel"] .dm-social input{ display: none; } imf-share-panel .dm-social input:checked ~ span label,[riot-tag="imf-share-panel"] .dm-social input:checked ~ span label,[data-is="imf-share-panel"] .dm-social input:checked ~ span label{ transform: translateY(100%); } imf-share-panel .dm-social input:checked ~ .thank,[riot-tag="imf-share-panel"] .dm-social input:checked ~ .thank,[data-is="imf-share-panel"] .dm-social input:checked ~ .thank{ transform: none; } imf-share-panel .dm-social input:checked ~ span:last-child,[riot-tag="imf-share-panel"] .dm-social input:checked ~ span:last-child,[data-is="imf-share-panel"] .dm-social input:checked ~ span:last-child{ display: none; } imf-share-panel .dm-social label,[riot-tag="imf-share-panel"] .dm-social label,[data-is="imf-share-panel"] .dm-social label{ display: inline-block; float: left; width: 26px; height: 26px; padding-left: 0; transform-origin: 50% 50%; transform: translateX(20em) rotateZ(180deg); text-decoration: none; transition: 0s .3s; cursor: pointer; position: relative; top: -5px; } imf-share-panel .dm-social label:before,[riot-tag="imf-share-panel"] .dm-social label:before,[data-is="imf-share-panel"] .dm-social label:before{ font-family: dm-icons; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; display: block; color: #fff; line-height: 28px; } imf-share-panel .dm-social label:nth-child(1):before,[riot-tag="imf-share-panel"] .dm-social label:nth-child(1):before,[data-is="imf-share-panel"] .dm-social label:nth-child(1):before{ content: "\\ea96"; } imf-share-panel .dm-social label:nth-child(2):before,[riot-tag="imf-share-panel"] .dm-social label:nth-child(2):before,[data-is="imf-share-panel"] .dm-social label:nth-child(2):before{ content: "\\ea91"; } imf-share-panel .dm-social label:nth-child(3):before,[riot-tag="imf-share-panel"] .dm-social label:nth-child(3):before,[data-is="imf-share-panel"] .dm-social label:nth-child(3):before{ content: "\\eac9"; } imf-share-panel .dm-social label:nth-child(4):before,[riot-tag="imf-share-panel"] .dm-social label:nth-child(4):before,[data-is="imf-share-panel"] .dm-social label:nth-child(4):before{ content: "\\ea83"; font-size: 18px; position: relative; top: -1px; } imf-share-panel .dm-social:hover span:last-child,[riot-tag="imf-share-panel"] .dm-social:hover span:last-child,[data-is="imf-share-panel"] .dm-social:hover span:last-child{ transform: rotateX(90deg); } imf-share-panel .dm-social:hover label,[riot-tag="imf-share-panel"] .dm-social:hover label,[data-is="imf-share-panel"] .dm-social:hover label{ transition: .3s ease-out; transform: none; } imf-share-panel .dm-social:hover label:nth-child(1),[riot-tag="imf-share-panel"] .dm-social:hover label:nth-child(1),[data-is="imf-share-panel"] .dm-social:hover label:nth-child(1){ transition-delay: 0.26667s; } imf-share-panel .dm-social:hover label:nth-child(2),[riot-tag="imf-share-panel"] .dm-social:hover label:nth-child(2),[data-is="imf-share-panel"] .dm-social:hover label:nth-child(2){ transition-delay: 0.33333s; } imf-share-panel .dm-social:hover label:nth-child(3),[riot-tag="imf-share-panel"] .dm-social:hover label:nth-child(3),[data-is="imf-share-panel"] .dm-social:hover label:nth-child(3){ transition-delay: 0.4s; } imf-share-panel .dm-social:hover label:nth-child(4),[riot-tag="imf-share-panel"] .dm-social:hover label:nth-child(4),[data-is="imf-share-panel"] .dm-social:hover label:nth-child(4){ transition-delay: 0.46667s; }',"",function(t){var r=this;imf.state.listen("settings",function(){r.update()}),r.root.addEventListener("click",function(p){if(p.target.hasAttribute("data-type")){var t=p.target.getAttribute("data-type"),h=p.target.getAttribute("data-what");if("excel"==t){var e=document.querySelector("base").getAttribute("href")+"/export/excel.php?indicator="+imf.state.get("indicator");if("selected"==h)e+="&geoitems="+(imf.state.get("geoitem")||[]).join(",");window.location.href=e}else{for(var i=r;i.parent;i=i.parent);!function t(e){if(e&&e.tags){if(e.root&&"IMF-INDICATOR-PANEL"==e.root.nodeName)return;if(e.root.nodeName==("map"==h?"MW-MAP":"MW-CHART")){p.target.classList.add("spinner");var i=e[h](),a=imf.data.indicators[imf.state.get("indicator")],n=i.export("svg",{parameters:{chart:{width:2560,height:1400}}});if("map"==h){if("AFRREO"==imf.state.get("dataset")){var r=i.width(),o=i.height();n=n.replace('id="map"','id="map" transform="scale(2.2) translate('+-r/3.206+","+-o/2.59+')"').replace(/stroke-width="1"/g,'stroke-width="0.5"')}"color"==a.mode&&(n+='<div class="map-legend">'+mw.support.legendHTML(a.legend)+"</div>")}else if("chart"==h){n=n.replace("<svg ",'<svg viewPort="0 0 1280 700" ');var s=document.querySelectorAll("li.dm-legend-item");n+='<div class="dm-chart-legend">';for(var l=0;l<s.length;l++)n+='<div class="dm-legend-item">'+s[l].innerHTML+"</div>";n+="</div>"}var d={download:!0,type:"png",template:"datamapper-large",content:n,parameters:{title:imf.data.meta.general_title,copyright:imf.data.meta.copyright,indicator:a.label,unit:a.unit,source:imf.data.meta.source+" "+a.source,year:"map"==h?", "+imf.state.get("year"):""}};mw.support.sendToServer(!0,"export/png.php",d,function(){p.target.classList.remove("spinner")})}else for(var c in e.tags)t(e.tags[c])}}(i)}}}),r.on("mount",function(){r.root.querySelector(".dm-copy-button").addEventListener("click",function(){var t=this.previousElementSibling;t.select();try{document.execCommand("copy"),t.blur()}catch(t){alert(imf.translate("copyfailed"))}});for(var n=r.root.querySelectorAll('input[type="radio"]'),t=0;t<n.length;t++)n[t].addEventListener("change",function(){var t=imf.data.datasets[r.opts.dataset].title,e=imf.data.indicators[r.opts.indicator].label,i=imf.data.meta.general_title+": "+t+" - "+e,a=(imf.data.meta[this.value]||{twitter:"https://twitter.com/intent/tweet?url={URL}&text={TITLE}",facebook:"http://www.facebook.com/sharer.php?u={URL}",linkedin:"http://www.linkedin.com/shareArticle?mini=true&url={URL}&title={TITLE}",mail:"mailto:?subject={TITLE}&body={URL}"}[this.value]).replace("{URL}",encodeURIComponent(window.location.href)).replace("{TITLE}",encodeURIComponent(i));window.open(a,"_blank"),setTimeout(function(){for(var t=0;t<n.length;t++)n[t].checked=!1},1e3)})}),r.on("update",function(){r.url=imf.deeplink()})}),riot.tag2("mw-chart","",'mw-chart,[riot-tag="mw-chart"],[data-is="mw-chart"]{ display: block; } mw-chart.no-data .year-slider,[riot-tag="mw-chart"].no-data .year-slider,[data-is="mw-chart"].no-data .year-slider{ display: none; }','class="no-data"',function(s){var l,d,c=this,p=0,h="";c.chart=function(){return l};var t=document.createElement("div");c.root.appendChild(t),c.on("update",function(){if(s.indicators&&s.geoitems){var t=1<s.indicators.length,e=t?s.geoitems[0]:s.indicators[0],i=t?s.indicators:s.geoitems;if(e){if(l&&d==e){var a=(s.exploded||[]).concat(i);s.year&&l.year(s.year),a.join(",")!=h&&(l.series(a,!1),l.redraw(p&&p!=c.root.clientWidth),p=c.root.clientWidth,h=a.join(","))}else{l&&l.destroy();var n=new mw.StateManager({kickstart:!1,data:s.datamanager}),r=s.datamanager.indicators[s.indicator],o={resize:!0,type:s.type||"line",state:{manager:n},xaxis:{multiples:!0,range:{minimum:"dataset",maximum:"dataset",extend:!1}},yaxis:{text:{}},indicator:t?i:e,geoitem:t?e:i,export:{width:1280}};if(s.range&&(o.xaxis.range.minimum=+s.range.from,o.xaxis.range.maximum=+s.range.to),s.future&&(o.future={from:s.future}),mw.support.extend(s.options||{},o),1<s.axisCount&&(o.yaxis.text.color="#fff",o.yaxis.text.backgroundColor="legend",o.yaxis.count=s.axisCount),!t&&e){r=s.datamanager.indicators[e];o.yaxis.labels&&(o.yaxis.range={},(r.minvalue||r.maxvalue)&&(r.minvalue&&(o.yaxis.range.minimum=+r.minvalue),r.maxvalue&&(o.yaxis.range.maximum=+r.maxvalue))),s.range&&"log"==s.axis&&0<(r.minvalue||s.range.min)&&0<(r.maxvalue||s.range.max)&&(o.yaxis.type="logarithmic")}l=new mw.Chart(c.root,o),s.statemanager&&(s.statemanager.listen("highlight",function(t){var e=s.exploded||[];l.highlight(t,-1==e.indexOf(t)?void 0:"#000")}),s.statemanager.listen("exploded-countries",function(){c.update()}),s.statemanager.listen("settings",function(t){t.yaxis!=s.axis&&(s.axis=t.yaxis,l&&(l.destroy(),l=null,c.update()))}),l.listen("hover",function(t){s.statemanager.set("highlight",t?t.geoitem:null)})),s.onYear&&l.listen("year",s.onYear)}d=e}}})}),riot.tag2("mw-map",'<div if="{resize}" class="map-resize"> <div class="block"> <span data-babel="#regularmap"></span> <input type="checkbox" id="resizebutton"> </div> <div class="block"> <div> <span data-babel="#relativeto"></span> <span class="label">{label} ({unit})</span> </div> <div class="label" id="resizelabel"></div> </div> </div> <div class="map"></div>','mw-map,[riot-tag="mw-map"],[data-is="mw-map"]{ display: block; font-size: 11pt; background: #fff; } mw-map .map-resize,[riot-tag="mw-map"] .map-resize,[data-is="mw-map"] .map-resize{ display: table; } mw-map .map-resize .block,[riot-tag="mw-map"] .map-resize .block,[data-is="mw-map"] .map-resize .block{ display: table-cell; } mw-map .map-resize .label,[riot-tag="mw-map"] .map-resize .label,[data-is="mw-map"] .map-resize .label{ font-style: italic; } mw-map .map-legend,[riot-tag="mw-map"] .map-legend,[data-is="mw-map"] .map-legend{ position: absolute; bottom: 0; left: 0; padding: 10px 20px; background-color: rgba(255,255,255,0.5); } mw-map .map-legend-item,[riot-tag="mw-map"] .map-legend-item,[data-is="mw-map"] .map-legend-item{ font-size: 10px; line-height: 12px; -webkit-transition: width 0.1s linear; transition: width 0.1s linear; overflow: hidden; white-space: nowrap; } mw-map .map-legend-swatch,[riot-tag="mw-map"] .map-legend-swatch,[data-is="mw-map"] .map-legend-swatch{ display: inline-block; position: relative; top: 1px; width: 9px; height: 9px; margin-right: 5px; } mw-map .map-legend-swatch:after,[riot-tag="mw-map"] .map-legend-swatch:after,[data-is="mw-map"] .map-legend-swatch:after{ content: ""; position: absolute; left: 0; top: 0; right: 0; bottom: 0; border: 1px solid rgba(255,255,255,0.5); } mw-map[mode="circles"] .map-legend,[riot-tag="mw-map"][mode="circles"] .map-legend,[data-is="mw-map"][mode="circles"] .map-legend{ display: none; } mw-map .pan-button,[riot-tag="mw-map"] .pan-button,[data-is="mw-map"] .pan-button{ display: none; cursor: pointer; position: absolute; background-position: center; background-repeat: no-repeat; } mw-map .left.pan-button,[riot-tag="mw-map"] .left.pan-button,[data-is="mw-map"] .left.pan-button,mw-map .right.pan-button,[riot-tag="mw-map"] .right.pan-button,[data-is="mw-map"] .right.pan-button{ width: 36px; height: 56px; margin-top: -28px; -moz-background-size: 15px 30px; -webkit-background-size: 15px 30px; background-size: 15px 30px; } mw-map .top.pan-button,[riot-tag="mw-map"] .top.pan-button,[data-is="mw-map"] .top.pan-button,mw-map .bottom.pan-button,[riot-tag="mw-map"] .bottom.pan-button,[data-is="mw-map"] .bottom.pan-button{ width: 56px; height: 36px; margin-left: -28px; -moz-background-size: 30px 15px; -webkit-background-size: 30px 15px; background-size: 30px 15px; } mw-map .has-touched .pan-button,[riot-tag="mw-map"] .has-touched .pan-button,[data-is="mw-map"] .has-touched .pan-button{ display: block; } mw-map .map-zoom-1 .pan-button,[riot-tag="mw-map"] .map-zoom-1 .pan-button,[data-is="mw-map"] .map-zoom-1 .pan-button{ display: none; } mw-map .left.pan-button,[riot-tag="mw-map"] .left.pan-button,[data-is="mw-map"] .left.pan-button{ left: 0; top: 50%; border-top-right-radius: 7px; border-bottom-right-radius: 7px; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%2027%2044%27%3E%3Cpath%20d%3D%27M27%2C0L0%2C22L27%2C44%27%20stroke%3D%27%231b335f%27%20stroke-width%3D%272%27%20fill%3D%27none%27%2F%3E%3C%2Fsvg%3E"); } mw-map .right.pan-button,[riot-tag="mw-map"] .right.pan-button,[data-is="mw-map"] .right.pan-button{ right: 0; top: 50%; border-top-left-radius: 7px; border-bottom-left-radius: 7px; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%2027%2044%27%3E%3Cpath%20d%3D%27M0%2C0L27%2C22L0%2C44%27%20stroke%3D%27%231b335f%27%20stroke-width%3D%272%27%20fill%3D%27none%27%2F%3E%3C%2Fsvg%3E"); } mw-map .top.pan-button,[riot-tag="mw-map"] .top.pan-button,[data-is="mw-map"] .top.pan-button{ top: 0; left: 50%; border-bottom-right-radius: 7px; border-bottom-left-radius: 7px; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%2044%2027%27%3E%3Cpath%20d%3D%27M0%2C27L22%2C0L44%2C27%27%20stroke%3D%27%231b335f%27%20stroke-width%3D%272%27%20fill%3D%27none%27%2F%3E%3C%2Fsvg%3E"); } mw-map .bottom.pan-button,[riot-tag="mw-map"] .bottom.pan-button,[data-is="mw-map"] .bottom.pan-button{ bottom: 0; left: 50%; border-top-right-radius: 7px; border-top-left-radius: 7px; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%2044%2027%27%3E%3Cpath%20d%3D%27M0%2C0L22%2C27L44%2C0%27%20stroke%3D%27%231b335f%27%20stroke-width%3D%272%27%20fill%3D%27none%27%2F%3E%3C%2Fsvg%3E"); } mw-map input[type="checkbox"],[riot-tag="mw-map"] input[type="checkbox"],[data-is="mw-map"] input[type="checkbox"]{ -webkit-appearance: none; -moz-appearance: none; -ms-appearance: none; appearance: none; border: 1px solid #c1c2c4; border-radius: 9px; cursor: pointer; height: 18px; position: relative; margin: 0px 5px; top: 4px; width: 34px; outline: none; transition: border .25s .15s, box-shadow .25s .3s, padding .25s; } mw-map input[type="checkbox"]:after,[riot-tag="mw-map"] input[type="checkbox"]:after,[data-is="mw-map"] input[type="checkbox"]:after{ background-color: #0cafae; border-radius: 9px; box-shadow: inset 0 -3px 3px hsla(0,0%,0%,.025), 0 1px 4px hsla(0,0%,0%,.15), 0 4px 4px hsla(0,0%,0%,.1); content: \'\'; display: block; width: 18px; height: 18px; left: 0; position: absolute; right: 16px; top: -1px; transition: border .25s .15s, left .25s .1s, right .15s .175s; } mw-map input[type="checkbox"]:checked,[riot-tag="mw-map"] input[type="checkbox"]:checked,[data-is="mw-map"] input[type="checkbox"]:checked{ padding-left: 17px; transition: border .25s, box-shadow .25s, padding .25s .15s; } mw-map input[type="checkbox"]:checked:after,[riot-tag="mw-map"] input[type="checkbox"]:checked:after,[data-is="mw-map"] input[type="checkbox"]:checked:after{ left: 17px; right: 0; transition: border .25s, left .15s .25s, right .25s .175s; }',"",function(a){var i,n,e,r,o,s,l,d,c,p=this,h=!1,u=[],m={};function f(t){var e;if(l&&-1==l.indexOf(t))return"#f7f7f7";if("circles"!=p.opts.mode&&c){var i=m[t]||{};e=mw.support.legendColor(c,i[p.opts.year])}else e=a.nodata||"#d5d7da";return e&&r&&(o?-1==o.indexOf(t)&&(e=mw.support.addAlpha(e,.2)):r!=t&&(e=mw.support.addAlpha(e,.2))),e}p.map=function(){return i},imf.state.listen("settings",function(t){t.legend&&t.legend.length&&JSON.stringify(c)!==JSON.stringify(t.legend)&&(c=t.legend,i.legend(c),i.color(f))}),imf.on("reset",function(){p.resizebutton.checked=!1,i&&(i.zoom(!1,0),i.resize(!1,0))}),p.on("mount",function(){p.resizebutton.addEventListener("change",function(){i&&(this.checked?a.datamanager.load(p.resize,function(){i.resize(p.resize)}):i.resize(!!this.checked&&p.resize))}),!i&&p.root.clientWidth&&p.update()}),p.on("update",function(){if(p.resize=!(!a.indicator||!a.datamanager.indicators[a.indicator])&&a.datamanager.indicators[a.indicator].resize_ind,p.resize&&(p.label=a.datamanager.indicators[p.resize].label,p.unit=a.datamanager.indicators[p.resize].unit),a.indicator&&0!=p.root.clientWidth&&!i){e=new mw.map.layers.Highlight({template:function(t){var e="<div class='label'>{GEOITEM}</div>";return l&&-1!=l.indexOf(t.geoitem)&&(e+="<div class='value'>"+a.datamanager.value(a.indicator,t.geoitem,a.year)+"</div>"),p.resize&&p.resizebutton.checked&&(p.resizelabel.innerHTML=a.datamanager.geoitems[t.geoitem].label+", "+a.datamanager.value(p.resize,t.geoitem,a.year)),e}}),n=new mw.map.layers.Circles({color:"rgba(17,114,79,0.6)",size:a.indicator});var t={map:{padding:10,resize:!0,url:"config/world.json"},circles:!1,state:{indicator:!1,year:!1,geoitem:!1},data:new mw.StateManager({data:a.datamanager,kickstart:!1}),layers:[mw.map.layers.Legend,e,n],speed:{resize:1},zoom:{maximum:10,touch:!1},events:{hover:"follow",click:!0,touch:"hover"},export:{width:1280}};a.ignoreAspect&&(t.map.aspect=!1),mw.support.extend(a.options||{},t),(i=new mw.Map(p.root.querySelector(".map"),t)).listen("ready",function(){h=!0,p.update();var t=riot.route.query();t.zoom&&i.zoom(t.zoom,.01),t.highlight&&setTimeout(function(){i.highlight(t.highlight)},100)}),a.statemanager&&(a.statemanager.listen("highlight",function(t){t!=r&&(r=t,o=p.opts.regions[r],i.color(f),e.hide())}),a.statemanager.listen("custom-geoitems",function(t){t.length>u.length&&(i.zoom(t[t.length-1]),setTimeout(function(){i.highlight(t[t.length-1])},1100)),u=t.slice()}),i.listen("hover",function(t){var e=t?t.geoitem:null;e!=r&&(a.statemanager.set("highlight",r=e),r||(i.color(f),p.resizelabel.innerHTML=""))}),i.listen("click",function(t){if(t.geoitem){if(l&&-1==l.indexOf(t.geoitem))return;var e=a.statemanager.get("geoitem");-1==e.indexOf(t.geoitem)&&(e.push(t.geoitem),a.statemanager.set("geoitem",e))}}))}}),p.on("updated",function(){if(h){if(a.indicator!=d&&(p.resizebutton.checked&&!p.resize&&(p.resizebutton.checked=!1,i.resize(!1,0)),"circles"==a.mode?(n.size(a.year,a.indicator),n.toggle(!0),i.color(f)):(i.legend(a.datamanager.indicators[a.indicator].legend),n.toggle(!1)),d=a.indicator)){m=a.datamanager.indicators[d].values;var t=imf.state.get("settings")||{};t.legend=c=a.datamanager.indicators[d].legend,imf.state.set("settings",t)}if(i.region(a.regions),a.area&&a.indicator){var e=-1!=a.area.indexOf("WORLD");e&&a.area==s||(a.area&&!e?i.zoom(a.area,0):i.zoom(!1,0),s=a.area,l=a.regions[s])}("circles"==a.mode||p.resize)&&i.year(a.year),"color"!=a.mode&&null!=a.mode||i.color(f),p.resizebutton.checked&&p.resize&&i.resize(p.resize)}})}),riot.tag2("mw-slider","",'mw-slider,[riot-tag="mw-slider"],[data-is="mw-slider"]{ display: block; height: 40px; position: relative; z-index: 2000; background-color: #e9ecef; } mw-slider .slider-labels,[riot-tag="mw-slider"] .slider-labels,[data-is="mw-slider"] .slider-labels{ position: relative; } mw-slider .slider-label,[riot-tag="mw-slider"] .slider-label,[data-is="mw-slider"] .slider-label{ width: 40px; margin-left: 30px; padding-top: 20px; text-align: center; font-size: 11pt; } mw-slider .slider-label:before,[riot-tag="mw-slider"] .slider-label:before,[data-is="mw-slider"] .slider-label:before{ content: ""; width: 1px; height: 15px; position: absolute; top: 0; left: 20px; border-left: 1px solid #77789e; } mw-slider .minor.slider-label:before,[riot-tag="mw-slider"] .minor.slider-label:before,[data-is="mw-slider"] .minor.slider-label:before{ height: 7px; } mw-slider .slider-handle,[riot-tag="mw-slider"] .slider-handle,[data-is="mw-slider"] .slider-handle{ position: relative; width: 80px; top: -14px; padding: 2px 12px 4px; border-radius: 14px; text-align: left; color: #fff; z-index: 1; white-space: nowrap; font-size: 11pt; border: 1px solid #c4c4c4; -webkit-box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); -moz-box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); box-shadow: 0px 3px 2.91px 0.09px rgba(0, 0, 0, 0.4); background: #0cafae; background: -moz-linear-gradient(-45deg, #0cafae 0%, #0cafae 0%, #0a9392 100%, #0a9392 100%); background: -webkit-linear-gradient(-45deg, #0cafae 0%,#0cafae 0%,#0a9392 100%,#0a9392 100%); background: linear-gradient(135deg, #0cafae 0%,#0cafae 0%,#0a9392 100%,#0a9392 100%); filter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\'#0cafae\', endColorstr=\'#0a9392\',GradientType=1 ); } mw-slider .slider-value,[riot-tag="mw-slider"] .slider-value,[data-is="mw-slider"] .slider-value{ padding-left: 2px; } mw-slider .slider-handle:before,[riot-tag="mw-slider"] .slider-handle:before,[data-is="mw-slider"] .slider-handle:before,mw-slider .slider-value:before,[riot-tag="mw-slider"] .slider-value:before,[data-is="mw-slider"] .slider-value:before{ content: ""; position: absolute; width: 1px; height: 10px; border-left: 1.5px solid #b6b8ba; border-right: 1.5px solid #b6b8ba; top: 9px; } mw-slider .slider-handle:before,[riot-tag="mw-slider"] .slider-handle:before,[data-is="mw-slider"] .slider-handle:before{ left: -7px; } mw-slider .slider-value:before,[riot-tag="mw-slider"] .slider-value:before,[data-is="mw-slider"] .slider-value:before{ right: -7px; } mw-slider .play-button,[riot-tag="mw-slider"] .play-button,[data-is="mw-slider"] .play-button{ position: absolute; right: 10px; top: 50%; margin-top: -6px; width: 12px; height: 12px; background-size: 100% 100%; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%2017%2017%27%3E%3Cpath%20d%3D%27M0%2C0L16%2C8L0%2C16z%27%20fill%3D%27%23fff%27%2F%3E%3C%2Fsvg%3E"); } mw-slider .play-button:hover,[riot-tag="mw-slider"] .play-button:hover,[data-is="mw-slider"] .play-button:hover{ width: 14px; height: 14px; right: 8px; margin-top: -7px; } mw-slider .playing.play-button,[riot-tag="mw-slider"] .playing.play-button,[data-is="mw-slider"] .playing.play-button{ opacity: 0.5; pointer-events: none; } mw-slider[data-frequency="M"] .slider-handle,[riot-tag="mw-slider"][data-frequency="M"] .slider-handle,[data-is="mw-slider"][data-frequency="M"] .slider-handle,mw-slider[data-frequency="Q"] .slider-handle,[riot-tag="mw-slider"][data-frequency="Q"] .slider-handle,[data-is="mw-slider"][data-frequency="Q"] .slider-handle{ font-size: 9pt; padding: 5px 7px 5px; } mw-slider[data-frequency="M"] .play-button,[riot-tag="mw-slider"][data-frequency="M"] .play-button,[data-is="mw-slider"][data-frequency="M"] .play-button,mw-slider[data-frequency="Q"] .play-button,[riot-tag="mw-slider"][data-frequency="Q"] .play-button,[data-is="mw-slider"][data-frequency="Q"] .play-button{ width: 10px; height: 10px; right: 4px; margin-top: -4px; } mw-slider[data-frequency="M"] .play-button:hover,[riot-tag="mw-slider"][data-frequency="M"] .play-button:hover,[data-is="mw-slider"][data-frequency="M"] .play-button:hover,mw-slider[data-frequency="Q"] .play-button:hover,[riot-tag="mw-slider"][data-frequency="Q"] .play-button:hover,[data-is="mw-slider"][data-frequency="Q"] .play-button:hover{ width: 12px; height: 12px; right: 3px; margin-top: -5px; }',"",function(i){var a,s,l,d,n,r=this;function o(t){var n,r;function o(){clearTimeout(r),t.target.classList.remove("playing"),document.body.removeEventListener("touchstart",o),document.body.removeEventListener("mousedown",o)}n=d==s?a:d,function t(){if(n==s)o();else{if(1==l)n++;else if(4==l){var e=Math.floor(n/10),i=n%10;5==++i&&(i=1,e++),n=String(e)+i}else{e=Math.floor(n/100);var a=n%100;13==++a&&(a=1,e++),n=String(e)+(a<10?"0":"")+a}imf.state.set("year",n),r=setTimeout(t,200)}}(),t.target.classList.add("playing"),document.body.addEventListener("touchstart",o),document.body.addEventListener("mousedown",o),t.stopPropagation(),t.preventDefault()}var c={quarter:Array(4),month:Array(12)};for(var t in c)for(var e=0;e<c[t].length;e++)c[t][e]=imf.data.meta[t+(e+1)];r.on("update",function(t){if(i.range&&i.value){if(n)a==i.range.from&&s==i.range.to&&l==i.step||n.range(+i.range.from,+i.range.to,1==i.step?1:4==i.step?"Q":"M");else{n=new mw.Slider(r.root,{percentages:!0,handle:"<div class='slider-handle'>{VAL}<div class='play-button'></div></div>",value:i.value||0,range:{minimum:+i.range.from,maximum:+i.range.to,step:1==i.step?1:4==i.step?"Q":"M"},labels:{months:c.month,quarters:c.quarter,multiple:!0,every:i.labels&&"false"!=i.labels?5:0}});var e=r.root.querySelector(".play-button");e&&(e.addEventListener("touchstart",o),e.addEventListener("mousedown",o)),i.onChange&&n.listen("update",i.onChange)}d!=i.value&&n.set(i.value),r.root.style.display=i.range&&i.value?"":"none",a=i.range.from,s=i.range.to,l=i.step,d=i.value}})}),riot.tag2("radio-group",'<div class="uninitialized dm-radio-buttons"></div> <yield></yield>','radio-group,[riot-tag="radio-group"],[data-is="radio-group"]{ display: block; } radio-group .uninitialized.dm-radio-buttons ~ *,[riot-tag="radio-group"] .uninitialized.dm-radio-buttons ~ *,[data-is="radio-group"] .uninitialized.dm-radio-buttons ~ *{ display: none; } radio-group .dm-radio-buttons,[riot-tag="radio-group"] .dm-radio-buttons,[data-is="radio-group"] .dm-radio-buttons{ display: inline-block; border: 1px solid #c1c2c4; height: 30px; margin: 20px 0; padding: 0; color: #000; font-size: 11pt; border-radius: 4px; background-color: #fff; } radio-group .hidden.dm-radio-buttons,[riot-tag="radio-group"] .hidden.dm-radio-buttons,[data-is="radio-group"] .hidden.dm-radio-buttons{ border: none; margin: 0; } radio-group .hidden.dm-radio-buttons *,[riot-tag="radio-group"] .hidden.dm-radio-buttons *,[data-is="radio-group"] .hidden.dm-radio-buttons *{ display: none; } radio-group .dm-radio-buttons > input,[riot-tag="radio-group"] .dm-radio-buttons > input,[data-is="radio-group"] .dm-radio-buttons > input{ display: none; } radio-group .dm-radio-buttons > label,[riot-tag="radio-group"] .dm-radio-buttons > label,[data-is="radio-group"] .dm-radio-buttons > label{ display: inline-block; cursor: pointer; margin: 0; line-height: 27px; padding: 0 15px; position: relative; top: -1px; border: 1px solid transparent; } radio-group .dm-radio-buttons > :checked + label,[riot-tag="radio-group"] .dm-radio-buttons > :checked + label,[data-is="radio-group"] .dm-radio-buttons > :checked + label{ background-color: #0cafae; color: #fff; cursor: default; border-radius: 5px; border: 1px solid #0cafae; top: 0; } radio-group [disabled] + label,[riot-tag="radio-group"] [disabled] + label,[data-is="radio-group"] [disabled] + label{ cursor: auto; opacity: 0.5; }',"",function(c){var p=this,h={};function u(){var t=p.root.firstElementChild;if(0<t.childElementCount)for(var e=t.nextElementSibling,i=0;e;e=e.nextElementSibling)e.hasAttribute("data-title")&&(t.childNodes[i].disabled=e.classList.contains("disabled"),i+=2);for(var a in p.tags){var n=p.tags[a];!h[a]&&n&&n.root&&0<n.root.clientWidth&&(h[a]=!0,n.update())}r()}function r(){for(var t="",e=p.root.getAttribute("data-tab"),i=1;i<p.root.children.length;i++)p.root.children[i].hasAttribute("data-title")&&(p.root.children[i].style.display=i==e?"":"none",1<i&&i==e&&(t=p.root.children[i].getAttribute("data-title").toLowerCase().replace(/[^\w]/g,"")));return t}function m(t){p.root.setAttribute("data-tab",t.target.value);var e=r();p.opts.hash&&(""==e&&history&&history.pushState instanceof Function?history.pushState("",document.title,window.location.pathname):window.location.hash=e),u()}p.on("update",function(){if(1<p.root.childElementCount&&p.root.firstChild.classList.contains("uninitialized")){for(var t=p.root.firstElementChild,e="rg-"+(new Date).getTime()+"-",i=window.location.hash.substr(1),a=t.nextElementSibling,n=1;a;a=a.nextElementSibling)if(a.hasAttribute("data-title")){var r=a.getAttribute("data-title"),o=r.toLowerCase().replace(/[^\w]/g,""),s=document.createElement("input");s.id=e+n,s.type="radio",s.value=n,s.name=e,s.addEventListener("change",m),p.opts.hash&&(i==o||1==n&&""==i)||!p.opts.hash&&1==n?(s.checked=!0,a.style.display="",p.root.setAttribute("data-tab",n)):a.style.display="none",0<a.clientWidth&&(h[n]=!0);var l=document.createElement("label");l.setAttribute("for",s.id),l.innerHTML=r,t.appendChild(s),t.appendChild(l),n++}if(p.root.firstChild.classList.remove("uninitialized"),2==p.root.childElementCount&&p.root.firstChild.classList.add("hidden"),c.collapse){var d=p.root.querySelectorAll(".disabled").length;p.root.childElementCount-2==d&&p.root.firstChild.classList.add("hidden")}}u()})}),riot.tag2("swiper-panel",'<div class="swiper-edge"></div> <div class="swiper-wrapper"> <div each="{item, index in opts.items}" class="swiper-slide"> <yield></yield> </div> </div> <div class="swiper-pagination"></div> <div class="swiper-button swiper-button-prev"></div> <div class="swiper-button swiper-button-next"></div>','swiper-panel,[riot-tag="swiper-panel"],[data-is="swiper-panel"]{ display: block; position: relative; overflow: hidden; background: #e9ecef; } swiper-panel .swiper-wrapper,[riot-tag="swiper-panel"] .swiper-wrapper,[data-is="swiper-panel"] .swiper-wrapper{ position: relative; } swiper-panel.swiper-container-multirow .swiper-wrapper,[riot-tag="swiper-panel"].swiper-container-multirow .swiper-wrapper,[data-is="swiper-panel"].swiper-container-multirow .swiper-wrapper{ overflow-y: hidden; } swiper-panel .swiper-slide,[riot-tag="swiper-panel"] .swiper-slide,[data-is="swiper-panel"] .swiper-slide{ text-align: center; background-color: #fff; position: static; } swiper-panel .swiper-slide:hover,[riot-tag="swiper-panel"] .swiper-slide:hover,[data-is="swiper-panel"] .swiper-slide:hover{ color: #1b335f; } swiper-panel .swiper-slide:hover:after,[riot-tag="swiper-panel"] .swiper-slide:hover:after,[data-is="swiper-panel"] .swiper-slide:hover:after{ background-color: rgba(0,0,0,0.04); } swiper-panel .swiper-slide:last-child,[riot-tag="swiper-panel"] .swiper-slide:last-child,[data-is="swiper-panel"] .swiper-slide:last-child{ margin-bottom: 20px; border-right-width: 1px; } swiper-panel .swiper-pagination-bullets,[riot-tag="swiper-panel"] .swiper-pagination-bullets,[data-is="swiper-panel"] .swiper-pagination-bullets{ bottom: 0 !important; } swiper-panel .swiper-slide > *,[riot-tag="swiper-panel"] .swiper-slide > *,[data-is="swiper-panel"] .swiper-slide > *{ text-align: left; margin: 0 auto; } swiper-panel .swiper-pagination-bullet,[riot-tag="swiper-panel"] .swiper-pagination-bullet,[data-is="swiper-panel"] .swiper-pagination-bullet{ background-color: #aeb4be; opacity: 1; } swiper-panel .swiper-pagination-bullet-active,[riot-tag="swiper-panel"] .swiper-pagination-bullet-active,[data-is="swiper-panel"] .swiper-pagination-bullet-active{ background-color: #444; } swiper-panel .swiper-button,[riot-tag="swiper-panel"] .swiper-button,[data-is="swiper-panel"] .swiper-button{ width: 24px; height: 44px; opacity: 1; margin-top: -43px; -moz-background-size: 12px 26px; -webkit-background-size: 12px 26px; background-size: 12px 26px; -webkit-transition: opacity 0.5s linear; -moz-transition: opacity 0.5s linear; transition: opacity 0.5s linear; } swiper-panel.no-pagination .swiper-button,[riot-tag="swiper-panel"].no-pagination .swiper-button,[data-is="swiper-panel"].no-pagination .swiper-button{ display: none; } swiper-panel.no-pagination .swiper-pagination-bullet,[riot-tag="swiper-panel"].no-pagination .swiper-pagination-bullet,[data-is="swiper-panel"].no-pagination .swiper-pagination-bullet{ background: transparent; } swiper-panel .swiper-button-prev,[riot-tag="swiper-panel"] .swiper-button-prev,[data-is="swiper-panel"] .swiper-button-prev{ border-top-right-radius: 7px; border-bottom-right-radius: 7px; left: 0; background-color: #0cafae; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%2027%2044\'%3E%3Cpath%20d%3D\'M0%2C22L22%2C0l2.1%2C2.1L4.2%2C22l19.9%2C19.9L22%2C44L0%2C22L0%2C22L0%2C22z\'%20fill%3D\'%23fff\'%2F%3E%3C%2Fsvg%3E"); } swiper-panel .swiper-button-next,[riot-tag="swiper-panel"] .swiper-button-next,[data-is="swiper-panel"] .swiper-button-next{ border-top-left-radius: 7px; border-bottom-left-radius: 7px; right: 0; background-color: #0cafae; background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20viewBox%3D\'0%200%2027%2044\'%3E%3Cpath%20d%3D\'M27%2C22L27%2C22L5%2C44l-2.1-2.1L22.8%2C22L2.9%2C2.1L5%2C0L27%2C22L27%2C22z\'%20fill%3D\'%23fff\'%2F%3E%3C%2Fsvg%3E"); } swiper-panel.disabled .swiper-wrapper,[riot-tag="swiper-panel"].disabled .swiper-wrapper,[data-is="swiper-panel"].disabled .swiper-wrapper{ width: auto !important; display: block !important; } swiper-panel.disabled .swiper-slide,[riot-tag="swiper-panel"].disabled .swiper-slide,[data-is="swiper-panel"].disabled .swiper-slide{ float: left; } swiper-panel[data-slides="1"] .swiper-button-prev,[riot-tag="swiper-panel"][data-slides="1"] .swiper-button-prev,[data-is="swiper-panel"][data-slides="1"] .swiper-button-prev,swiper-panel[data-slides="1"] .swiper-button-next,[riot-tag="swiper-panel"][data-slides="1"] .swiper-button-next,[data-is="swiper-panel"][data-slides="1"] .swiper-button-next,swiper-panel.disabled .swiper-pagination,[riot-tag="swiper-panel"].disabled .swiper-pagination,[data-is="swiper-panel"].disabled .swiper-pagination,swiper-panel.disabled .swiper-button-prev,[riot-tag="swiper-panel"].disabled .swiper-button-prev,[data-is="swiper-panel"].disabled .swiper-button-prev,swiper-panel.disabled .swiper-button-next,[riot-tag="swiper-panel"].disabled .swiper-button-next,[data-is="swiper-panel"].disabled .swiper-button-next{ display: none; } swiper-panel .swiper-button-next.swiper-button-disabled,[riot-tag="swiper-panel"] .swiper-button-next.swiper-button-disabled,[data-is="swiper-panel"] .swiper-button-next.swiper-button-disabled,swiper-panel .swiper-button-prev.swiper-button-disabled,[riot-tag="swiper-panel"] .swiper-button-prev.swiper-button-disabled,[data-is="swiper-panel"] .swiper-button-prev.swiper-button-disabled{ visibility: hidden; }','class="swiper-container"',function(t){var e,r,l=this,d=[],c=[];function o(){if(d.length)for(var t=l.root.swiper,e=t.params.slidesPerView,i=t.params.slidesPerColumn,a=Math.ceil(t.slides.length/i),n=t.activeIndex,r=0;r<i;r++)for(var o=0;o<e;o++){var s=r*a+o+n;s<t.slides.length&&!c[s]&&(d[s].update(),c[s]=!0)}}function i(){var t=l.root,e=window.getComputedStyle(t,":after").getPropertyValue("content").replace(/'|"/g,"");if(e&&l.opts.items&&e!=r){r=e,t.swiper&&t.swiper.destroy(!0,!0);var i=e.split("x"),a={slidesPerView:+i[0],slidesPerColumn:+i[1],slidesPerColumnFill:"row",simulateTouch:!1,pagination:".swiper-pagination"},n=l.opts.items.length-i[0];n<0?(a.slidesOffsetBefore=-n*l.root.clientWidth/i[0]/2,l.root.classList.add("no-pagination")):(a.paginationClickable=!0,a.nextButton=".swiper-button-next",a.prevButton=".swiper-button-prev",a.onSlideChangeEnd=o,l.root.classList.remove("no-pagination")),new Swiper(t,a),t.setAttribute("data-slides",l.opts.items.length),setTimeout(function(){for(var t in c=[],l.tags)l.tags[t]instanceof Array?Array.prototype.push.apply(d,l.tags[t]):l.tags[t]&&d.push(l.tags[t]);o()},0)}}function a(){clearTimeout(e),e=setTimeout(i,100)}l.root.classList.contains("disabled")||(l.on("mount",function(){window.addEventListener("resize",a),window.addEventListener("orientationchage",a)}),l.on("updated",a))});
